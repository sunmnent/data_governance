(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[58],{NFBy:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var n=l(a("W9HT"));a("+L6B");var r=l(a("2/Rp"));a("iQDF");var d=l(a("+eQT"));a("5NDa");var i=l(a("5rEg"));a("miYZ");var m=l(a("tsqr")),c=l(a("p0pE"));a("OaEy");var u=l(a("2fM7"));a("g9YV");var o,h,p,f=l(a("wCAj")),v=s(a("q1tI")),E=a("MuoO"),y=(a("7DNP"),l(a("g2cL"))),g=l(a("LvDl")),C=f.default.Column,N=(f.default.ColumnGroup,u.default.Option),k=!0,b=(o=(0,E.connect)(e=>{var t=e.sunmQualityControl,a=e.loading;return{sunmQualityControl:t,pageLoading:a.effects["sunmQualityControl/fetchResult"]}}),o((p=class extends v.Component{constructor(){super(...arguments),this.state={params:{pageNum:1,pageSize:20,type:0,checkTable_temp:"",checkWay_temp:"",alarmLevel_temp:"",minCheckTime:"",maxCheckTime:"",dataItemName:"",orderBy:"",order:""},isSearchLoading:!1,isResetLoading:!1,isSearchLoading2:!1,checkTable:void 0,alarmLevel:void 0,checkWay:"",datetime:void 0,dateString:[],rowActive:"-1",detailVisible:!1,detailModalKey:1},this.getData=(e=>{return this.props.dispatch({type:"sunmQualityControl/fetchResult",payload:{pageParam:{pageNum:e.pageNum,pageSize:e.pageSize},minCheckTime:e.minCheckTime,maxCheckTime:e.maxCheckTime,checkTableName:e.checkTable_temp,checkMethodName:e.checkWay_temp,alarmLevel:e.alarmLevel_temp,dataItemName:e.dataItemName,orderBy:e.orderBy,order:e.order}})}),this.onChangeDate=((e,t)=>{this.setState({datetime:e,dateString:t||[]})}),this.onChangeDateItemName=(e=>{this.setState({params:(0,c.default)({},this.state.params,{dataItemName:e.target.value})})}),this.onChangeCheckTable=((e,t)=>{this.setState({checkTable:t?t.props.children:""})}),this.onChangeCheckWay=(e=>{this.setState({checkWay:e.target.value})}),this.onChangeAlarmLevel=(e=>{this.setState({alarmLevel:e||""})}),this.handleSearch=((e,t)=>{var a=this.state,l=a.params,s=a.dateString,n=a.checkTable,r=a.checkWay,d=a.alarmLevel;this.setState({isSearchLoading:e,isResetLoading:t,params:(0,c.default)({},l,{pageNum:1,minCheckTime:s[0]||"",maxCheckTime:s[1]||"",checkTable_temp:n||"",checkWay_temp:r||"",alarmLevel_temp:d||"",dataItemName:l.dataItemName})},()=>{this.getData(this.state.params).then(()=>{this.setState({isSearchLoading:!1,isResetLoading:!1,isSearchLoading2:!1})})})}),this.handleTableChange=((e,t,a)=>{var l=a.field?g.default.snakeCase(a.field):"",s="",n=this.state.params;"descend"===a.order?s="desc":"ascend"===a.order&&(s="asc"),this.setState({params:(0,c.default)({},n,{pageNum:e.current,orderBy:l,order:s})},()=>{this.getData(this.state.params)})}),this.handleReset=(()=>{this.setState({checkTable:void 0,datetime:void 0,alarmLevel:void 0,dateString:[],checkWay:""},()=>{this.handleSearch(!1,!0)})}),this.handleShowDetail=(e=>{k&&(k=!1,this.props.dispatch({type:"sunmQualityControl/getResultDetail",payload:{id:e.id}}).then(t=>{k=!0,t?this.setState({detailVisible:!0,detailModalKey:333,rowId:e.id}):m.default.error("\u8bf7\u6c42\u5931\u8d25")}))}),this.handleClose=(()=>{this.setState({addVisible:!1,detailVisible:!1,deleteVisible:!1,addModalKey:1,detailModalKey:2})}),this.showTypeTip=(e=>{var t=this.state.params;e&&e.success?(t=(0,c.default)({},t,{pageNum:1}),this.getData(t),this.handleClose(),e.msg&&m.default.success(e.msg)):e&&m.default.error(e.msg)}),this.renderSelect=(e=>{return e&&e.length>0?e.map((e,t)=>{return v.default.createElement(N,{value:e.value,key:t},e.title)}):[]})}componentDidMount(){var e=this.state.params;this.getData(e),this.props.dispatch({type:"sunmQualityControl/getCheckType",payload:""}),this.props.dispatch({type:"sunmQualityControl/getCheckTable",payload:""})}renderSearchList(){var e=this.props.sunmQualityControl.checkTableList,t=this.state,a=t.datetime,l=t.checkTable,s=t.checkWay,n=t.alarmLevel,m=t.isSearchLoading;t.isResetLoading;return v.default.createElement("div",{className:"search-list"},v.default.createElement("div",{className:"item"},v.default.createElement("span",{className:"text"},"\u68c0\u6838\u65b9\u6cd5\uff1a"),v.default.createElement(i.default,{value:s,style:{width:220},onChange:this.onChangeCheckWay,placeholder:"\u8bf7\u8f93\u5165\u68c0\u6838\u65b9\u6cd5",onPressEnter:()=>this.handleSearch(!0,!1)})),v.default.createElement("div",{className:"item"},v.default.createElement("span",{className:"text"},"\u68c0\u6838\u8868\u540d\uff1a"),v.default.createElement(u.default,{allowClear:!0,value:l,style:{width:180},placeholder:"\u8bf7\u9009\u62e9\u68c0\u6838\u8868\u540d",onChange:this.onChangeCheckTable},this.renderSelect(e))),v.default.createElement("div",{className:"item"},v.default.createElement("span",{className:"text"},"\u544a\u8b66\u7ea7\u522b\uff1a"),v.default.createElement(u.default,{allowClear:!0,value:n,style:{width:180},placeholder:"\u8bf7\u9009\u62e9\u544a\u8b66\u7ea7\u522b",onChange:this.onChangeAlarmLevel},v.default.createElement(N,{value:"\u4e00\u822c"},"\u4e00\u822c"),v.default.createElement(N,{value:"\u7d27\u6025"},"\u7d27\u6025"),v.default.createElement(N,{value:"\u4e25\u91cd"},"\u4e25\u91cd"))),v.default.createElement("div",{className:"item"},v.default.createElement("span",{className:"text"},"\u68c0\u6838\u65e5\u671f\uff1a"),v.default.createElement(d.default.RangePicker,{value:a,style:{width:250},format:"YYYY-MM-DD",onChange:this.onChangeDate})),v.default.createElement("div",{className:"item"},v.default.createElement("span",{className:"text"},"\u6570\u636e\u9879\u540d\uff1a"),v.default.createElement(i.default,{value:this.state.params.dataItemName,style:{width:180},onChange:this.onChangeDateItemName,placeholder:"\u8bf7\u8f93\u5165\u6570\u636e\u9879\u540d",onPressEnter:()=>this.handleSearch(!0,!1)})),v.default.createElement(r.default,{loading:m,className:"item-search-btn",type:"primary",icon:"search",onClick:()=>this.handleSearch(!0,!1)},"\u641c\u7d22"))}renderTypeTable(e){var t=e.pageInfo;return v.default.createElement(f.default,{onChange:this.handleTableChange,pagination:{size:"small",pageSize:t.pageSize,total:t.total,simple:!1,showQuickJumper:!0,showTotal:e=>"\u5171\u6709 ".concat(e," \u6761")},className:"sunm-table sunm-control",dataSource:e.list,rowKey:(e,t)=>t,rowClassName:(e,t)=>t==this.state.rowActive?"sunm-row-active":"",onRow:(e,t)=>{return{onClick:()=>{this.setState({rowActive:t})}}}},v.default.createElement(C,{className:"color-blue name",width:"18%",title:"\u68c0\u6838\u65b9\u6cd5\u540d\u79f0",key:"checkMethodName",dataIndex:"checkMethodName",sorter:!0,render:(e,t)=>{return v.default.createElement("a",{title:e,onClick:()=>this.handleShowDetail(t)},e)}}),v.default.createElement(C,{title:"\u68c0\u6838\u8868\u540d",width:"13%",dataIndex:"checkTableName",key:"checkTableName",sorter:!0}),v.default.createElement(C,{title:"\u6570\u636e\u9879\u4e2d\u6587\u540d",width:"15%",dataIndex:"checkCnName",key:"checkCnName",sorter:!0}),v.default.createElement(C,{title:"\u68c0\u6838\u7c7b\u522b",dataIndex:"checkTypeName",key:"checkTypeName"}),v.default.createElement(C,{title:"\u68c0\u6838\u603b\u6570",dataIndex:"checkTotal",key:"checkTotal"}),v.default.createElement(C,{title:"\u68c0\u6838\u5f02\u5e38\u6570",dataIndex:"problemTotal",key:"problemTotal"}),v.default.createElement(C,{title:"\u544a\u8b66\u7ea7\u522b",width:"8%",dataIndex:"alarmLevel",key:"alarmLevel"}),v.default.createElement(C,{title:"\u68c0\u6838\u65e5\u671f",width:"18%",dataIndex:"checkTime",key:"checkTime"}))}render(){var e=this.state,t=(e.deleteVisible,e.mintorName,e.addVisible,e.detailVisible),a=(e.addModalKey,e.detailModalKey),l=e.rowId,s=this.props,r=s.sunmQualityControl,d=(s.deleteLoading,r.resultData);return v.default.createElement("div",{className:"sunm-content sunm-standard-content"},v.default.createElement("div",{className:"sunm-inner-content top"},v.default.createElement("div",{className:"sunm-inner-column"},v.default.createElement("div",{className:"sunm-inner-column-cont"},this.renderSearchList(),v.default.createElement("div",{className:"table-cont"},v.default.createElement(n.default,{className:"loading-spin",spinning:!1}),this.renderTypeTable(d))))),v.default.createElement(y.default,{Key:a,width:760,visible:t,title:"\u5f02\u5e38\u544a\u8b66\u8be6\u60c5",checkMethodId:l,onClose:this.handleClose}))}},h=p))||h);t.default=b},Ok4r:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=l(a("kLXV"));a("+L6B");var r=l(a("2/Rp"));a("OaEy");var d=l(a("2fM7"));a("y8nQ");var i=l(a("Vl3Y"));a("g9YV");var m,c,u,o=l(a("wCAj")),h=s(a("q1tI")),p=a("MuoO"),f=(o.default.Column,i.default.Item,d.default.Option,m=(0,p.connect)(e=>{var t=e.sunmQualityControl;e.loading;return{sunmQualityControl:t}}),m((u=class extends h.Component{constructor(){super(...arguments),this.handleClose=(()=>{this.props.onClose&&this.props.onClose()})}renderCheckMethods(e){var t=e&&e.length>0?e.map((e,t)=>h.default.createElement("li",{key:t,className:"list-item"},e.name)):"";return h.default.createElement("ul",{className:"list"},t)}render(){var e=this.props.sunmQualityControl,t=e.editAlarm,a=this.props,l=a.width,s=a.title,d=a.visible,i=a.Key;a.checkMethodId;return h.default.createElement(n.default,{width:l,key:i,wrapClassName:"sunm-quality-modal vertical-center-modal sunm-code-modal",visible:d,title:s,onCancel:this.handleClose,footer:null},h.default.createElement("div",{className:"sunm-control-modal sunm-detail-modal"},h.default.createElement("div",{className:"result-info"},h.default.createElement("div",{className:"first"},h.default.createElement("label",{className:"item"},h.default.createElement("span",{className:"name"},"\u544a\u8b66\u540d\u79f0\uff1a"),h.default.createElement("a",{className:"text",title:t.alarmName},t.alarmName))),h.default.createElement("div",null,h.default.createElement("label",{className:"item"},h.default.createElement("span",{className:"name"},"\u9608\u503c\u7c7b\u578b\uff1a"),h.default.createElement("a",{className:"text",title:t.thresholdType},t.thresholdType)),h.default.createElement("label",{className:"item"},h.default.createElement("span",{className:"name"},"\u9608\u503c\u5173\u7cfb\uff1a"),h.default.createElement("a",{className:"text",title:t.thresholdLogic},t.thresholdLogic)),h.default.createElement("label",{className:"item"},h.default.createElement("span",{style:{width:50},className:"name"},"\u9608\u503c\uff1a"),h.default.createElement("a",{className:"text",title:t.thresholdValue},t.thresholdValue))),h.default.createElement("div",null,h.default.createElement("label",{className:"item"},h.default.createElement("span",{className:"name"},"\u544a\u8b66\u7ea7\u522b\uff1a"),h.default.createElement("a",{className:"text",title:t.alarmLevel},t.alarmLevel)),h.default.createElement("label",{className:"item"},h.default.createElement("span",{className:"name"},"\u544a\u8b66\u63cf\u8ff0\uff1a"),h.default.createElement("a",{className:"text",title:t.alarmDescription},t.alarmDescription))),h.default.createElement("div",{className:"methods-cont"},h.default.createElement("span",{className:"name"},"\u68c0\u6838\u65b9\u6cd5\uff1a"),h.default.createElement("div",{className:"checkMethods-list"},t.checkMethods&&t.checkMethods.length>0?this.renderCheckMethods(t.checkMethods):"")),h.default.createElement("div",{className:"methods-count"},t.checkMethods&&t.checkMethods.length>0?"".concat(t.checkMethods.length,"\u6761"):"")),h.default.createElement("div",{className:"btn-list"},h.default.createElement(r.default,{type:"primary",onClick:this.handleClose},"\u5173\u95ed"))))}},c=u))||c);t.default=f},bUTB:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var n=l(a("W9HT"));a("Pwec");var r=l(a("CtXQ"));a("BoS7");var d=l(a("Sdc0"));a("5NDa");var i=l(a("5rEg"));a("+L6B");var m=l(a("2/Rp"));a("miYZ");var c=l(a("tsqr")),u=l(a("p0pE"));a("OaEy");var o=l(a("2fM7"));a("g9YV");var h,p,f,v=l(a("wCAj")),E=s(a("q1tI")),y=a("MuoO"),g=s(a("LvDl")),C=l(a("pff7")),N=l(a("Ok4r")),k=l(a("7umO")),b=v.default.Column,S=(v.default.ColumnGroup,o.default.Option),w=!0,L=(h=(0,y.connect)(e=>{var t=e.sunmQualityControl,a=e.loading;return{sunmQualityControl:t,addLoading:a.effects["sunmQualityControl/addAlarm"],editLoading:a.effects["sunmQualityControl/editAlarm"],deleteLoading:a.effects["sunmQualityControl/deleteAlarm"]}}),h((f=class extends E.Component{constructor(){super(...arguments),this.state={params:{pageNum:1,pageSize:20,type:0,alarmName_temp:"",thresholdType_temp:"",alarmLevel_temp:"",orderBy:"",order:""},isSearchLoading:!1,isResetLoading:!1,checkTypeId:void 0,alarmName:"",thresholdType:void 0,alarmLevel:void 0,rowActive:"-1",addVisible:!1,detailVisible:!1,deleteVisible:!1,currentAlarmName:"",addModalKey:1,detailModalKey:2,hangupLoading:!1,hangupLoading2:!1,isAdd:!0},this.getData=(e=>{return this.props.dispatch({type:"sunmQualityControl/fetchSetting",payload:{pageNum:e.pageNum,pageSize:e.pageSize,alarmName:e.alarmName_temp,thresholdType:e.thresholdType_temp,alarmLevel:e.alarmLevel_temp,orderBy:e.orderBy,order:e.order}})}),this.onChangeAlarmName=(e=>{this.setState({alarmName:e.target.value})}),this.onChangeType=(e=>{this.setState({thresholdType:e||""})}),this.onChangeAlarmLevel=(e=>{this.setState({alarmLevel:e||""})}),this.handleSearch=((e,t)=>{var a=this.state,l=a.params,s=a.alarmName,n=a.thresholdType,r=a.alarmLevel;this.setState({isSearchLoading:e,isResetLoading:t,params:(0,u.default)({},l,{pageNum:1,alarmName_temp:s,thresholdType_temp:n,alarmLevel_temp:r})},()=>{this.getData(this.state.params).then(()=>{this.setState({isSearchLoading:!1,isResetLoading:!1})})})}),this.handleTableChange=((e,t,a)=>{var l=a.field?g.default.snakeCase(a.field):"",s="",n=this.state.params;"descend"===a.order?s="desc":"ascend"===a.order&&(s="asc"),this.setState({params:(0,u.default)({},n,{pageNum:e.current,orderBy:l,order:s})},()=>{this.getData(this.state.params)})}),this.handleReset=(()=>{this.setState({alarmName:"",thresholdType:void 0,alarmLevel:void 0},()=>{this.handleSearch(!1,!0)})}),this.handleShowEdit=((e,t)=>{this.setState({isAdd:e,rowId:t.id}),e&&this.setState({addVisible:!0,addModalKey:111}),e||w&&(w=!1,this.getDetail(t.id).then(()=>{w=!0,this.setState({addVisible:!0,addModalKey:111})}))}),this.handleSaveAdd=(e=>{var t=this.state,a=t.isAdd,l=t.rowId;a?this.props.dispatch({type:"sunmQualityControl/addAlarm",payload:e}).then(e=>{this.showTypeTip(e)}):this.props.dispatch({type:"sunmQualityControl/editAlarm",payload:(0,u.default)({id:l},e)}).then(e=>{this.showTypeTip(e)})}),this.getDetail=(e=>{return this.props.dispatch({type:"sunmQualityControl/alarmDetail",payload:{id:e}})}),this.handleHangup=(e=>{this.setState({hangupLoading:!0}),"1"==e.status?this.props.dispatch({type:"sunmQualityControl/hangUpAlarm",payload:{id:e.id}}).then(e=>{this.showTypeTip(e),this.setState({hangupLoading:!1})}):this.props.dispatch({type:"sunmQualityControl/effectAlarm",payload:{id:e.id}}).then(e=>{this.showTypeTip(e),this.setState({hangupLoading:!1})})}),this.handleHangup2=((e,t)=>{var a=t?1:2;this.setState({hangupLoading2:!0}),this.props.dispatch({type:"sunmQualityControl/updateSendEmailStatus",payload:{id:e.id,sendStatus:a}}).then(e=>{this.showTypeTip(e),this.setState({hangupLoading2:!1})})}),this.handleShowDelete=(e=>{this.setState({deleteVisible:!0,currentAlarmName:e.alarmName,rowId:e.id})}),this.handleCancelMinitor=(e=>{this.props.dispatch({type:"sunmQualityControl/deleteAlarm",payload:{id:e}}).then(e=>{this.showTypeTip(e)})}),this.handleShowDetail=(e=>{w&&(w=!1,this.getDetail(e.id).then(()=>{w=!0,this.setState({detailVisible:!0,detailModalKey:222,rowId:e.id})}))}),this.handleClose=(()=>{this.props.dispatch({type:"sunmQualityControl/updateAlarmDetail",payload:{}}),this.setState({addVisible:!1,detailVisible:!1,deleteVisible:!1,addModalKey:1,detailModalKey:2})}),this.showTypeTip=(e=>{var t=this.state.params;e&&e.success?(t=(0,u.default)({},t,{pageNum:1}),this.getData(t),this.handleClose(),e.msg&&c.default.success(e.msg)):e&&c.default.error(e.msg)}),this.renderSelect=(e=>{return e&&e.length>0?e.map((e,t)=>{return E.default.createElement(S,{value:e.value,key:t},e.title)}):[]})}componentDidMount(){var e=this.state.params;this.getData(e),this.props.dispatch({type:"sunmQualityControl/getAlarmCheckMethod",payload:""})}renderAction(){return E.default.createElement("div",{className:"handle-btn-list"},E.default.createElement(m.default,{type:"button",className:"sunm-handle-btn",icon:"plus",onClick:()=>{this.handleShowEdit(!0,{})}},E.default.createElement("span",{className:"handle-text"},"\u65b0\u589e")))}renderSearchList(){var e=this.state,t=e.alarmName,a=e.thresholdType,l=e.alarmLevel,s=e.isSearchLoading,n=e.isResetLoading;return E.default.createElement("div",{className:"search-list"},E.default.createElement("div",{className:"item"},E.default.createElement("span",{className:"text"},"\u544a\u8b66\u540d\u79f0\uff1a"),E.default.createElement(i.default,{value:t,style:{width:180},onChange:this.onChangeAlarmName,placeholder:"\u8bf7\u8f93\u5165\u544a\u8b66\u540d\u79f0",onPressEnter:()=>this.handleSearch(!0,!1,!1)})),E.default.createElement("div",{className:"item"},E.default.createElement("span",{className:"text"},"\u9608\u503c\u7c7b\u578b\uff1a"),E.default.createElement(o.default,{allowClear:!0,value:a,style:{width:180},placeholder:"\u8bf7\u9009\u62e9\u9608\u503c\u7c7b\u578b",onChange:this.onChangeType},E.default.createElement(S,{value:"\u6570\u503c"},"\u6570\u503c"),E.default.createElement(S,{value:"\u767e\u5206\u6bd4"},"\u767e\u5206\u6bd4"))),E.default.createElement("div",{className:"item"},E.default.createElement("span",{className:"text"},"\u544a\u8b66\u7ea7\u522b\uff1a"),E.default.createElement(o.default,{allowClear:!0,value:l,style:{width:180},placeholder:"\u8bf7\u9009\u62e9\u544a\u8b66\u7ea7\u522b",onChange:this.onChangeAlarmLevel},E.default.createElement(S,{value:"1"},"\u4e00\u822c"),E.default.createElement(S,{value:"2"},"\u7d27\u6025"),E.default.createElement(S,{value:"3"},"\u4e25\u91cd"))),E.default.createElement(m.default,{loading:s,className:"item-search-btn",type:"primary",icon:"search",onClick:()=>this.handleSearch(!0,!1,!1)},"\u641c\u7d22"),E.default.createElement(m.default,{loading:n,className:"item-search-btn",type:"primary",icon:"reload",onClick:this.handleReset},"\u91cd\u7f6e"))}renderTypeTable(e){var t=e.pageInfo,a=this.state,l=a.hangupLoading,s=a.hangupLoading2,n=a.rowActive;return E.default.createElement(v.default,{onChange:this.handleTableChange,rowKey:"id",pagination:{size:"small",pageSize:t.pageSize,total:t.total,current:t.page,simple:!1,showQuickJumper:!0,showTotal:e=>"\u5171\u6709 ".concat(e," \u6761")},className:"sunm-table sunm-control",dataSource:e.list,rowKey:(e,t)=>t,rowClassName:(e,t)=>t==n?"sunm-row-active":"",onRow:(e,t)=>{return{onClick:()=>{this.setState({rowActive:t})}}}},E.default.createElement(b,{className:"color-blue name",width:"15%",title:"\u544a\u8b66\u540d\u79f0",key:"alarmName",dataIndex:"alarmName",sorter:!0,render:(e,t)=>{return E.default.createElement("a",{title:e,onClick:()=>this.handleShowDetail(t)},e)}}),E.default.createElement(b,{title:"\u9608\u503c\u7c7b\u578b",width:"8%",dataIndex:"thresholdType",key:"thresholdType"}),E.default.createElement(b,{title:"\u9608\u503c\u5173\u7cfb",width:"8%",dataIndex:"thresholdLogic",key:"thresholdLogic"}),E.default.createElement(b,{title:"\u9608\u503c",dataIndex:"thresholdValue",key:"thresholdValue"}),E.default.createElement(b,{title:"\u68c0\u6838\u65b9\u6cd5\u6570",dataIndex:"checkMethodNumber",key:"checkMethodNumber"}),E.default.createElement(b,{title:"\u544a\u8b66\u6570\u91cf",dataIndex:"alarmNumber",key:"alarmNumber"}),E.default.createElement(b,{title:"\u544a\u8b66\u7ea7\u522b",key:"alarmLevel",render:e=>"\u7d27\u6025"==e.alarmLevel?E.default.createElement("span",{style:{color:"#f00"}},e.alarmLevel):E.default.createElement("span",null,e.alarmLevel)}),E.default.createElement(b,{title:"\u662f\u5426\u542f\u7528",width:"10%",key:"status",render:(e,t,a)=>{return E.default.createElement(d.default,{loading:n==a&&l,checkedChildren:"\u662f",unCheckedChildren:"\u5426",checked:"1"==t.status,onChange:()=>this.handleHangup(t)})}}),E.default.createElement(b,{title:"\u662f\u5426\u53d1\u9001\u90ae\u4ef6",width:"10%",key:"status",render:(e,t,a)=>{return E.default.createElement(d.default,{loading:n==a&&s,checkedChildren:"\u662f",unCheckedChildren:"\u5426",checked:"1"==t.sendEmail,onChange:this.handleHangup2.bind(this,t)})}}),E.default.createElement(b,{className:"desc",title:"\u544a\u8b66\u63cf\u8ff0",width:"15%",key:"alarmDescription",render:e=>E.default.createElement("a",{title:e.alarmDescription},e.alarmDescription)}),E.default.createElement(b,{className:"sunm-text-center",title:"\u64cd\u4f5c",width:"8%",key:"action",render:(e,t)=>{return E.default.createElement("span",null,E.default.createElement("a",{className:"sunm-icon sunm-edit-icon",title:"\u7f16\u8f91",onClick:()=>{this.handleShowEdit(!1,t)}},E.default.createElement(r.default,{type:"form"})),E.default.createElement("a",{className:"sunm-icon sunm-delete-icon",title:"\u5220\u9664",onClick:()=>{this.handleShowDelete(t)}},E.default.createElement(r.default,{type:"delete"})))}}))}renderDelete(e){return E.default.createElement("span",null,"\u786e\u5b9a\u8981\u5220\u9664",E.default.createElement("i",{className:"delete-data"},e),"\u8fd9\u4e2a\u544a\u8b66\u5417\uff1f")}render(){var e=this.state,t=e.deleteVisible,a=e.currentAlarmName,l=e.addVisible,s=e.detailVisible,r=e.addModalKey,d=e.detailModalKey,i=e.rowId,m=this.props,c=m.sunmQualityControl,u=m.deleteLoading,o=m.addLoading,h=m.editLoading,p=c.settingData;return E.default.createElement("div",{className:"sunm-content sunm-standard-content"},E.default.createElement("div",{className:"sunm-inner-content top"},E.default.createElement("div",{className:"sunm-inner-column"},E.default.createElement("div",{className:"sunm-inner-column-cont"},this.renderSearchList(),this.renderAction(),E.default.createElement("div",{className:"table-cont"},E.default.createElement(n.default,{className:"loading-spin",spinning:!1}),this.renderTypeTable(p))))),E.default.createElement(C.default,{Key:r,width:680,visible:l,title:"\u544a\u8b66\u8bbe\u7f6e",btnLoading:o||h,onClose:this.handleClose,submit:e=>this.handleSaveAdd(e)}),E.default.createElement(N.default,{Key:d,width:640,visible:s,title:"\u544a\u8b66\u8be6\u60c5",checkMethodId:i,onClose:this.handleClose}),E.default.createElement(k.default,{hideHeader:"sunm-modal-head-hide",visible:t,title:"\u53d6\u6d88\u76d1\u63a7\u63d0\u793a",btnloading:u,ok:()=>{this.handleCancelMinitor(i)},cancel:this.handleClose,content:this.renderDelete(a)}))}},p=f))||p);t.default=L},g2cL:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=l(a("kLXV"));a("+L6B");var r=l(a("2/Rp"));a("OaEy");var d=l(a("2fM7"));a("y8nQ");var i=l(a("Vl3Y"));a("g9YV");var m,c,u,o=l(a("wCAj")),h=s(a("q1tI")),p=a("MuoO"),f=l(a("hhpu")),v=a("qxfp"),E=(o.default.Column,i.default.Item,d.default.Option,m=(0,p.connect)(e=>{var t=e.sunmQualityControl;e.loading;return{sunmQualityControl:t}}),m((u=class extends h.Component{constructor(){super(...arguments),this.handleClose=(()=>{this.props.onClose&&this.props.onClose()}),this.handleExport=(()=>{var e=this.props.sunmQualityControl.alarmResultDetail,t=e.alarmResult;t.checkResultId&&(window.location.href="".concat(v.BASE_URL,"/alarmResult/exportData?token=").concat((0,v.TOKEN)(),"&id=").concat(t.checkResultId))})}renderResultList(e){e&&e.length>0&&e.map((e,t)=>h.default.createElement("li",{className:"item",key:t}))}render(){var e=this.props,t=e.width,a=e.title,l=e.visible,s=e.Key,d=this.props.sunmQualityControl.alarmResultDetail,i=d.alarmResult,m=d.dynamicTableColumn,c=d.dynamicTableData,u=i.alarmSetting?i.alarmSetting:{};return h.default.createElement(n.default,{width:t,key:s,wrapClassName:"sunm-quality-modal vertical-center-modal sunm-code-modal",visible:l,title:a,onCancel:this.handleClose,footer:null},h.default.createElement("div",{className:"sunm-control-modal sunm-result-modal"},h.default.createElement("div",{className:"title"},"\u68c0\u6838\u65b9\u6cd5"),h.default.createElement("div",{className:"result-info"},h.default.createElement("label",{className:"item"},h.default.createElement("span",{className:"name"},"\u68c0\u6838\u65b9\u6cd5\u540d\u79f0\uff1a"),h.default.createElement("span",{className:"text"},i.checkMethodName)),h.default.createElement("label",{className:"item"},h.default.createElement("span",{className:"name"},"\u68c0\u6838\u8868\u540d\uff1a"),h.default.createElement("span",{className:"text"},i.checkTableName)),h.default.createElement("label",{className:"item"},h.default.createElement("span",{className:"name"},"\u4e2d\u6587\u7b80\u79f0\uff1a"),h.default.createElement("span",{className:"text"},i.checkCnName)),h.default.createElement("label",{className:"item"},h.default.createElement("span",{className:"name"},"\u68c0\u6838\u65b9\u5f0f\uff1a"),h.default.createElement("span",{className:"text"},i.checkWay)),h.default.createElement("label",{className:"item"},h.default.createElement("span",{className:"name"},"\u68c0\u6838\u65e5\u671f\uff1a"),h.default.createElement("span",{className:"text"},i.checkTime))),h.default.createElement("div",{className:"title"},"\u544a\u8b66\u8bbe\u7f6e"),h.default.createElement("div",{className:"result-info"},h.default.createElement("label",{className:"item first"},h.default.createElement("span",{className:"name"},"\u544a\u8b66\u540d\u79f0\uff1a"),h.default.createElement("span",{className:"text"},u.alarmName)),h.default.createElement("div",{className:"three-cloumn"},h.default.createElement("label",{className:"item"},h.default.createElement("span",{className:"name"},"\u9608\u503c\u7c7b\u578b\uff1a"),h.default.createElement("span",{className:"text"},u.thresholdType)),h.default.createElement("label",{className:"item"},h.default.createElement("span",{className:"name"},"\u9608\u503c\u5173\u7cfb\uff1a"),h.default.createElement("span",{className:"text"},u.thresholdType)),h.default.createElement("label",{className:"item"},h.default.createElement("span",{style:{width:50},className:"name"},"\u9608\u503c\uff1a"),h.default.createElement("span",{className:"text",style:{marginLeft:50}},u.thresholdValue))),h.default.createElement("label",{className:"item column-1"},h.default.createElement("span",{className:"name"},"\u544a\u8b66\u7ea7\u522b\uff1a"),h.default.createElement("span",{className:"text"},"\u4e00\u822c"==u.alarmLevel?h.default.createElement("span",{style:{color:"#1890ff"}},u.alarmLevel):"\u4e25\u91cd"==u.alarmLevel?h.default.createElement("span",{style:{color:"#f9a042"}},u.alarmLevel):"\u7d27\u6025"==u.alarmLevel?h.default.createElement("span",{style:{color:"#f00"}},record.alarmLevel):"")),h.default.createElement("label",{className:"item  column-2"},h.default.createElement("span",{className:"name"},"\u544a\u8b66\u63cf\u8ff0\uff1a"),h.default.createElement("span",{className:"text"},u.alarmDescription))),c.length>0?h.default.createElement("div",null,h.default.createElement("div",{className:"title"},"\u68c0\u6838\u7ed3\u679c\u5f02\u5e38\u660e\u7ec6",h.default.createElement(r.default,{className:"export",icon:"export",onClick:this.handleExport},"\u5bfc\u51fa")),h.default.createElement("div",{className:"result-cont"},h.default.createElement(f.default,{thead:m,list:c}))):"",h.default.createElement("div",{className:"btn-list"},h.default.createElement(r.default,{type:"primary",onClick:this.handleClose},"\u5173\u95ed"))))}},c=u))||c);t.default=E},gxO6:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("q1tI")),r=a("7DNP"),d=(a("MuoO"),l(a("DnH9"))),i=l(a("bUTB")),m=l(a("NFBy"));l(a("i8xU"));a("cJfE"),a("3MCO"),a("xR6b"),a("NUVw");class c extends n.Component{constructor(){super(...arguments),this.state={active:0,uri:"/dataquality/dataqualitycontrol"}}handleSelectTab(e){this.setState({active:e})}render(){var e=this.state,t=(e.active,e.uri);"".concat(t,"/control"),"".concat(t,"/setting"),"".concat(t,"/result");return n.default.createElement("div",{className:"sunm-content sunm-router"},n.default.createElement(r.Switch,null,n.default.createElement(r.Route,{exact:!0,path:"".concat(t,"/control"),component:d.default}),n.default.createElement(r.Route,{exact:!0,path:"".concat(t,"/setting"),component:i.default}),n.default.createElement(r.Route,{exact:!0,path:"".concat(t,"/result"),component:m.default})))}}t.default=c},hBDu:function(e,t,a){},i8xU:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("q1tI")),r=a("eO8H"),d=l(a("TSYQ"));a("hBDu");class i extends n.Component{constructor(e){super(e),this.handleSetActive=this.handleSetActive.bind(this)}handleSetActive(e){this.props.onSelect(e)}renderTabs(){var e=this.props,t=e.tabsList,a=void 0===t?[]:t,l=e.active,s=e.type;return a.map((e,t)=>{return"route"==s?n.default.createElement(r.NavLink,{to:e.path,key:t,className:"tabslist-item"},e.title):n.default.createElement("p",{className:(0,d.default)("tabslist-item",{"tab-active":l==t}),key:t,onClick:()=>{this.handleSetActive(t)}},n.default.createElement("span",null,e.title))})}render(){return n.default.createElement("div",{className:"sunm-tabslist"},this.renderTabs())}}var m=i;t.default=m},pff7:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=l(a("kLXV"));a("+L6B");var r=l(a("2/Rp"));a("BoS7");var d=l(a("Sdc0"));a("giR+");var i=l(a("fyUT")),m=l(a("jehZ"));a("P2fV");var c=l(a("NJEC"));a("Pwec");var u=l(a("CtXQ"));a("miYZ");var o=l(a("tsqr")),h=l(a("p0pE"));a("5NDa");var p=l(a("5rEg"));a("OaEy");var f=l(a("2fM7"));a("y8nQ");var v=l(a("Vl3Y"));a("g9YV");var E,y,g,C,N=l(a("wCAj")),k=s(a("q1tI")),b=a("MuoO"),S=l(a("ZVfL")),w=(N.default.Column,v.default.Item),L=f.default.Option,T=p.default.TextArea,x={value:"id",label:"name"},M=(E=v.default.create(),y=(0,b.connect)(e=>{var t=e.sunmQualityControl;e.loading;return{sunmQualityControl:t}}),E(g=y((C=class extends k.Component{constructor(e){super(e),this.handleSelectCheck=(e=>{var t=this.props.sunmQualityControl.editAlarm.checkMethods;t.push(e),this.props.dispatch({type:"sunmQualityControl/updateAlarmCheckMethods",payload:t})}),this.handleDeleteCheck=(e=>{this.props.dispatch({type:"sunmQualityControl/updateAlarmCheckMethods",payload:e})}),this.onChangeStatus=(e=>{console.log(e),this.setState({alarmStatus:e?1:2})}),this.onChangeEmail=(e=>{console.log(e),this.setState({alarmSendEmail:e?1:2})}),this.handleSubmit=(e=>{var t=this.state,a=t.alarmStatus,l=t.alarmSendEmail;e.preventDefault(),this.props.form.validateFieldsAndScroll((e,t)=>{if(!e){var s=this.props.sunmQualityControl.editAlarm,n=s.checkMethods,r=s.sendEmail,d=[];n.forEach(e=>{d.push({id:e[x.value]})});var i=(0,h.default)({},t,{status:a||(status||1),sendEmail:l||(r||1),checkMethods:d});d.length>0?this.props.submit&&this.props.submit(i):o.default.warning("\u8bf7\u9009\u62e9\u68c0\u6838\u65b9\u6cd5")}})}),this.handleClose=(()=>{this.props.onClose&&this.props.onClose()}),this.renderCheckList=(e=>{this.state.rowActive;var t=e&&e.length>0?e.map((e,t)=>{return k.default.createElement("li",{onMouseOver:()=>this.onMouseOver(t)},k.default.createElement("span",null,e.nodeDescrible),k.default.createElement(c.default,{title:"\u786e\u5b9a\u5220\u9664\u5417?",onConfirm:()=>this.handleDeleteCheck(t)},k.default.createElement("a",{className:"sunm-icon sunm-delete-icon",title:"\u5220\u9664"},k.default.createElement(u.default,{type:"close-circle-o"}))))}):"";return k.default.createElement("ul",{className:"check-list"},t)}),this.state={alarmStatus:"",alarmSendEmail:""}}UNSAFE_componentWillReceiveProps(e){}render(){var e=this.props,t=e.width,a=e.title,l=e.visible,s=e.Key,c=e.btnLoading,u=this.props.sunmQualityControl,o=u.checkMethod,h=u.checkCount,E=u.editAlarm,y=void 0===E?{}:E,g=this.props.form.getFieldDecorator,C={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},N={wrapperCol:{xs:{span:24,offset:0},sm:{span:24,offset:0}}};return k.default.createElement(n.default,{width:t,key:s,wrapClassName:"sunm-quality-modal vertical-center-modal sunm-code-modal",visible:l,title:a,onCancel:this.handleClose,footer:null},k.default.createElement(v.default,{className:"sunm-edit-form",onSubmit:e=>{this.handleSubmit(e)}},k.default.createElement(w,(0,m.default)({},C,{label:"\u544a\u8b66\u540d\u79f0\uff1a"}),g("alarmName",{rules:[{required:!0,message:"\u544a\u8b66\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:y.alarmName})(k.default.createElement(p.default,{maxLength:500,placeholder:"\u8bf7\u8f93\u5165\u544a\u8b66\u540d\u79f0"}))),k.default.createElement("div",null,k.default.createElement(w,{className:"form-inline-item",labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},label:"\u544a\u8b66\u7ea7\u522b\uff1a"},g("alarmLevel",{rules:[{required:!0,message:"\u544a\u8b66\u7ea7\u522b\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:y.alarmLevel})(k.default.createElement(f.default,{placeholder:"\u8bf7\u9009\u62e9\u544a\u8b66\u7ea7\u522b"},k.default.createElement(L,{value:"\u4e00\u822c"},"\u4e00\u822c"),k.default.createElement(L,{value:"\u7d27\u6025"},"\u7d27\u6025"),k.default.createElement(L,{value:"\u4e25\u91cd"},"\u4e25\u91cd")))),k.default.createElement(w,{className:"form-inline-item",labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},label:"\u9608\u503c\u7c7b\u578b\uff1a"},g("thresholdType",{rules:[{required:!0,message:"\u9608\u503c\u7c7b\u578b\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:y.thresholdType})(k.default.createElement(f.default,{placeholder:"\u8bf7\u9009\u62e9\u9608\u503c\u7c7b\u578b"},k.default.createElement(L,{value:"\u6570\u503c"},"\u6570\u503c"),k.default.createElement(L,{value:"\u767e\u5206\u6bd4"},"\u767e\u5206\u6bd4"))))),k.default.createElement("div",null,k.default.createElement(w,{className:"form-inline-item",labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},label:"\u9608\u503c\u5173\u7cfb\uff1a"},g("thresholdLogic",{rules:[{required:!0,message:"\u9608\u503c\u5173\u7cfb\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:y.thresholdLogic})(k.default.createElement(f.default,{placeholder:"\u8bf7\u9009\u62e9\u9608\u503c\u5173\u7cfb"},k.default.createElement(L,{value:">"},">"),k.default.createElement(L,{value:">="},">=")))),k.default.createElement(w,{className:"form-inline-item",labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},label:"\u9608\u503c\uff1a"},g("thresholdValue",{rules:[{required:!0,message:"\u9608\u503c\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:y.thresholdValue})(k.default.createElement(i.default,{min:0,placeholder:"\u8bf7\u8f93\u5165\u9608\u503c"})))),k.default.createElement(w,(0,m.default)({},C,{label:"\u544a\u8b66\u63cf\u8ff0\uff1a"}),g("alarmDescription",{initialValue:y.alarmDescription})(k.default.createElement(T,{style:{maxHeight:90},maxLength:1e3,placeholder:"\u8bf7\u8f93\u5165\u544a\u8b66\u63cf\u8ff0"}))),k.default.createElement(w,(0,m.default)({},C,{className:"isRequire",label:"\u68c0\u6838\u65b9\u6cd5\uff1a"}),k.default.createElement(S.default,{checkCount:h,checkMethod:o,selectCheckList:y.checkMethods,selectHeight:180,onSelect:e=>this.handleSelectCheck(e),onDelete:e=>this.handleDeleteCheck(e)})),k.default.createElement("div",null,k.default.createElement(w,{className:"form-inline-item",labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},label:"\u662f\u5426\u542f\u7528\uff1a"},k.default.createElement(d.default,{checkedChildren:"\u662f",unCheckedChildren:"\u5426",defaultChecked:!y.status||1==y.status,onChange:this.onChangeStatus})),k.default.createElement(w,{className:"form-inline-item",labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},label:"\u662f\u5426\u53d1\u9001\u90ae\u4ef6"},k.default.createElement(d.default,{checkedChildren:"\u662f",unCheckedChildren:"\u5426",defaultChecked:!y.sendEmail||1==y.sendEmail,onChange:this.onChangeEmail}))),k.default.createElement("div",null,k.default.createElement(w,{className:"form-inline-item",labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},label:"\u53d1\u9001\u7ed9\uff1a"},g("sender",{})(k.default.createElement(f.default,{placeholder:"\u8bf7\u9009\u62e9\u63a5\u6536\u65b9"},k.default.createElement(L,{value:"\u8d85\u7ea7\u7ba1\u7406\u5458"},"\u8d85\u7ea7\u7ba1\u7406\u5458"),k.default.createElement(L,{value:"\u6a21\u578b\u7ba1\u7406\u5458"},"\u6a21\u578b\u7ba1\u7406\u5458"),k.default.createElement(L,{value:"\u8d22\u52a1\u7cfb\u7edf\u7ba1\u7406\u5458"},"\u8d22\u52a1\u7cfb\u7edf\u7ba1\u7406\u5458"),k.default.createElement(L,{value:"\u5b9e\u65bd\u7ba1\u7406\u5458"},"\u5b9e\u65bd\u7ba1\u7406\u5458"),k.default.createElement(L,{value:"\u4e2d\u5fc3\u5e93\u7ba1\u7406\u5458"},"\u4e2d\u5fc3\u5e93\u7ba1\u7406\u5458"),k.default.createElement(L,{value:"\u8d28\u91cf\u7ba1\u7406\u5458"},"\u8d28\u91cf\u7ba1\u7406\u5458"),k.default.createElement(L,{value:"\u4eba\u4e8b\u7cfb\u7edf\u7ba1\u7406\u5458"},"\u4eba\u4e8b\u7cfb\u7edf\u7ba1\u7406\u5458"),k.default.createElement(L,{value:"\u6559\u52a1\u7cfb\u7edf\u7ba1\u7406\u5458"},"\u6559\u52a1\u7cfb\u7edf\u7ba1\u7406\u5458"),k.default.createElement(L,{value:"\u8d44\u4ea7\u7cfb\u7edf\u7ba1\u7406\u5458"},"\u8d44\u4ea7\u7cfb\u7edf\u7ba1\u7406\u5458"),k.default.createElement(L,{value:"\u5b66\u5de5\u7cfb\u7edf\u7ba1\u7406\u5458"},"\u5b66\u5de5\u7cfb\u7edf\u7ba1\u7406\u5458"),k.default.createElement(L,{value:"\u515a\u52a1\u7cfb\u7edf\u7ba1\u7406\u5458"},"\u515a\u52a1\u7cfb\u7edf\u7ba1\u7406\u5458"),k.default.createElement(L,{value:"\u7814\u53d1\u5b9e\u65bd\u7ba1\u7406\u5458"},"\u7814\u53d1\u5b9e\u65bd\u7ba1\u7406\u5458"))))),k.default.createElement(w,(0,m.default)({className:"form-btn-list"},N),k.default.createElement(r.default,{type:"primary",htmlType:"submit",loading:c},"\u4fdd\u5b58"),k.default.createElement(r.default,{type:"ghost",onClick:this.handleClose},"\u53d6\u6d88"))))}},g=C))||g)||g);t.default=M}}]);