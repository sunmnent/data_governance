(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[45],{RBDf:function(e,t,a){"use strict";var s=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.analysisReportCountType=o,t.analysisReportCountMethodGroup=i,t.reportCountMethod=r,t.analysisReportCountMethodCurDate=n,t.analysisQueryEffectivCheckType=d,t.queryAnalysisReport=u;var l=s(a("t3Un"));function o(e){return(0,l.default)("/analysisReport/countType",{method:"GET"})}function i(e){return(0,l.default)("/analysisReport/countMethodGroup",{method:"GET"})}function r(e){return(0,l.default)("/analysisReport/countMethod",{method:"GET"})}function n(e){return(0,l.default)("/analysisReport/countMethodCurDate",{method:"GET"})}function d(e){return(0,l.default)("/checkType/queryEffectivCheckType",{method:"GET"})}function u(e){return(0,l.default)("/analysisReport/queryAnalysisReport",{method:"GET",params:e})}},SAkk:function(e,t,a){},YyEA:function(e,t,a){"use strict";var s=a("tAuX"),l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var o=l(a("2/Rp"));a("14J3");var i=l(a("BMrR"));a("iQDF");var r=l(a("+eQT"));a("Znn+");var n=l(a("ZTPi"));a("OaEy");var d=l(a("2fM7")),u=s(a("q1tI")),c=l(a("cVA7"));l(a("tnG5")),l(a("wd/R")),l(a("Mosh"));a("SAkk"),a("NS7E"),a("glzp");var m=a("RBDf"),f=d.default.Option,p=n.default.TabPane,h=(r.default.MonthPicker,r.default.RangePicker),y=(r.default.WeekPicker,{title:{text:"\u68c0\u6838\u7c7b\u522b\u5bf9\u5e94\u7684\u68c0\u6838\u65b9\u6cd5\u6570\u91cf\u5206\u6790"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["\u65b9\u6cd5\u6570","\u89c4\u5219\u6570"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:["\u7a7a\u503c\u68c0\u6838","\u8bb0\u5f55\u6570\u68c0\u6838","\u975e\u6cd5\u503c\u68c0\u6838","\u7801\u503c\u68c0\u6838","\u4e3b\u952e\u91cd\u590d\u68c0\u6838","\u4e3b\u5916\u952e\u68c0\u6838","\u4e1a\u52a1\u7ea6\u675f\u68c0\u6838"]},yAxis:{type:"value"},series:[{name:"\u65b9\u6cd5\u6570",type:"bar",data:[320,302,301,334,390,330,320]},{name:"\u89c4\u5219\u6570",type:"bar",data:[120,132,101,134,90,230,210]}]}),g={title:{text:"\u8d28\u91cf\u7ef4\u5ea6"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["\u65b9\u6cd5\u6570","\u89c4\u5219\u6570"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:["\u7a7a\u503c\u68c0\u6838","\u8bb0\u5f55\u6570\u68c0\u6838","\u975e\u6cd5\u503c\u68c0\u6838","\u7801\u503c\u68c0\u6838","\u4e3b\u952e\u91cd\u590d\u68c0\u6838","\u4e3b\u5916\u952e\u68c0\u6838","\u4e1a\u52a1\u7ea6\u675f\u68c0\u6838"]},yAxis:{type:"value"},series:[{name:"\u65b9\u6cd5\u6570",type:"bar",data:[320,302,301,334,390,330,320]},{name:"\u89c4\u5219\u6570",type:"bar",data:[120,132,101,134,90,230,210]}]};class x extends u.Component{constructor(){super(...arguments),this.state={lx:"",jgffz:"",jhff:"",xzjhff:"",data:["",""],checkType:"",checkName:[],proTimes:"",proCountRate:""},this.chartOption=(()=>{var e={tooltip:{trigger:"axis",formatter:e=>{var t=e[0].data,a=e[0].axisValue,s="<div>";return s+=a+"<br/>",s+="\u6570\u636e\u8d28\u91cf\u7cfb\u7edf:"+t+"%<br/>",s+="</div>",s}},legend:{data:["\u6570\u636e\u8d28\u91cf\u7cfb\u7edf"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:this.state.proTimes},yAxis:{type:"value",name:"\u95ee\u9898\u7387",axisLabel:{formatter:"{value} %"}},series:[{name:"\u6570\u636e\u8d28\u91cf\u7cfb\u7edf",type:"line",smooth:!0,data:this.state.proCountRate}]};return e}),this.onChangeTime=((e,t)=>{console.log(181181,e,t),this.setState({startTime:t[0],endTime:t[1]})}),this.typeNum=(()=>{(0,m.analysisReportCountType)().then(e=>{var t=e.obj;this.setState({lx:t})})}),this.groupTypeTotalNum=(()=>{(0,m.analysisReportCountMethodGroup)().then(e=>{var t=e.obj;this.setState({jgffz:t})})}),this.typeTotalNum=(()=>{(0,m.reportCountMethod)().then(e=>{var t=e.obj;this.setState({jhff:t})})}),this.reportCountMethodCurDate=(()=>{(0,m.analysisReportCountMethodCurDate)().then(e=>{var t=e.obj;this.setState({xzjhff:t})})}),this.queryEffectivCheckType=(()=>{(0,m.analysisQueryEffectivCheckType)().then(e=>{console.log(209,e);var t=[];e&&e.length>0&&(t=e.map((e,t)=>{return u.default.createElement(f,{value:e.id,key:e.id},e.checkName)})),this.setState({checkName:t},()=>{console.log(221,this.state.checkName)})})}),this.getqueryAnalysisReport=(()=>{(0,m.queryAnalysisReport)({startTime:this.state.startTime,endTime:this.state.endTime,checkTypeId:Number(this.state.checkType)||""}).then(e=>{console.log(263,e);var t=e.obj,a=[],s=[];e.obj&&e.obj.length>0&&t.map((e,t)=>{a.push(e.times),s.push(e.countRate)}),this.setState({proTimes:a,proCountRate:s},()=>{console.log(287,this.state.proTimes,this.state.proCountRate)})})}),this.onChange=((e,t)=>{this.setState({date:[t[0],t[1]]})}),this.onChange1=((e,t)=>{console.log(242,e,t),this.setState({date:[t[0].format("YYYY-MM-DD"),t[1].format("YYYY-MM-DD")]},()=>{console.log(247,this.state.startTime)})}),this.onChangeSelect=(e=>{console.log(300,e),this.setState({checkType:e})})}componentDidMount(){this.typeNum(),this.groupTypeTotalNum(),this.typeTotalNum(),this.reportCountMethodCurDate(),this.queryEffectivCheckType(),this.getqueryAnalysisReport()}render(){var e=this.state,t=e.lx,a=e.jgffz,s=e.jhff,l=e.xzjhff;e.date,e.checkType;return u.default.createElement("div",null,u.default.createElement(i.default,{className:"padding-left-right20"},"\u6570\u636e\u8d28\u91cf\u5e73\u53f0\u6709\uff1a",u.default.createElement("strong",{className:"color-red"},t),"\u4e2a\u7c7b\u578b\uff0c",u.default.createElement("strong",{className:"color-red"},a),"\u4e2a\u68c0\u6838\u65b9\u6cd5\u7ec4\uff0c",u.default.createElement("strong",{className:"color-red"},s),"\u4e2a\u68c0\u6838\u65b9\u6cd5\uff0c \u672c\u6708\u65b0\u589e",u.default.createElement("strong",{className:"color-red"},l),"\u4e2a\u68c0\u6838\u65b9\u6cd5."),u.default.createElement(i.default,{className:"padding-top-bottom10 padding-left-right20"},u.default.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},u.default.createElement("div",{style:{marginRight:"10px"}},u.default.createElement(h,{onChange:this.onChangeTime})),u.default.createElement("div",{style:{marginRight:"5px"}},u.default.createElement(d.default,{showSearch:!0,style:{width:250},placeholder:"",optionFilterProp:"children",onChange:this.onChangeSelect,filterOption:(e,t)=>t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},this.state.checkName)),u.default.createElement("div",null,u.default.createElement(o.default,{type:"primary",icon:"search",size:"default",onClick:this.getqueryAnalysisReport},"\u641c\u7d22")))),u.default.createElement("div",{className:"margin-top10 padding20",style:{borderTop:"1px solid #eee"}},u.default.createElement(c.default,{option:this.chartOption(),notMerge:!0,theme:"gw",style:{height:320}})))}}class E extends u.Component{constructor(){super(...arguments),this.state={}}render(){return u.default.createElement("div",null,u.default.createElement("div",{className:"margin-top10 padding20"},u.default.createElement(c.default,{option:y,notMerge:!0,theme:"gw",style:{height:320}})),u.default.createElement("div",{className:"margin-top10 padding20"},u.default.createElement(c.default,{option:g,notMerge:!0,theme:"gw",style:{height:320}})))}}class v extends u.Component{constructor(){super(...arguments),this.state={}}componentDidMount(){}render(){return u.default.createElement(n.default,{defaultActiveKey:"1",className:"bg-white"},u.default.createElement(p,{tab:"\u6570\u636e\u8d28\u91cf\u5206\u6790\u62a5\u544a",key:"1"},u.default.createElement(x,null)),u.default.createElement(p,{tab:"\u68c0\u6838\u65b9\u6cd5\u5206\u6790\u62a5\u544a",key:"2"},u.default.createElement(E,null)))}}t.default=v},glzp:function(e,t,a){},m7d2:function(e,t,a){},tnG5:function(e,t,a){"use strict";var s=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=s(a("p0pE"));a("Xi6J");var o=s(a("kl6h"));a("5NDa");var i=s(a("5rEg")),r=s(a("jehZ"));a("iQDF");var n=s(a("+eQT"));a("OaEy");var d=s(a("2fM7")),u=s(a("q1tI")),c=s(a("LvDl")),m=s(a("wd/R")),f=s(a("Mosh"));a("m7d2");var p=d.default.Option,h=n.default.MonthPicker,y=n.default.RangePicker,g=(e,t)=>{if(m.default.isMoment(t))return e=t,e},x={style:{className:"",css:{}},boxs:[]},E={type:1,show:!0,SBox:{style:{className:"",css:{}},setting:{}},SBoxLabel:{show:!1,text:"",style:{className:"",css:{}},setting:{}},SBoxEdit:{show:!0,style:{className:"",css:{}},setting:{}},SBoxEditItem:{style:{className:"",css:{}},allOption:{show:!0,option:{id:"",text:"\u5168\u90e8"}},data:[],setting:{},options:"",optionsSetting:{setKey:function(e,t,a,s){return f.default.uuid()+s},setValue:function(e,t,a,s){return e[t]+""},setText:function(e,t,a,s){return e[a]},setTitle:function(e,t,a,s){return e[a]}},valueField:"id",textField:"text"}};class v extends u.default.Component{constructor(e){super(e),this.produceBox=((e,t)=>{if(f.default.isNull(e))return null;var a;e=c.default.mergeWith({},E,e,g);var s=this.resolveProps[e.type]?this.resolveProps[e.type](e):"";switch(e.type.toString()){case"1":case"select":a=u.default.createElement(d.default,(0,r.default)({},e.SBoxEditItem.setting,{className:"S-Box-edit-item "+e.SBoxEditItem.style.className,style:e.SBoxEditItem.style.css}),s);break;case"1_1":case"input":a=u.default.createElement(i.default,(0,r.default)({},e.SBoxEditItem.setting,{className:"S-Box-edit-item "+e.SBoxEditItem.style.className,style:e.SBoxEditItem.style.css}));break;case"2":case"datepicker":a=u.default.createElement(n.default,(0,r.default)({},e.SBoxEditItem.setting,{className:"S-Box-edit-item "+e.SBoxEditItem.style.className,style:e.SBoxEditItem.style.css}));break;case"2_1":case"monthpicker":a=u.default.createElement(h,(0,r.default)({allowClear:!1},e.SBoxEditItem.setting,{className:"S-Box-edit-item "+e.SBoxEditItem.style.className,style:e.SBoxEditItem.style.css}));break;case"2_2":case"rangepicker":a=u.default.createElement(y,(0,r.default)({allowClear:!1},e.SBoxEditItem.setting,{className:"S-Box-edit-item "+e.SBoxEditItem.style.className,style:e.SBoxEditItem.style.css}));break;case"3":case"timepicker":a=u.default.createElement(o.default,(0,r.default)({allowClear:!1},e.SBoxEditItem.setting,{className:"S-Box-edit-item "+e.SBoxEditItem.style.className,style:e.SBoxEditItem.style.css}));break}return!0===e.show?u.default.createElement("div",(0,r.default)({key:t,className:"S-Box "+e.SBox.style.className,style:e.SBox.style.css},e.SBox.setting),1==e.SBoxLabel.show?u.default.createElement("label",(0,r.default)({className:"S-Box-label "+e.SBoxLabel.style.className,style:e.SBoxLabel.style.css},e.SBoxLabel.setting),e.SBoxLabel.text):"",u.default.createElement("div",(0,r.default)({className:"S-Box-edit "+e.SBoxEdit.style.className,style:e.SBoxEdit.style.css},e.SBoxEdit.setting),a)):null}),this.resolveProps={1:e=>{var t=e.SBoxEditItem,a=t.options;if(f.default.notNull(a))return a;var s=t.allOption,l=t.data,o=t.valueField,i=void 0===o?"id":o,n=t.textField,d=void 0===n?"text":n,m=t.optionsSetting;if(f.default.notNull(l)){var h="",y="",g="",x="";if(a=l.map((t,a)=>{return h=m.setValue(t,i,d,a),y=m.setText(t,i,d,a),g=m.setKey(t,i,d,a),x=m.setTitle(t,i,d,a),u.default.createElement(p,(0,r.default)({key:g,value:h,title:x},e.SBoxEditItem.optionsSetting),y)}),s.show){var E={};E[i]="0",E[d]="\u5168\u90e8",E=c.default.merge(E,s.option||{}),a.unshift(u.default.createElement(p,{key:E[i],value:E[i]+"",title:E[d]},E[d]))}}return a}},this.state=(0,l.default)({},e)}componentDidMount(){}UNSAFE_componentWillReceiveProps(e){this.setState((0,l.default)({},e))}render(){var e=this.state.options,t=e.style,a=void 0===t?{}:t,s=e.boxs,l=void 0===s?[]:s,o=c.default.merge({},x.style,a);return u.default.createElement("div",{className:"S-Boxs "+o.className,style:o.css},f.default.isNull(l)?null:l.map(this.produceBox))}}t.default=v}}]);