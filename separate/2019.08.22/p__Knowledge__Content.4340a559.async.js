(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{lg70:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var i=l(a("wCAj"));a("+L6B");var o=l(a("2/Rp"));a("5NDa");var d=l(a("5rEg"));a("2qtc");var r=l(a("kLXV"));a("Pwec");var u=l(a("CtXQ")),s=l(a("2Taf")),c=l(a("vZ4D")),f=l(a("l4Ni")),m=l(a("ujKo")),p=l(a("rlhR")),h=l(a("MhPg"));a("OaEy");var g=l(a("2fM7"));a("y8nQ");var v,b,k,y=l(a("Vl3Y")),w=n(a("q1tI")),E=a("MuoO"),C=l(a("mNzB")),O=y.default.Item,D=g.default.Option,N=10,V=(v=(0,E.connect)(function(e){var t=e.knowledge,a=e.loading;return{knowledge:t,loading:a}}),v((k=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,f.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(n))),a.state={modalVisible:!1,modalDisabled:!1,modalContent:{}},a.columns=[{title:"\u6807\u9898",dataIndex:"title",key:"title"},{title:"\u5206\u7c7b",dataIndex:"classificationName",key:"classificationName"},{title:"\u521b\u5efa\u4eba",dataIndex:"username",key:"username"},{title:"\u521b\u5efa\u65f6\u95f4",key:"createTime",dataIndex:"createTime"},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return w.default.createElement("div",null,w.default.createElement(u.default,{type:"eye",title:"\u8be6\u7ec6",onClick:a.showModal.bind((0,p.default)(a),t,!0),style:{marginRight:"1em"},className:"can-click"}),w.default.createElement(u.default,{type:"edit",title:"\u7f16\u8f91",onClick:a.showModal.bind((0,p.default)(a),t,!1),style:{marginRight:"1em"},className:"can-click"}),w.default.createElement(u.default,{type:"delete",title:"\u5220\u9664",onClick:a.deleteContent.bind((0,p.default)(a),t),className:"can-click"}))}}],a.showModal=function(e,t){a.setState({modalVisible:!0,modalContent:e,modalDisabled:t})},a.handleOk=function(e){a.setState({modalVisible:!1})},a.deleteContent=function(e){r.default.confirm({title:"\u4f60\u60f3\u5220\u9664\u8fd9\u4e9b\u9879\u76ee\u5417\uff1f",okText:"\u786e\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){a.props.dispatch({type:"knowledge/deleteContent",payload:{id:e.id}})},onCancel:function(){console.log("Cancel")}})},a.handleSubmit=function(e){e&&e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.dispatch({type:"knowledge/getContentList",payload:{params:{pageSize:N,pageNum:a.props.knowledge.contentObj.pageNum},data:t}})})},a.handleReset=function(){a.props.form.resetFields()},a.handleTableChange=function(e,t,l){var n=a.props.knowledge.contentObj.queryData;a.props.dispatch({type:"knowledge/getContentList",payload:{params:{pageSize:N,pageNum:e.current},data:n}})},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"knowledge/getAllClassificationList"}),this.props.knowledge.contentObj.list||this.handleSubmit()}},{key:"render",value:function(){var e=this.props.knowledge,t=e.allClassificationList,a=e.contentObj,l=a.list,n=void 0===l?[]:l,r=a.total,u=a.pageNum,s=a.queryData,c=void 0===s?{}:s,f=this.state,m=f.modalVisible,p=f.modalDisabled,h=f.modalContent,v=this.props.form.getFieldDecorator;return w.default.createElement("div",null,w.default.createElement(y.default,{layout:"inline",onSubmit:this.handleSubmit,style:{marginBottom:"1rem"}},w.default.createElement(O,{label:"\u5206\u7c7b"},v("classificationId",{initialValue:c.classificationId,rules:[]})(w.default.createElement(g.default,{style:{width:180},placeholder:"\u8bf7\u9009\u62e9\u5206\u7c7b"},t.map(function(e){return w.default.createElement(D,{value:e.id,key:e.id},e.classificationName)})))),w.default.createElement(O,{label:"\u6807\u9898"},v("title",{initialValue:c.title,rules:[]})(w.default.createElement(d.default,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"}))),w.default.createElement(O,{label:"\u521b\u5efa\u4eba"},v("username",{initialValue:c.username,rules:[]})(w.default.createElement(d.default,{placeholder:"\u8bf7\u8f93\u5165\u521b\u5efa\u4eba"}))),w.default.createElement(O,null,w.default.createElement(o.default,{type:"primary",htmlType:"submit"},"\u641c\u7d22")),w.default.createElement(O,null,w.default.createElement(o.default,{onClick:this.handleReset},"\u91cd\u7f6e"))),w.default.createElement("div",{style:{marginBottom:"1rem"}},w.default.createElement(o.default,{onClick:this.showModal.bind(this,{},!1)},"\u65b0\u589e")),w.default.createElement(i.default,{columns:this.columns,dataSource:n,onChange:this.handleTableChange,loading:this.props.loading.effects["knowledge/getContentList"],rowKey:"id",pagination:{showQuickJumper:!0,current:u,total:r}}),w.default.createElement(C.default,{visible:m,formDisabled:p,onOk:this.handleOk,formData:h}))}}]),t}(w.Component),b=k))||b),I=y.default.create()(V);t.default=I},mNzB:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV")),o=l(a("2Taf")),d=l(a("vZ4D")),r=l(a("l4Ni")),u=l(a("ujKo")),s=l(a("MhPg"));a("5NDa");var c=l(a("5rEg"));a("OaEy");var f=l(a("2fM7"));a("y8nQ");var m,p,h,g=l(a("Vl3Y")),v=n(a("q1tI")),b=a("MuoO"),k=g.default.Item,y=f.default.Option,w=c.default.TextArea,E=(m=(0,b.connect)(function(e){var t=e.knowledge;return{knowledge:t}}),m((h=function(e){function t(){var e,a;(0,o.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,r.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(n))),a.handleSubmit=function(e){a.props.formDisabled?a.props.onOk():a.props.form.validateFields(function(e,t){if(!e){var l=a.props.formData,n=void 0===l?{}:l;void 0!==n.id&&(t.id=n.id),a.props.dispatch({type:"knowledge/saveContent",payload:t}).then(function(){a.props.onOk(),a.props.form.resetFields()})}})},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.knowledge.allClassificationList,a=this.props,l=a.visible,n=a.formDisabled,o=a.formData,d=void 0===o?{}:o;return v.default.createElement(i.default,{title:"\u5185\u5bb9",visible:l,onOk:this.handleSubmit,onCancel:this.props.onOk},v.default.createElement(g.default,{onSubmit:this.handleSubmit},v.default.createElement(k,{label:"\u5206\u7c7b"},e("classificationId",{initialValue:d.classificationId?Number.parseFloat(d.classificationId):void 0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b"}]})(v.default.createElement(f.default,{placeholder:"\u8bf7\u8f93\u5165\u5206\u7c7b",disabled:n},t.map(function(e){return v.default.createElement(y,{value:e.id,key:e.id},e.classificationName)})))),v.default.createElement(k,{label:"\u6807\u9898"},e("title",{initialValue:d.title,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898"}]})(v.default.createElement(c.default,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",disabled:n}))),v.default.createElement(k,{label:"\u5185\u5bb9"},e("content",{initialValue:d.content,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5bb9"}]})(v.default.createElement(w,{disabled:n,autosize:{minRows:3,maxRows:6},placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"})))))}}]),t}(v.Component),p=h))||p),C=g.default.create()(E);t.default=C}}]);