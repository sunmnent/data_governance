(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{fI8d:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var i=l(a("wCAj"));a("+L6B");var o=l(a("2/Rp"));a("2qtc");var d=l(a("kLXV"));a("Pwec");var s=l(a("CtXQ")),c=l(a("2Taf")),u=l(a("vZ4D")),r=l(a("l4Ni")),f=l(a("ujKo")),p=l(a("rlhR")),m=l(a("MhPg"));a("5NDa");var h=l(a("5rEg"));a("y8nQ");var g,k,v,w=l(a("Vl3Y")),C=n(a("q1tI")),b=a("MuoO"),y=w.default.Item,E=h.default.TextArea,N=10,V=(g=(0,b.connect)(function(e){var t=e.knowledge,a=e.loading;return{knowledge:t,loading:a}}),g((v=function(e){function t(){var e,a;(0,c.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,r.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(n))),a.state={modalVisible:!1,modalContent:{}},a.columns=[{title:"\u5206\u7c7b\u540d",dataIndex:"classificationName"},{title:"\u63cf\u8ff0",dataIndex:"desc"},{title:"\u66f4\u65b0\u65e5\u671f",dataIndex:"updateTime"},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return C.default.createElement("div",null,C.default.createElement(s.default,{type:"edit",onClick:a.showModal.bind((0,p.default)(a),t),className:"can-click",style:{marginRight:"1em"},title:"\u7f16\u8f91"}),C.default.createElement(s.default,{type:"delete",onClick:a.deleteContent.bind((0,p.default)(a),t),className:"can-click",title:"\u5220\u9664"}))}}],a.showModal=function(e){a.setState({modalContent:e,modalVisible:!0})},a.handleCancel=function(e){a.setState({modalVisible:!1})},a.handleOk=function(e){a.props.form.validateFields(function(e,t){if(!e){var l=a.state.modalContent.id;void 0!==l&&(t.id=l),a.props.dispatch({type:"knowledge/saveClassification",payload:t}).then(function(){a.setState({modalVisible:!1}),a.props.form.resetFields()})}})},a.deleteContent=function(e){d.default.confirm({title:"\u4f60\u60f3\u5220\u9664\u8fd9\u4e9b\u9879\u76ee\u5417\uff1f",okText:"\u786e\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){a.props.dispatch({type:"knowledge/deleteClassification",payload:{id:e.id}})},onCancel:function(){console.log("Cancel")}})},a.handleTableChange=function(e,t,l){a.props.dispatch({type:"knowledge/getClassificationList",payload:{pageSize:N,pageNum:e.current}})},a}return(0,m.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.props.knowledge.classificationObj.list||this.props.dispatch({type:"knowledge/getClassificationList",payload:{pageSize:N,pageNum:1}})}},{key:"render",value:function(){var e=this.props.knowledge.classificationObj,t=e.list,a=void 0===t?[]:t,l=e.total,n=e.pageNum,s=this.state,c=s.modalVisible,u=s.modalContent,r=this.props.form.getFieldDecorator;return C.default.createElement("div",null,C.default.createElement("div",{style:{marginBottom:"1rem"}},C.default.createElement(o.default,{onClick:this.showModal.bind(this,{})},"\u65b0\u589e")),C.default.createElement(i.default,{columns:this.columns,dataSource:a,onChange:this.handleTableChange,loading:this.props.loading.effects["knowledge/getClassificationList"],rowKey:"id",pagination:{showQuickJumper:!0,current:n,total:l}}),C.default.createElement(d.default,{title:void 0===u.id?"\u65b0\u589e":"\u7f16\u8f91",visible:c,onOk:this.handleOk,onCancel:this.handleCancel},C.default.createElement(w.default,{onSubmit:this.handleSubmit},C.default.createElement(y,{label:"\u5206\u7c7b\u540d"},r("classificationName",{initialValue:u.classificationName,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d"}]})(C.default.createElement(h.default,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"}))),C.default.createElement(y,{label:"\u63cf\u8ff0"},r("desc",{initialValue:u.desc,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u63cf\u8ff0"}]})(C.default.createElement(E,{autosize:{minRows:3,maxRows:6},placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0"}))))))}}]),t}(C.Component),k=v))||k),O=w.default.create()(V);t.default=O}}]);