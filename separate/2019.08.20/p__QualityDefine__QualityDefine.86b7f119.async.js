(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[39],{"+RQo":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("Pwec");var c=n(a("CtXQ"));a("miYZ");var u=n(a("tsqr")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg")),h=l(a("q1tI")),m=(n(a("hK77")),a("iIsT"));a("TpwP");var p=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,d.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(n))),a.state={visible:!1,id:""},a.showModalDelete=function(e){var t=e.key;a.setState({id:t,visible:!0})},a.deleteData=function(){(0,m.deletecheckMethodGroup)({id:a.state.id}).then(function(e){e.success?u.default.success("\u5220\u9664\u6210\u529f\uff01"):u.default.success("\u5220\u9664\u5931\u8d25\uff01"),a.props.fetchData()})},a.hideModalDelete=function(){a.setState({visible:!1},function(){a.deleteData(),a.props.fetchData()})},a.handleCancel=function(e){a.setState({visible:!1})},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"render",value:function(e,t){var a=this;return h.default.createElement(h.default.Fragment,null,h.default.createElement(c.default,{type:"delete",className:"qu_icon_write",onClick:function(){return a.showModalDelete(a.props.deleteData,a.props.data)},title:"\u5220\u9664"}),h.default.createElement(i.default,{title:"\u5220\u9664",visible:this.state.visible,onOk:this.hideModalDelete,onCancel:this.handleCancel,cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4"},h.default.createElement("p",null,"\u786e\u5b9a\u5220\u9664\u8be5\u68c0\u6838\u65b9\u6cd5\u7ec4\uff1f")))}}]),t}(h.default.Component);t.default=p},"//Q4":function(e,t,a){e.exports={"nav-base":"nav-base___1pvqm",nav:"nav___DzBrx","nav-collapsed":"nav-collapsed___TOkUp",searchBar:"searchBar___2zmcw",header:"header___2eeVp",trigger:"trigger___OqkVz",right:"right___kSnzM",action:"action___Kt2ix",name:"name___1NVGr",globalFooter:"globalFooter___23kvT",layOut:"layOut___FDqof","example-input":"example-input___2Dp1-","ant-input":"ant-input___1xaIU",ul1Style:"ul1Style___2BNoh",qu_third_button:"qu_third_button___3AHt4",check_method_table:"check_method_table___3bdBk",colsql:"colsql___2Ubbq"}},"0SvO":function(e,t,a){e.exports={"nav-base":"nav-base___23BG5",nav:"nav___3SNvI","nav-collapsed":"nav-collapsed___1R3eZ",searchBar:"searchBar___3RZ4z",header:"header___1Wl4P",trigger:"trigger___33JaX",right:"right___1JwDx",action:"action___6igy0",name:"name___n-Q4U",globalFooter:"globalFooter___2pCeh"}},"1TlN":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("OaEy");var i=l(a("2fM7"));a("P2fV");var c=l(a("NJEC"));a("Pwec");var u=l(a("CtXQ")),s=l(a("eHn4")),r=l(a("2Taf")),d=l(a("vZ4D")),o=l(a("l4Ni")),f=l(a("ujKo")),h=l(a("MhPg"));a("5NDa");var m=l(a("5rEg"));a("y8nQ");var p=l(a("Vl3Y")),v=n(a("q1tI")),g=l(a("t3Un"));l(a("TSYQ"));a("6zIO"),a("bcsg");var k,E,b,D=a("iIsT"),C=(p.default.Item,m.default.TextArea,m.default.Search),_="",y={value:"id",label:"name"},I=(k=p.default.create(),k((b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,o.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(n))),a.state={rowActive:"-1",searchSelect:[],notData:!1,isShowSearch:!1,selectValue:[]},a.getCheckMethods=function(){(0,g.default)("/checkMethodGroup/queryAllCheckMethodGroupAndMethod",{}).then(function(e){e&&a.setState({checkMethod:e.result,checkCount:e.count})})},a.onMouseOut=function(e){a.setState({rowActive:"-1"})},a.onSearchList=function(e){_=e.target.value;var t=a.state.searchSelect,l=a.props.selectCheckList,n=void 0===l?[]:l,i=[];t.forEach(function(e){i.push(e[y.value])}),_?(a.setState({isShowSearch:!0}),n.forEach(function(l){"-1"!=l[y.label].indexOf(e.target.value)&&i.indexOf(l[y.value])<0&&(t.push(l),a.setState({notData:!1}))}),a.setState({searchSelect:t},function(){})):a.setState({searchSelect:[],notData:!1,isShowSearch:!1})},a.handleSelectCheck=function(e,t){a.setState({selectValue:e});var l=a.state.selectValue;if(l.length<e.length){var n,i=e[e.length-1],c=(n={},(0,s.default)(n,y.value,i),(0,s.default)(n,y.label,t[t.length-1].props.children),n),u=a.props.selectCheckList,r=[];u&&u.length>0&&u.forEach(function(e){r.push(e[y.value])}),"-1"==r.indexOf(i)&&a.props.onSelect&&a.props.onSelect(c)}else for(var d=0;d<l.length;d++)if(l[d]!==e[d])return void a.handleDeleteCheck(l[d])},a.handleDeleteCheck=function(e){var t=a.state,l=t.searchSelect;t.isShowSearch;a.setState({searchSelect:l.filter(function(t){return t[y.value]!==e})},function(){});var n=a.props.selectCheckList,i=n.filter(function(t){return t[y.value]!==e});a.props.onDelete&&a.props.onDelete(i)},a.getGroupClassify=function(){var e=[],t=[],l="";(0,D.getCheckMethodGroupClassify)().then(function(n){n&&(e=n.obj.notAssociated,l=e.length,t=e.map(function(e,t){return v.default.createElement(Option,{value:e.id,key:e.id},e.name)})),a.setState({classifyItems:t,classifyItemsLength:l})})},a.renderCheckList=function(e){a.state.rowActive;var t=e&&e.length>0?e.map(function(e,t){return v.default.createElement("li",{className:"item",key:t},v.default.createElement("span",{className:"label"},e[y.label]),v.default.createElement(c.default,{title:"\u786e\u5b9a\u5220\u9664\u5417?",onConfirm:function(){return a.handleDeleteCheck(e[y.value])}},v.default.createElement("a",{className:"sunm-icon sunm-delete-icon",title:"\u5220\u9664"},v.default.createElement(u.default,{type:"close-circle-o"}))))}):"";return v.default.createElement("ul",{className:"check-list"},t)},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.getGroupClassify()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectCheckList&&e.selectCheckList.length<=0&&this.setState({isShowSearch:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.selectCheckList,l=void 0===a?[]:a,n=t.checkMethod,c=t.checkCount,u=t.minHeight,s=t.selectHeight,r=this.state,d=r.searchSelect,o=(r.notData,r.isShowSearch);return v.default.createElement("div",{className:"select-check-list"},v.default.createElement("div",{className:"select-left"},v.default.createElement("span",{className:"result"},l.length,"/",c,"\u9879"),v.default.createElement(i.default,{mode:"multiple",maxHeight:s,option:n,showSearch:!0,placeholder:" ",defaultValue:[],maxTagCount:0,maxTagPlaceholder:function(){return null},onChange:function(t,a){return e.handleSelectCheck(t,a)}},this.props.checkMethod)),v.default.createElement("div",{style:{minHeight:u},className:"select-right"},v.default.createElement("span",{className:"result"},"\u5df2\u9009",l.length,"\u9879"),l.length>0?v.default.createElement("div",{className:"result-cont"},v.default.createElement(C,{onChange:this.onSearchList}),o&&d.length<=0?v.default.createElement("div",{className:"not-data"},"\u65e0\u5339\u914d\u7ed3\u679c"):o?this.renderCheckList(d):this.renderCheckList(l)):""))}}]),t}(v.Component),E=b))||E);t.default=I},"1Ze1":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("p0pE"));a("2qtc");var c=n(a("kLXV")),u=n(a("2Taf")),s=n(a("vZ4D")),r=n(a("l4Ni")),d=n(a("ujKo")),o=n(a("MhPg"));a("y8nQ");var f=n(a("Vl3Y")),h=l(a("q1tI")),m=a("E5h/"),p=n(a("kDOs")),v=n(a("1hXM")),g=f.default.Item,k=function(e){function t(e){var a;return(0,u.default)(this,t),a=(0,r.default)(this,(0,d.default)(t).call(this,e)),a.handleCancel=function(e){a.setState({visible:!1})},a.state={visible:!1},a}return(0,o.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){this.props.form.getFieldDecorator;var e=this.state,t=e.checkSqlContent,a=(e.checkName,e.qualityDimension,e.status),l=e.description,n=(e.checkCondition,e.createTime,e.name);return h.default.createElement(f.default,{onSubmit:this.handleSubmit,className:v.default.detailForm},h.default.createElement(g,null,h.default.createElement(c.default,{title:"\u67e5\u770b\u8be6\u60c5",visible:this.state.visible,okText:"\u5173\u95ed",onOk:this.handleOk,onCancel:this.handleCancel,cancelText:null,footer:null},h.default.createElement("ul",{className:v.default.lb_detail_ul},h.default.createElement("li",null,"\u540d\u79f0\uff1a",n),h.default.createElement("li",null,"\u68c0\u6838\u811a\u672c\uff1a",t),h.default.createElement("li",null,"\u72b6\u6001\uff1a",/^0|2$/.test(a)?"\u6302\u8d77":"\u751f\u6548"),h.default.createElement("li",null,"\u63cf\u8ff0\uff1a",l)))))}}]),t}(h.Component),E=f.default.create()((0,m.connect)([{action:p.default.JHLB_ADD_MODAL_DETAILS,handler:function(e,t){this.setState((0,i.default)({visible:e},t))}}])(k));t.default=E},"1hXM":function(e,t,a){e.exports={"nav-base":"nav-base___wujKj",nav:"nav___2iNVq","nav-collapsed":"nav-collapsed___1zjRH",searchBar:"searchBar___kYeE5",header:"header___3Kijn",trigger:"trigger___3BJmI",right:"right___33hf9",action:"action___3xvHw",name:"name___3HVoV",globalFooter:"globalFooter___gW6L-",lb_detail_ul:"lb_detail_ul___1bHXy",detailForm:"detailForm___1XlyS","ant-modal-content":"ant-modal-content___3P1Ho","ant-btn":"ant-btn___2067d"}},"2/E7":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("BoS7");var c=n(a("Sdc0"));a("14J3");var u=n(a("BMrR"));a("jCWc");var s=n(a("kPKH")),r=n(a("jehZ"));a("miYZ");var d=n(a("tsqr")),o=n(a("p0pE")),f=n(a("2Taf")),h=n(a("vZ4D")),m=n(a("l4Ni")),p=n(a("ujKo")),v=n(a("MhPg"));a("Znn+");var g=n(a("ZTPi"));a("OaEy");var k=n(a("2fM7"));a("5NDa");var E=n(a("5rEg"));a("y8nQ");var b=n(a("Vl3Y"));a("nRaC");var D=n(a("5RzL")),C=l(a("q1tI")),_=n(a("2HCU")),y=a("E5h/"),I=n(a("Mosh"));a("mz4o");a("8USV");var N=a("iIsT"),S=n(a("hK77")),M=D.default.TreeNode,T=b.default.Item,w=(E.default.Group,k.default.Option),q=(g.default.TabPane,E.default.TextArea),L={value:"id",label:"name"},O=function(e){function t(e){var a;return(0,f.default)(this,t),a=(0,m.default)(this,(0,p.default)(t).call(this,e)),a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1}),a.props.form.resetFields()},a.handleSubmit=function(e){var t=a.state.checkMethodss,l=[];if(t.forEach(function(e){l.push({id:e[L.value]})}),!(l.length>0))return d.default.warning("\u8bf7\u9009\u62e9\u68c0\u6838\u65b9\u6cd5");e.preventDefault(),a.props.form.validateFields(function(e,t){e||(t.status=t.status?1:2,t.checkMethods=a.state.checkMethodss,a.setState({visible:!1},function(){a.props.getChildData((0,o.default)({},t,{id:a.state.key})),a.props.form.resetFields()}))})},a.fetchTableName=function(){(0,N.getCheckMethodGroupCat)({}).then(function(e){var t;I.default.notNull(e)&&I.default.notNull(e.obj)&&(t=a.generateCheckTableName(e.obj)),a.setState({checkTableName:t})})},a.generateCheckTableName=function(e){var t=[];return I.default.notNull(e)&&e.map(function(e,l){e.children&&e.children.length?t.push(C.default.createElement(M,{value:e.nodeValue,title:e.nodeName,key:e.nodeValue},a.generateCheckTableName(e.children))):t.push(C.default.createElement(M,{value:e.nodeValue,title:e.nodeName,key:e.nodeValue}))}),t},a.getGroupClassify=function(){var e=[],t=[],l="";(0,N.getCheckMethodGroupClassify)().then(function(n){n&&(e=n.obj.notAssociated,l=e.length,t=e.map(function(e,t){return C.default.createElement(w,{value:e.id,key:e.id},e.name)})),a.setState({classifyItems:t,classifyItemsLength:l})})},a.checkMethodsChange=function(e){var t=[];e.map(function(e,a){t.push({id:e})}),a.setState({checkMethods:t})},a.handleSelectCheck=function(e){var t=a.state.checkMethodss;t.push(e),a.setState({checkMethodss:t})},a.handleDeleteCheck=function(e){a.setState({checkMethodss:e})},a.state={visible:!1,disable:!1},a}return(0,v.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.fetchTableName(),this.getGroupClassify()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,l=(a.categoryId,a.checkName,a.qualityDimension,a.status,a.description,a.checkCondition,{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}}),n=function(t,a,l){(0,N.checkMethodGroupCheckName)({checkMethodGroupName:a,id:e.state.id}).then(function(e){1!=e?a&&a.length>=30?l("\u540d\u5b57\u8fc7\u957f\uff01"):l():l("\u540d\u5b57\u91cd\u590d\uff01")})};return C.default.createElement(i.default,{title:"\u7f16\u8f91\u68c0\u6838\u65b9\u6cd5\u7ec4",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.handleSubmit,onCancel:this.handleCancel},C.default.createElement(b.default,{className:"addOfTable"},C.default.createElement(T,(0,r.default)({label:"\u540d\u79f0\u7ec4\u540d"},l),t("name",{initialValue:this.state.name,rules:[{required:!0,message:"\u540d\u79f0\u7ec4\u540d\u4e0d\u80fd\u4e3a\u7a7a"},{validator:n}]})(C.default.createElement(E.default,{placeholder:"",onBlur:this.onChangeUserName,onKeyUp:this.nameKeyUp,maxLength:"30"}))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,(0,r.default)({span:16},l),C.default.createElement(T,{label:"\u6240\u5c5e\u5206\u7c7b"},t("categoryId",{initialValue:this.state.categoryId,rules:[{required:!0,message:"\u6240\u5c5e\u5206\u7c7b\u4e0d\u80fd\u4e3a\u7a7a"}]})(C.default.createElement(D.default,{style:{width:"150px"}},this.state.checkTableName))))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:24},C.default.createElement(T,(0,r.default)({label:"\u68c0\u6838\u65b9\u6cd5"},l,{className:"isRequire"}),t("checkMethods",{})(C.default.createElement(_.default,{checkCount:this.state.classifyItemsLength,checkMethod:this.state.classifyItems,selectCheckList:this.state.checkMethodss,selectHeight:180,onSelect:function(t){return e.handleSelectCheck(t)},onDelete:function(t){return e.handleDeleteCheck(t)},onSearchList:function(t){return e.handleSearchList(t)}}))))),C.default.createElement(T,(0,r.default)({label:"\u63cf\u8ff0"},l),t("description",{initialValue:this.state.description,rules:[{required:!1,message:""}]})(C.default.createElement(q,{rows:4}))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:24},C.default.createElement(T,(0,r.default)({label:"\u72b6\u6001:"},l),t("status",{initialValue:this.state.status,rules:[{required:!0,message:""}]})(C.default.createElement(c.default,{checked:this.state.status,checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77",onChange:function(){e.setState({status:!e.state.status})}})))))))}}]),t}(C.Component),x=b.default.create()((0,y.connect)([{action:S.default.JHLB_Edit,handler:function(e,t){var a=t.checkMethods,l=1==t.status,n=t.categoryId&&t.categoryId.toString(),i=[];a&&a.map(function(e,t){return i.push({id:e.id,name:e.name})}),this.setState((0,o.default)({},t,{checkMethodss:i,visible:e,status:l,categoryId:n}))}}])(O));t.default=x},"2HCU":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("OaEy");var i=l(a("2fM7"));a("P2fV");var c=l(a("NJEC"));a("Pwec");var u=l(a("CtXQ")),s=l(a("eHn4")),r=l(a("2Taf")),d=l(a("vZ4D")),o=l(a("l4Ni")),f=l(a("ujKo")),h=l(a("MhPg"));a("5NDa");var m=l(a("5rEg"));a("y8nQ");var p=l(a("Vl3Y")),v=n(a("q1tI")),g=l(a("t3Un"));l(a("TSYQ"));a("6zIO"),a("bcsg");var k,E,b,D=a("iIsT"),C=(p.default.Item,m.default.TextArea,m.default.Search),_="",y={value:"id",label:"name"},I=(k=p.default.create(),k((b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,o.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(n))),a.state={rowActive:"-1",searchSelect:[],notData:!1,isShowSearch:!1},a.getCheckMethods=function(){(0,g.default)("/checkMethodGroup/queryAllCheckMethodGroupAndMethod",{}).then(function(e){e&&a.setState({checkMethod:e.result,checkCount:e.count})})},a.onMouseOut=function(e){a.setState({rowActive:"-1"})},a.onSearchList=function(e){_=e.target.value;var t=a.state.searchSelect,l=a.props.selectCheckList,n=void 0===l?[]:l,i=[];t.forEach(function(e){i.push(e[y.value])}),_?(a.setState({isShowSearch:!0}),n.forEach(function(l){"-1"!=l[y.label].indexOf(e.target.value)&&i.indexOf(l[y.value])<0&&(t.push(l),a.setState({notData:!1}))}),a.setState({searchSelect:t},function(){})):a.setState({searchSelect:[],notData:!1,isShowSearch:!1})},a.handleSelectCheck=function(e,t){var l,n=(l={},(0,s.default)(l,y.value,e),(0,s.default)(l,y.label,t.props.children),l),i=a.props.selectCheckList,c=[];i&&i.length>0&&i.forEach(function(e){c.push(e[y.value])}),"-1"==c.indexOf(e)&&a.props.onSelect&&a.props.onSelect(n)},a.handleDeleteCheck=function(e){var t=a.state,l=t.searchSelect;t.isShowSearch;a.setState({searchSelect:l.filter(function(t){return t[y.value]!==e})},function(){});var n=a.props.selectCheckList,i=n.filter(function(t){return t[y.value]!==e});a.props.onDelete&&a.props.onDelete(i)},a.getGroupClassify=function(){var e=[],t=[],l="";(0,D.getCheckMethodGroupClassify)().then(function(n){n&&(e=n.obj.notAssociated,l=e.length,t=e.map(function(e,t){return v.default.createElement(Option,{value:e.id,key:e.id},e.name)})),a.setState({classifyItems:t,classifyItemsLength:l}),console.log(91,e)})},a.renderCheckList=function(e){console.log("161\u68c0\u6838\u65b9\u6cd5\uff1a",e);a.state.rowActive;var t=e&&e.length>0?e.map(function(e,t){return v.default.createElement("li",{className:"item",key:t},v.default.createElement("span",{className:"label"},e[y.label]),v.default.createElement(c.default,{title:"\u786e\u5b9a\u5220\u9664\u5417?",onConfirm:function(){return a.handleDeleteCheck(e[y.value])}},v.default.createElement("a",{className:"sunm-icon sunm-delete-icon",title:"\u5220\u9664"},v.default.createElement(u.default,{type:"close-circle-o"}))))}):"";return v.default.createElement("ul",{className:"check-list"},t)},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.getGroupClassify()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectCheckList.length<=0&&this.setState({isShowSearch:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.selectCheckList,l=void 0===a?[]:a,n=t.checkMethod,c=t.checkCount,u=t.minHeight,s=t.selectHeight,r=this.state,d=r.searchSelect,o=(r.notData,r.isShowSearch);return v.default.createElement("div",{className:"select-check-list "},v.default.createElement("div",{className:"select-left"},v.default.createElement("span",{className:"result"},l.length,"/",c,"\u9879"),v.default.createElement(i.default,{maxHeight:s,option:n,showSearch:!0,placeholder:" ",value:"",onChange:function(t,a){return e.handleSelectCheck(t,a)}},this.props.checkMethod)),v.default.createElement("div",{style:{minHeight:u},className:"select-right"},v.default.createElement("span",{className:"result"},"\u5df2\u9009",l.length,"\u9879"),l.length>0?v.default.createElement("div",{className:"result-cont"},v.default.createElement(C,{onChange:this.onSearchList}),o&&d.length<=0?v.default.createElement("div",{className:"not-data"},"\u65e0\u5339\u914d\u7ed3\u679c"):o?this.renderCheckList(d):this.renderCheckList(l)):""))}}]),t}(v.Component),E=b))||E);t.default=I},"2o3r":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("Pwec");var c=n(a("CtXQ"));a("miYZ");var u=n(a("tsqr")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg")),h=l(a("q1tI")),m=a("iIsT"),p=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,d.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(n))),a.state={visible:!1,id:""},a.showModalDelete=function(e){var t=e.key;a.setState({id:t,visible:!0})},a.deleteData=function(){(0,m.getcheckScriptDelete)({id:a.state.id}).then(function(e){e.success?u.default.success("\u5220\u9664\u6210\u529f\uff01"):u.default.success("\u5df2\u7ecf\u88ab\u5f15\u7528\u7684\u65e0\u6cd5\u5220\u9664!"),a.props.fetchData()})},a.hideModalDelete=function(){a.setState({visible:!1},function(){a.deleteData(),a.props.fetchData()})},a.handleCancel=function(e){a.setState({visible:!1})},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"render",value:function(e,t){var a=this;return h.default.createElement(h.default.Fragment,null,h.default.createElement(c.default,{type:"delete",className:"qu_icon_write",onClick:function(){return a.showModalDelete(a.props.deleteData,a.props.data)},title:"\u5220\u9664"}),h.default.createElement(i.default,{title:"\u5220\u9664",visible:this.state.visible,onOk:this.hideModalDelete,onCancel:this.handleCancel,cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4"},h.default.createElement("p",null,"\u786e\u5b9a\u5220\u9664\u8be5\u68c0\u6838\u7c7b\u522b\uff1f")))}}]),t}(h.Component);t.default=p},"3CN9":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("p0pE"));a("2qtc");var c=n(a("kLXV")),u=n(a("2Taf")),s=n(a("vZ4D")),r=n(a("l4Ni")),d=n(a("ujKo")),o=n(a("MhPg"));a("y8nQ");var f=n(a("Vl3Y")),h=l(a("q1tI")),m=a("E5h/"),p=n(a("nxTF"));a("TpwP");var v=f.default.Item,g=a("gWUE"),k=function(e){function t(e){var a;return(0,u.default)(this,t),a=(0,r.default)(this,(0,d.default)(t).call(this,e)),a.handleCancel=function(e){a.setState({visible:!1})},a.state={visible:!1},a}return(0,o.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){this.props.form.getFieldDecorator;var e=this.state,t=(e.checkCycle,e.checkName),a=e.checkPlan,l=(e.createTime,e.modifiedTime,e.describe),n=(e.countMethod,e.entryTime),i=e.failureTime,u=e.statusDesc;return h.default.createElement(f.default,{onSubmit:this.handleSubmit,className:g.detailForm},h.default.createElement(v,null,h.default.createElement(c.default,{title:"\u67e5\u770b\u8be6\u60c5",visible:this.state.visible,okText:"\u5173\u95ed",onOk:this.handleOk,onCancel:this.handleCancel,cancelText:null,footer:null},h.default.createElement("ul",{className:g.lb_detail_ul},h.default.createElement("li",null,"\u540d\u79f0\uff1a",t),h.default.createElement("li",null,"\u68c0\u6838\u8ba1\u5212\uff1a",a),h.default.createElement("li",null,"\u63cf\u8ff0\uff1a",l),h.default.createElement("li",null,"\u72b6\u6001\uff1a",u),h.default.createElement("li",null,"\u751f\u6548\u65f6\u95f4\uff1a",n),h.default.createElement("li",null,"\u5931\u6548\u65f6\u95f4\uff1a",i)))))}}]),t}(h.Component),E=f.default.create()((0,m.connect)([{action:p.default.JHLB_ADD_MODAL_DETAILS,handler:function(e,t){this.setState((0,i.default)({visible:e},t))}}])(k));t.default=E},"5JjO":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV"));a("g9YV");var c=l(a("wCAj"));a("14J3");var u=l(a("BMrR"));a("+L6B");var s=l(a("2/Rp"));a("jCWc");var r=l(a("kPKH"));a("Pwec");var d=l(a("CtXQ"));a("BoS7");var o=l(a("Sdc0")),f=l(a("p0pE")),h=l(a("2Taf")),m=l(a("vZ4D")),p=l(a("l4Ni")),v=l(a("ujKo")),g=l(a("rlhR")),k=l(a("MhPg"));a("miYZ");var E=l(a("tsqr"));a("y8nQ");var b=l(a("Vl3Y"));a("nRaC");var D=l(a("5RzL"));a("Znn+");var C=l(a("ZTPi"));a("OaEy");var _=l(a("2fM7"));a("5NDa");var y,I,N,S=l(a("5rEg")),M=n(a("q1tI")),T=l(a("LvDl")),w=a("E5h/"),q=l(a("Mosh")),L=l(a("hK77")),O=l(a("bc8c")),x=(l(a("amQ/")),l(a("+RQo"))),A=l(a("2/E7")),F=l(a("liq6")),P=l(a("H7Cl")),j=l(a("xbAT")),B=l(a("99PG")),H=a("qxfp"),V=a("iIsT"),G=(S.default.Group,_.default.Option),R=(C.default.TabPane,S.default.TextArea,D.default.TreeNode,b.default.Item);function J(e){console.log("selected ".concat(e))}function K(){console.log("blur")}function U(){console.log("focus")}var Z=(y=b.default.create(),y((N=function(e){function t(e){var a;return(0,h.default)(this,t),a=(0,p.default)(this,(0,v.default)(t).call(this,e)),a.showModalCheck=function(e){1!=e.status&&(0,w.emit)(L.default.JHLB_Edit,!0,e)},a.showModalMethodGroup=function(e){(0,w.emit)(L.default.JHLB_Edit_METHODGROUP,!0,e),a.AddMethodGroup.fetchCheckMethodGroupTaskAll()},a.showModalDetails=function(e){(0,w.emit)(L.default.JHLB_ADD_MODAL_DETAILS,!0,e)},a.fetchData=function(){var e=a.state,t=(e.name,e.status,e.pageNum),l=e.sortObj;a.setState({loading:!0}),(0,V.getCheckMethodGroupList)({name:a.state.name,status:a.state.status,pageNum:t,pageSize:10,orderBy:l.orderBy,order:l.order}).then(function(e){if(e&&e.obj){var t=e.obj;a.handlerData(t)}a.setState({loading:!1})})},a.onSwitchChange=function(e,t){0==e&&(0,V.getCheckMethodGroupHangUp)({id:t.key}).then(function(e){e.success?E.default.success(e.msg):E.default.error(e.msg),a.fetchData()}),1==e&&(0,V.getCheckMethodGroupTakeEffect)({id:t.key}).then(function(e){e.success?E.default.success(e.msg):E.default.error(e.msg),a.fetchData()})},a.forsearch=function(){a.fetchData()},a.onChange=function(e){a.setState({value:e})},a.showModal=function(){(0,w.emit)(L.default.JHLB_ADD_MODAL,!0)},a.showModalEdit=function(){(0,w.emit)(L.default.JHLB_ADD_METHOD_EDIT,!0)},a.handleSearch=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){a.setState({name:t.name,status:t.status,pageNum:1},function(){a.forsearch()})})},a.handleReset=function(){a.props.form.resetFields()},a.toggle=function(){var e=a.state.expand;a.setState({expand:!e})},a.handleExport=function(){var e=a.state,t=e.name,l=e.status,n="".concat(H.BASE_URL,"/checkMethodGroup/exportData").concat(q.default.objectToChain({name:void 0==t?"":t,status:void 0==l?"":l,token:(0,H.TOKEN)()}));window.location.href=n},a.handleTableChange=function(e,t,l){var n=l.field?T.default.snakeCase(l.field):"",i="";"descend"===l.order?i="desc":"ascend"===l.order&&(i="asc"),a.setState({pageNum:e.current,sortObj:{orderBy:n,order:i}},function(){a.fetchData()})},a.getChildData=function(e){(0,V.getCheckMethodGroupSaveSave)({name:e.name,categoryId:e.categoryId,status:e.status,checkMethods:e.checkMethods,description:e.description}).then(function(e){e.success?E.default.success(e.msg):E.default.error(e.msg),a.fetchData()})},a.getChildData2=function(e){(0,V.getCheckMethodGroupUpdate)({id:e.id,name:e.name,categoryId:e.categoryId,status:e.status,checkMethods:e.checkMethods,description:e.description}).then(function(e){e.success?E.default.success(e.msg):E.default.error(e.msg),a.fetchData()})},a.getResult=function(e){e.obj.fileName,e.obj.importTotal,e.obj.errorNum,a.setState({fileName:e.obj.fileName,checkMethodTotal:e.obj.importTotal,checkMethodErrorNum:e.obj.errorNum})},a.getErrorHtml=function(){return M.default.createElement("div",null,M.default.createElement("div",{style:{marginBottom:"8px"}}," \u6587\u4ef6\u540d:",a.state.fileName),M.default.createElement("div",{style:{marginBottom:"8px"}},"\u68c0\u6838\u65b9\u6cd5\u603b\u6570:",a.state.checkMethodTotal),M.default.createElement("div",{style:{marginBottom:"8px"}},"\u68c0\u6838\u65b9\u6cd5\u9519\u8bef\u6570:",a.state.checkMethodErrorNum))},a.handleDown=function(){window.location.href="".concat(H.BASE_URL,"/checkMethodGroup/downTemplate?token=").concat((0,H.TOKEN)())},a.onRef=function(e){a.AddMethodGroup=e},a.openAssociationModal=function(e){a.setState({associationModalData:e}),(0,V.getCheckMehodName)({id:e.id}).then(function(e){e&&e.success&&a.setState({associationModalData:(0,f.default)({},a.state.associationModalData,{data:e.obj})})})},a.closeAssociationModal=function(e){a.setState({associationModalData:{}})},a.state={value:void 0,expand:!1,dataMap:[],total:0,pageNum:1,sortObj:{orderBy:"",order:""},loading:!1,checkName:"",createTime:"",description:"",name:"",status:"",associationModalData:{}},a.columns=[{key:"name",title:"\u68c0\u6838\u65b9\u6cd5\u7ec4",dataIndex:"name",width:"20%",sorter:!0,render:function(e,t){return M.default.createElement("span",{title:e,className:"colsql",style:{color:"#1890ff",cursor:"pointer",paddingLeft:"0.5em"},onClick:function(){return a.showModalDetails(t)}},e)}},{key:"checkInfo",title:"\u68c0\u6838\u4fe1\u606f",dataIndex:"checkInfo",width:"25%",render:function(e){return M.default.createElement("span",{title:e,className:"colsql"},e)}},{title:"\u4efb\u52a1\u540d\u79f0",dataIndex:"taskName",key:"taskName",width:"15%"},{key:"description",title:"\u63cf\u8ff0",dataIndex:"description",width:"35%",render:function(e){return M.default.createElement("span",{title:e,className:"colsql"},e)}},{key:"status",title:"\u72b6\u6001",dataIndex:"status",width:"10%",render:function(e,t){return M.default.createElement(o.default,{checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77",checked:!/^0|2$/.test(t.status),onChange:function(e){a.onSwitchChange(e,t)}})}},{title:"\u64cd\u4f5c",dataIndex:"operate",key:"operate",width:"10%",render:function(e,t){return M.default.createElement("div",{style:{display:"flex"}},1==t.status?M.default.createElement(d.default,{type:"form",className:"qu_icon_write2",onClick:function(){return a.showModalCheck(t)},title:"\u7f16\u8f91"}):M.default.createElement(d.default,{type:"form",className:"qu_icon_write",onClick:function(){return a.showModalCheck(t)},title:"\u7f16\u8f91"}),M.default.createElement(d.default,{type:"export",className:"qu_icon_write",onClick:function(){return a.showModalMethodGroup(t)},title:"\u6dfb\u52a0\u5230\u4f5c\u4e1a"}),/^0|2$/.test(t.status)?M.default.createElement(x.default,{deleteData:t,data:a.state.data,fetchData:a.fetchData}):"",M.default.createElement(d.default,{type:"tags",className:"qu_icon_write",title:"\u5173\u8054\u7684\u68c0\u6838\u65b9\u6cd5\u548c\u811a\u672c",onClick:a.openAssociationModal.bind((0,g.default)(a),t)}))}}],a}return(0,k.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"handlerData",value:function(e){var t=e.total,a=e.list,l=a.map(function(e){return(0,f.default)({},e,{key:e.id})});this.setState({data:l,total:t})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,l=(a.visible,a.total),n=a.pageNum,d=(a.data,a.name,a.status,a.loading),o=a.associationModalData;return M.default.createElement("div",{className:"layOut"},M.default.createElement("div",null,M.default.createElement(b.default,{className:"ant-advanced-search-form",onSubmit:this.handleSearch},M.default.createElement(u.default,{gutter:24},M.default.createElement(r.default,{span:6},M.default.createElement(R,{label:"\u540d\u79f0\u7ec4\u540d"},t("name",{rules:[{required:!1,message:"Input something!"}]})(M.default.createElement(S.default,{placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0\u7ec4\u540d"})))),M.default.createElement(r.default,{span:6},M.default.createElement(R,{label:"\u68c0\u6838\u72b6\u6001"},t("status",{rules:[{required:!1,message:"Input something!"}]})(M.default.createElement(_.default,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u68c0\u6838\u72b6\u6001",optionFilterProp:"children",onChange:J,onFocus:U,onBlur:K,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},M.default.createElement(G,{value:"1"},"\u751f\u6548"),M.default.createElement(G,{value:"2"},"\u6302\u8d77"))))),M.default.createElement(r.default,{span:2},M.default.createElement(s.default,{type:"primary",htmlType:"submit"},"\u641c\u7d22")),M.default.createElement(r.default,{span:2},M.default.createElement(s.default,{type:"primary",onClick:this.handleReset},"\u91cd\u7f6e"))))),M.default.createElement("div",{className:j.default.check_method_table},M.default.createElement("div",{style:{display:"flex",marginTop:"10px",marginBottom:"10px"}},M.default.createElement("div",{className:"qu_third_button",style:{display:"flex"}},M.default.createElement(s.default,{icon:"plus",onClick:this.showModal,style:{margin:"0 10px"}},"\u65b0\u589e"),M.default.createElement(O.default,{visible:this.state.visible,getChildData:this.getChildData}),M.default.createElement(B.default,{getResult:function(t){return e.getResult(t)},errorFile:this.state.fileName,content:this.getErrorHtml(),url:"/checkMethodGroup/importData/",uploadErrorUrl:"/checkMethodGroup/downExceptionExcel?fileName="+this.state.fileName})),M.default.createElement(s.default,{type:"button",icon:"export",className:"qu_method_export",style:{margin:"0 10px"},onClick:this.handleExport},"\u5bfc\u51fa"),M.default.createElement(s.default,{type:"button",icon:"download",className:"qu_method_export",style:{margin:"0 10px"},onClick:this.handleDown},"\u4e0b\u8f7d\u6a21\u677f")),M.default.createElement(c.default,{columns:this.columns,dataSource:this.state.data,className:"tableLine",pagination:{pageSize:10,total:l,current:n},loading:d,onChange:this.handleTableChange}),M.default.createElement(A.default,{visible:this.state.visible,getChildData:this.getChildData2,fetchData:this.fetchData}),M.default.createElement(F.default,{onRef:this.onRef,fetchData:this.fetchData}),M.default.createElement(P.default,null)),M.default.createElement(i.default,{title:"\u5173\u8054\u7684\u68c0\u6838\u65b9\u6cd5\u548c\u811a\u672c",visible:!!o.id,onOk:this.closeAssociationModal,onCancel:this.closeAssociationModal,footer:null},o.data&&o.data.map(function(e,t){return M.default.createElement("div",{key:t,style:{marginBottom:"0.5em"}},M.default.createElement("div",{style:{fontSize:"1.1em"}},e.flagName,"\uff1a"),M.default.createElement("div",{style:{maxHeight:"8em",overflowY:"auto"}},0===e.checkMethods.length?"\u7a7a":e.checkMethods.map(function(e,t){return M.default.createElement("div",{key:t,style:{marginRight:"2em"}},e)})))})))}}]),t}(M.Component),I=N))||I);t.default=Z},"61M5":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("Pwec");var c=n(a("CtXQ"));a("miYZ");var u=n(a("tsqr")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg")),h=l(a("q1tI")),m=a("iIsT");a("TpwP");var p=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,d.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(n))),a.state={visible:!1,id:""},a.showModalDelete=function(e){var t=e.key;a.setState({id:t,visible:!0})},a.deleteData=function(){(0,m.getcheckScriptDelete)({id:a.state.id}).then(function(e){e.success?u.default.success("\u5220\u9664\u6210\u529f\uff01"):u.default.success("\u5df2\u7ecf\u88ab\u5f15\u7528\u7684\u65e0\u6cd5\u5220\u9664!"),a.props.fetchData()})},a.hideModalDelete=function(){a.setState({visible:!1},function(){a.deleteData(),a.props.fetchData()})},a.handleCancel=function(e){a.setState({visible:!1})},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"render",value:function(e,t){var a=this;return h.default.createElement(h.default.Fragment,null,h.default.createElement(c.default,{type:"delete",className:"qu_icon_write",onClick:function(){return a.showModalDelete(a.props.deleteData,a.props.data)},title:"\u5220\u9664"}),h.default.createElement(i.default,{title:"\u5220\u9664",visible:this.state.visible,onOk:this.hideModalDelete,onCancel:this.handleCancel,cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4"},h.default.createElement("p",null,"\u786e\u5b9a\u5220\u9664\u8be5\u68c0\u6838\u65b9\u6cd5\uff1f")))}}]),t}(h.default.Component);t.default=p},"8USV":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.fillDefaultValue=void 0;var n=l(a("Mosh")),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.default.isNull(e)?{}:(Object.keys(e).forEach(function(a){t[a]?e[a]=t[a](e[a]):e[a]=n.default.isNull(e[a])?"":e[a]}),e)};t.fillDefaultValue=i},"9d74":function(e,t,a){e.exports={"nav-base":"nav-base___2FF4s",nav:"nav___3dtOG","nav-collapsed":"nav-collapsed___1LHpa",searchBar:"searchBar___1XWgO",header:"header___1Ptx0",trigger:"trigger___d-5Wb",right:"right___10F_g",action:"action___1YfBr",name:"name___1P_s3",globalFooter:"globalFooter___1Zgcl",layOut:"layOut___1wc49","example-input":"example-input___1JFd2","ant-input":"ant-input___1Kyv0",ul1Style:"ul1Style___1aG78",qu_third_button:"qu_third_button___3Nejv",check_method_table:"check_method_table___1Vm6Y"}},ATBY:function(e,t,a){e.exports={"nav-base":"nav-base___2dkD2",nav:"nav___1ry25","nav-collapsed":"nav-collapsed___xSHjw",searchBar:"searchBar___1YT8m",header:"header___BqNdK",trigger:"trigger___2XqOF",right:"right___I60qC",action:"action___RKW8l",name:"name___34Tpd",globalFooter:"globalFooter___1pnx-",lb_detail_ul:"lb_detail_ul___yfGXk",detailForm:"detailForm___19Ki4","ant-modal-content":"ant-modal-content___3VgkP","ant-btn":"ant-btn___3UieI"}},DRqg:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("BoS7");var c=n(a("Sdc0")),u=n(a("jehZ"));a("y8nQ");var s=n(a("Vl3Y")),r=n(a("eHn4"));a("/zsF");var d=n(a("PArb")),o=n(a("p0pE")),f=n(a("2Taf")),h=n(a("vZ4D")),m=n(a("l4Ni")),p=n(a("ujKo")),v=n(a("rlhR")),g=n(a("MhPg"));a("5NDa");var k=n(a("5rEg"));a("iQDF");var E=n(a("+eQT"));a("OaEy");var b=n(a("2fM7")),D=l(a("q1tI")),C=a("MuoO"),_=n(a("wd/R")),y=a("iIsT"),I=n(a("NGnA")),N=b.default.Option,S=E.default.RangePicker,M=k.default.TextArea,T=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"],w=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u65e5"],q="\u5168\u90e8",L=function(e){function t(){var e,a;(0,f.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,m.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(n))),a.sortNumbers=function(e){return e.sort(function(e,t){return e-t})},a.formatArr=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=[[]],i=0;i<e.length;i++){var c=t?t[e[i]-1]:e[i];n[n.length-1].push(c),e[i+1]&&e[i+1]-e[i]!==1&&n.push([])}var u=n.map(function(e){return 1===e.length?"".concat(a).concat(e[0]).concat(l):"".concat(a).concat(e[0],"-").concat(e[e.length-1]).concat(l)});return u},a.simpleTagPlaceholder=function(e){var t=a.sortNumbers(e);return a.formatArr(t).join(",")},a.monthTagPlaceholder=function(e){var t=a.sortNumbers(e);return a.formatArr(t,T,"","\u6708").join(",")},a.weekTagPlaceholder=function(e){var t=a.sortNumbers(e);return a.formatArr(t,w,"\u5468","").join(",")},a.handleOk=function(){a.props.form.validateFieldsAndScroll(function(e,t){if(!e){t.effectiveDate&&(t.entryTime=t.effectiveDate[0].format("YYYY-MM-DD HH:mm:ss"),t.failureTime=t.effectiveDate[1].format("YYYY-MM-DD HH:mm:ss")),delete t.effectiveDate,t.status=t.status?1:0;for(var l=["day","hour","minute","month","week"],n=0,i=l;n<i.length;n++){var c=i[n];void 0===t[c]||Array.isArray(t[c])&&0===t[c].length?t[c]="*":Array.isArray(t[c])&&(t[c]=a.simpleTagPlaceholder(t[c]))}a.props.submit((0,o.default)({},t,{id:a.props.data.id}))}})},a.getInitialValue=function(e){if(e&&"*"!==e&&"?"!==e){var t=[];return e.split(",").forEach(function(e){var a=e.split("-").map(function(e){return parseInt(e)});if(1===a.length)t.push(a[0]);else for(var l=a[0];l<=a[1];l++)t.push(l)}),t}},a.renderDropdown=function(e,t){return function(l){return D.default.createElement("div",{className:I.default.dropdown},l,D.default.createElement(d.default,{className:I.default.divider}),D.default.createElement("div",{className:I.default.action,onMouseDown:function(e){return e.preventDefault()}},D.default.createElement("span",{className:I.default.selectAll,onClick:a.selectAll.bind((0,v.default)(a),e,t)},"\u5168\u9009"),D.default.createElement("span",{className:I.default.unselectAll,onClick:a.unselectAll.bind((0,v.default)(a),e)},"\u5168\u4e0d\u9009")))}},a.selectAll=function(e,t){var l=a.getInitialValue(t);a.props.form.setFieldsValue((0,r.default)({},e,l))},a.unselectAll=function(e){a.props.form.setFieldsValue((0,r.default)({},e,void 0))},a.changePeriod=function(e){if(5===e){var t=a.props.form,l=t.setFieldsValue,n=t.getFieldValue;l({minute:[n("checkCycle")]})}},a}return(0,g.default)(t,e),(0,h.default)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.data.id&&JSON.stringify(e.data)!==JSON.stringify(this.props.data)&&(this.props.form.setFieldsValue({checkCycle:this.props.data.checkCycle}),this.props.form.resetFields())}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldValue,l=this.props.data,n=l.checkCycle,r=l.month,d=l.day,o=l.week,f=l.hour,h=l.minute,m=l.entryTime,p=l.failureTime,v=l.checkName,g=l.status,E=l.describe,C=l.id,L=l.type,O=a("checkCycle"),x=O<=1,A=O<=2,F=O<=4,P=O<=5,j=3===O,B=5===O,H="view"===L,V=B?{mode:"multiple",maxTagCount:0,maxTagPlaceholder:this.simpleTagPlaceholder,dropdownRender:this.renderDropdown("minute","0-59"),placeholder:q}:{},G=B?this.getInitialValue(h):h||0,R=function(e,t,a){(0,y.checkTaskCheckName)({checkName:t,id:C}).then(function(e){1!=e?t&&t.length>=30?a("\u540d\u5b57\u8fc7\u957f\uff01"):a():a("\u540d\u5b57\u91cd\u590d\uff01")})},J=H?{footer:null}:{};return D.default.createElement(i.default,(0,u.default)({title:"\u8bbe\u7f6e",visible:!!L,onOk:this.handleOk,onCancel:this.props.closeSetModal},J),D.default.createElement(s.default,{className:I.default.form},D.default.createElement(s.default.Item,{label:"\u540d\u79f0"},t("checkName",{initialValue:v,rules:[{required:!0,message:"\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"},{validator:R}]})(D.default.createElement(k.default,{disabled:H}))),D.default.createElement(s.default.Item,{label:"\u4efb\u52a1\u9891\u7387"},t("checkCycle",{initialValue:n||"1"})(D.default.createElement(b.default,{onChange:this.changePeriod,disabled:H},D.default.createElement(N,{value:"1"},"\u5e74"),D.default.createElement(N,{value:"2"},"\u6708"),D.default.createElement(N,{value:"3"},"\u5468"),D.default.createElement(N,{value:"4"},"\u65e5"),D.default.createElement(N,{value:"5"},"\u65f6")))),x&&D.default.createElement(s.default.Item,{label:"\u4efb\u52a1\u65e5\u671f"},t("month",{initialValue:this.getInitialValue(r)})(D.default.createElement(b.default,{mode:"multiple",dropdownClassName:I.default.multipleDropdown,maxTagCount:0,maxTagPlaceholder:this.monthTagPlaceholder,dropdownRender:this.renderDropdown("month","1-12"),placeholder:q,disabled:H},T.map(function(e,t){return D.default.createElement(N,{value:t+1,key:e},e,"\u6708")})))),A&&D.default.createElement(s.default.Item,{label:x?" ":"\u4efb\u52a1\u65e5\u671f",colon:!x},t("day",{initialValue:this.getInitialValue(d)})(D.default.createElement(b.default,{mode:"multiple",dropdownClassName:I.default.multipleDropdown,maxTagCount:0,maxTagPlaceholder:this.simpleTagPlaceholder,dropdownRender:this.renderDropdown("day","1-31"),placeholder:q,disabled:H},new Array(31).fill("").map(function(e,t){return D.default.createElement(N,{value:t+1,key:t+1},t+1)})))),j&&D.default.createElement(s.default.Item,{label:"\u4efb\u52a1\u65e5\u671f"},t("week",{initialValue:this.getInitialValue(o)})(D.default.createElement(b.default,{mode:"multiple",dropdownClassName:I.default.multipleDropdown,maxTagCount:0,maxTagPlaceholder:this.weekTagPlaceholder,dropdownRender:this.renderDropdown("week","1-7"),placeholder:q,disabled:H},w.map(function(e,t){return D.default.createElement(N,{value:t+1,key:e},"\u5468",e)})))),F&&D.default.createElement(s.default.Item,{label:"\u4efb\u52a1\u65f6\u95f4"},t("hour",{initialValue:this.getInitialValue(f)})(D.default.createElement(b.default,{mode:"multiple",dropdownClassName:I.default.multipleDropdown,maxTagCount:0,maxTagPlaceholder:this.simpleTagPlaceholder,dropdownRender:this.renderDropdown("hour","0-23"),placeholder:q,disabled:H},new Array(24).fill("").map(function(e,t){return D.default.createElement(N,{value:t,key:t},t)})))),P&&D.default.createElement(s.default.Item,{label:F?" ":"\u4efb\u52a1\u65f6\u95f4",colon:!F},t("minute",{initialValue:G})(D.default.createElement(b.default,(0,u.default)({dropdownClassName:I.default.multipleDropdown},V,{disabled:H}),new Array(60).fill("").map(function(e,t){return D.default.createElement(N,{value:t,key:t},t)})))),D.default.createElement(s.default.Item,{label:"\u751f\u6548\u65e5\u671f"},t("effectiveDate",{initialValue:m&&p?[(0,_.default)(m),(0,_.default)(p)]:void 0})(D.default.createElement(S,{style:{width:"100%"},disabled:H}))),D.default.createElement(s.default.Item,{label:"\u72b6\u6001"},t("status",{initialValue:1===g,valuePropName:"checked"})(D.default.createElement(c.default,{disabled:H}))),D.default.createElement(s.default.Item,{label:"\u63cf\u8ff0"},t("describe",{initialValue:E})(D.default.createElement(M,{rows:4,disabled:H})))))}}]),t}(D.Component),O=(0,C.connect)()(s.default.create()(L));t.default=O},E66A:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("+L6B");var c=n(a("2/Rp"));a("BoS7");var u=n(a("Sdc0"));a("14J3");var s=n(a("BMrR"));a("jCWc");var r=n(a("kPKH")),d=n(a("jehZ"));a("miYZ");var o=n(a("tsqr")),f=n(a("p0pE")),h=n(a("qIgq")),m=n(a("2Taf")),p=n(a("vZ4D")),v=n(a("l4Ni")),g=n(a("ujKo")),k=n(a("rlhR")),E=n(a("MhPg"));a("5NDa");var b=n(a("5rEg"));a("OaEy");var D=n(a("2fM7"));a("y8nQ");var C=n(a("Vl3Y"));a("nRaC");var _=n(a("5RzL")),y=l(a("q1tI")),I=n(a("1TlN")),N=n(a("Mosh")),S=a("E5h/"),M=n(a("kDOs")),T=a("iIsT"),w=a("Jur2"),q=(_.default.TreeNode,C.default.Item),L=D.default.Option,O=b.default.TextArea,x={value:"id",label:"name"},A=function(e){function t(e){var a;return(0,m.default)(this,t),a=(0,v.default)(this,(0,g.default)(t).call(this,e)),a.fetchTableName=function(){(0,T.getModelList)({}).then(function(e){var t=[],l={};if(N.default.notNull(e)&&N.default.notNull(e.obj)){var n=e.obj.nodes;N.default.notNull(n)&&(t=n.map(function(e){var t=e.id,a=e.tableName,n=e.tableNameCn,i=e.items;return l[t]=[a,i],y.default.createElement(L,{value:t,key:t},N.default.isNull(n)?a:n)}))}a.setState({tables:t,tablesMap:l})})},a.fetchTableNamess=function(e){(0,T.getCatagory)(e).then(function(e){if(e&&e.obj){var t=(0,w.generateCheckTableName)(e.obj);a.setState({checkTableName:t})}})},a.checkTableChange=function(e){var t=a.state.tablesMap;a.selectQueryData(e);var l=(0,h.default)(t[e],2),n=(l[0],l[1]),i=void 0===n?[]:n,c=a.generateCheckItemsOptions(i);a.setState({checkFields:c,checkFieldId:"",queryDataItemss:[],queryDataItemssChineseName:[]})},a.selectQueryData=function(e){var t=[],l=[];(0,T.modelDataItems)({id:e}).then(function(e){e&&e.obj&&(t=e.obj,l=t.map(function(e,t){return y.default.createElement(L,{value:e.dataItemId?Number(e.dataItemId):"",key:e.dataItemId?Number(e.dataItemId):"","data-name":e.dataItemName},e.chineseName)})),a.setState({selectDataItemsSelect:l})})},a.generateCheckItemsOptions=function(e){return N.default.notNull(e)?e.map(function(e){if(e){var t=e.dataItemId||e.id||"",a=e.chineseName,l=e.dataItemName;return y.default.createElement(L,{value:t,key:t,"data-name":l},a)}}):[]},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1}),a.props.form.resetFields()},a.handleSubmit=function(e){var t=a.state,l=t.queryDataItemssChineseName,n=(t.status,[]);if(l.forEach(function(e){n.push({id:e[x.value]})}),!(n.length>0))return o.default.warning("\u8bf7\u9009\u62e9\u67e5\u8be2\u6570\u636e\u9879");e.preventDefault(),a.props.form.validateFields(function(e,t){e||(t.queryDataItemss=a.state.queryDataItemssChineseName,a.setState({visible:!1},function(){var e=a.state.status;a.props.getChildData((0,f.default)({},t,{newStatus:e,id:a.state.key})),a.props.form.resetFields()}))})},a.fetchDateSourcList=function(){(0,T.getDateSourcCheckMethod)().then(function(e){e&&e.obj&&a.setState({sourceList:e.obj})})},a.fetchCheckType=function(){(0,T.getEffectivCheckType)().then(function(e){e&&e.length||(e=[]),a.setState({checkTypeData:e})})},a.checkFieldIdChange=function(e,t){a.setState({},function(){a.props.form.setFieldsValue({checkCondition:a.state.checkCondition?a.state.checkCondition.replace(/#{[^{}]+}/,function(e,t){return"".concat(a.state.EnglishName)}):""})})},a.onChangeTableName=function(e){a.setState({singleDataItems:[],checkFieldId:"",EnglishName:"",queryDataItemssChineseName:[]}),a.props.form.setFieldsValue({checkFieldId:"",queryDataItemss:[],queryDataItemssChineseName:[],queryFieldIds:[]}),(0,T.getDateDataItems)({id:e}).then(function(e){var t=[],l=[];e&&e.obj&&(t=e.obj,l=t.map(function(e,t){return y.default.createElement(L,{value:e.dataItemId,key:e.dataItemId,"data-name":e.dataItemName},e.chineseName)}));var n=l.length;a.setState({singleDataItems:l,singleDataItemsLength:n})})},a.changeForId=function(e){(0,k.default)(a);var t,l,n,i="";(0,T.getCheckMethodInfo)({id:e}).then(function(e){e.checkCondition&&(t=e.checkCondition),l=e.description,n=e.qualityDimension,i=e.checkCondition,a.setState({checkCondition:t,description:l,qualityDimension:n,middleCheckCondition:i})})},a.handleSelectCheck=function(e){var t=a.state.queryDataItemssChineseName;t.push(e),a.setState({queryDataItemssChineseName:t})},a.handleDeleteCheck=function(e){a.setState({queryDataItemssChineseName:e})},a.dataSourceId=function(e){var t=(0,k.default)(a);a.setState({checkDatabaseId:e},function(){a.state.onChangeScriptValue&&a.state.onChangeScriptValue.length>0&&(0,T.checkMethodValidateCheckSqlContent)({flag:1,checkDatabaseId:a.state.checkDatabaseId,checkSqlContent:a.state.onChangeScriptValue}).then(function(e){e&&0==e.success?(o.default.warning(e.msg),t.setState({disable:!0})):t.setState({disable:!1})})}),a.fetchTableNamess({datasourceId:e})},a.onChangeScript=function(e){var t=(0,k.default)(a),l=e.target.value;a.setState({onChangeScriptValue:l}),(0,T.checkMethodValidateCheckSqlContent)({flag:1,checkDatabaseId:a.state.checkDatabaseId,checkSqlContent:l}).then(function(e){e&&0==e.success?(o.default.warning(e.msg),t.setState({disable:!0})):t.setState({disable:!1}),(0,T.checkMethodValidateCheckSqlContent)({flag:1,checkDatabaseId:a.state.checkDatabaseId,checkSqlContent:l}).then(function(e){e&&0==e.success&&o.default.warning(e.msg)})})},a.state={visible:!1,sourceList:[],checkTypeData:[],EnglishName:"",disable:!1,selectDataItemsSelect:[],disabled:!0,singleDataItems:[],checkTableName:[]},a}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.fetchDateSourcList(),this.fetchCheckType(),this.fetchTableName()}},{key:"componentDidUpdate",value:function(e){this.props.record.checkDatabaseId!==e.record.checkDatabaseId&&this.fetchTableNamess({datasourceId:this.props.record.checkDatabaseId})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:12},sm:{span:8}},wrapperCol:{xs:{span:12},sm:{span:14}}},l={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:19}}},n=this.state,o=(n.checkCondition,n.description,n.checkDatabaseId,n.queryFieldChineseName,n.fieldChineseName,n.tableChineseName,n.qualityDimension,n.status,n.name,n.checkTypeId,n.tableId,n.checkFieldId,n.queryFieldIds,n.checkSqlContent,function(t,a,l){(0,T.checkName)({name:a,id:e.state.id,flag:1}).then(function(e){1!=e?a.length>=30?l("\u540d\u5b57\u8fc7\u957f\uff01"):l():l("\u540d\u5b57\u91cd\u590d")})});return y.default.createElement(i.default,{title:"\u7f16\u8f91\u68c0\u6838\u811a\u672c",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.handleOk,onCancel:this.handleCancel,footer:null},y.default.createElement(C.default,{className:"addOfTable"},y.default.createElement(s.default,{gutter:24},y.default.createElement(r.default,{span:24},y.default.createElement(q,(0,d.default)({label:"\u811a\u672c\u540d\u79f0"},l),t("name",{initialValue:this.state.name,rules:[{required:!1,message:""},{validator:o}]})(y.default.createElement(b.default,{placeholder:"",onBlur:this.onChangeUserName,onKeyUp:this.nameKeyUp,maxLength:"30"}))))),y.default.createElement(s.default,{gutter:24},y.default.createElement(r.default,{span:12},y.default.createElement(q,(0,d.default)({label:"\u6570\u636e\u6e90"},a),t("checkDatabaseId",{initialValue:this.state.checkDatabaseId,rules:[{required:!0,message:"\u6570\u636e\u6e90\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(D.default,{onChange:this.dataSourceId},this.state.sourceList.map(function(e,t){return y.default.createElement(L,{value:e.id,key:t},e.sourceName)}))))),y.default.createElement(r.default,{span:12},y.default.createElement(q,(0,d.default)({label:"\u68c0\u6838\u7c7b\u522b"},a),t("checkTypeId",{initialValue:this.state.checkTypeId,rules:[{required:!0,message:"\u68c0\u6838\u7c7b\u522b\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(D.default,{onChange:this.changeForId,onFocus:this.fetchCheckType},this.state.checkTypeData.map(function(e,t){return y.default.createElement(L,{value:e.id,key:t},e.checkName)})))))),y.default.createElement(s.default,{gutter:24},y.default.createElement(r.default,{span:12},y.default.createElement(q,(0,d.default)({label:"\u68c0\u6838\u8868\u540d"},a),t("tableId",{initialValue:this.state.tableId,rules:[{required:!0,message:"\u68c0\u6838\u8868\u540d\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(_.default,{showSearch:!0,placeholder:"",allowClear:!0,treeDefaultExpandAll:!0,dropdownMatchSelectWidth:!1,dropdownStyle:{width:200,maxHeight:400},onChange:this.onChangeTableName,treeNodeFilterProp:"title"},this.state.checkTableName)))),y.default.createElement(r.default,{span:12},y.default.createElement(q,(0,d.default)({label:"\u68c0\u6838\u6570\u636e\u9879"},a),t("checkFieldId",{initialValue:this.state.checkFieldId,rules:[{required:!0,message:"\u68c0\u6838\u6570\u636e\u9879\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(D.default,{onChange:this.checkFieldIdChange},this.state.singleDataItems))))),y.default.createElement(s.default,{gutter:24},y.default.createElement(r.default,{span:24},y.default.createElement(q,(0,d.default)({label:"\u67e5\u8be2\u6570\u636e\u9879",span:24},l),t("queryDataItemss",{})(y.default.createElement(I.default,{checkCount:this.state.singleDataItemsLength,checkMethod:this.state.singleDataItems,selectCheckList:this.state.queryDataItemssChineseName,selectHeight:180,onSelect:function(t){return e.handleSelectCheck(t)},onDelete:function(t){return e.handleDeleteCheck(t)},onSearchList:function(t){return e.handleSearchList(t)}}))))),y.default.createElement(s.default,{gutter:24},y.default.createElement(r.default,{span:24},y.default.createElement(q,(0,d.default)({label:"\u68c0\u6838\u811a\u672c"},l),t("checkSqlContent",{initialValue:this.state.checkSqlContent,rules:[{required:!0,message:"\u68c0\u6838\u811a\u672c\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(O,{rows:4,onKeyUp:this.onChangeScript,onpaste:this.onChangeScript}))))),y.default.createElement(s.default,{gutter:24},y.default.createElement(r.default,{span:24},y.default.createElement(q,(0,d.default)({label:"\u63cf\u8ff0\uff1a"},l),t("description",{initialValue:this.state.description,rules:[{required:!1,message:""}]})(y.default.createElement(O,{rows:4}))))),y.default.createElement(s.default,{gutter:24},y.default.createElement(r.default,{span:24},y.default.createElement(q,(0,d.default)({label:"\u72b6\u6001:"},l),t("status",{initialValue:!0,rules:[{required:!0,message:""}]})(y.default.createElement(u.default,{checked:this.state.status,onChange:function(){e.setState({status:!e.state.status})},checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77"})))))),y.default.createElement(c.default,{type:"primary",style:{marginLeft:"40%"},onClick:this.handleSubmit,disabled:this.state.disable},"\u786e\u5b9a"))}}]),t}(y.Component),F=C.default.create()((0,S.connect)([{action:M.default.JHLB_Edit,handler:function(e,t){var a=this,l=1==t.status,n=this.generateCheckItemsOptions(t.queryDataItems),i=t.tableId;this.selectQueryData(i);var c=t.queryDataItems,u=[],s=[];c.map(function(e,t){var a=e.id;return u.push(a),s.push({id:e.id,name:e.chineseName})}),this.setState((0,f.default)({},t,{queryDataItemss:u,checkFields:n,queryDataItemssChineseName:s,visible:e,status:l})),(0,T.getDateDataItems)({id:t.tableId}).then(function(e){var t=[],l=[];e&&e.obj&&(t=e.obj,l=t.map(function(e,t){return y.default.createElement(L,{value:e.dataItemId,key:e.dataItemId,"data-name":e.dataItemName},e.chineseName)}));var n=l.length;a.setState({singleDataItems:l,singleDataItemsLength:n})})}}])(A));t.default=F},FGxN:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var i=l(a("wCAj"));a("14J3");var c=l(a("BMrR"));a("+L6B");var u=l(a("2/Rp"));a("iQDF");var s=l(a("+eQT"));a("jCWc");var r=l(a("kPKH"));a("5NDa");var d=l(a("5rEg")),o=l(a("p0pE"));a("Pwec");var f=l(a("CtXQ"));a("BoS7");var h=l(a("Sdc0"));a("miYZ");var m=l(a("tsqr")),p=l(a("eHn4")),v=l(a("2Taf")),g=l(a("vZ4D")),k=l(a("l4Ni")),E=l(a("ujKo")),b=l(a("rlhR")),D=l(a("MhPg"));a("y8nQ");var C=l(a("Vl3Y"));a("OaEy");var _,y,I,N=l(a("2fM7")),S=n(a("q1tI")),M=l(a("LvDl")),T=a("E5h/"),w=l(a("WI2M")),q=l(a("vUNB")),L=l(a("JHpU")),O=l(a("iNJo")),x=l(a("P9OA")),A=a("qxfp"),F=a("iIsT"),P=l(a("Mosh")),j=N.default.Option,B=(N.default.OptGroup,C.default.Item),H=(_=C.default.create(),_((I=function(e){function t(e){var a;return(0,v.default)(this,t),a=(0,k.default)(this,(0,E.default)(t).call(this,e)),a.fetchData=function(){var e=a.state,t=e.checkName,l=e.qualityDimension,n=e.createTime,i=e.pageNum,c=e.sortObj;a.setState({loading:!0}),(0,F.getAllInfo)({createTime:P.default.isNull(n)?void 0:n.format("YYYY-MM-DD"),qualityDimension:l,checkName:t,pageNum:i,pageSize:10,orderBy:c.orderBy,order:c.order}).then(function(e){if(e&&e.obj){var t=e.obj;a.handlerData(t)}a.setState({loading:!1})})},a.screenChange=function(e,t){a.setState((0,p.default)({},e,t))},a.showModal=function(){(0,T.emit)(L.default.JHLB_ADD_MODAL,!0)},a.showModalCheck=function(e){1==e.status||(0,T.emit)(L.default.JHLB_Edit,!0,e)},a.showModalDetails=function(e){(0,T.emit)(L.default.JHLB_ADD_MODAL_DETAILS,!0,e)},a.onSwitchChange=function(e,t){0==e&&(0,F.getcheckTypeHangUp)({id:t.key}).then(function(e){e.success?m.default.success(e.msg):m.default.error(e.msg),a.fetchData()}),1==e&&(0,F.getcheckTypeTakeEffect)({id:t.key}).then(function(e){e.success?m.default.success(e.msg):m.default.error(e.msg),a.fetchData()})},a.getChildData=function(e){(0,F.getAddType)(e).then(function(e){e.success?m.default.success(e.msg):m.default.error(e.msg),a.fetchData()})},a.getChildData2=function(e){e.status=e.status?1:2,(0,F.getCheckTypeUpdate)(e).then(function(e){e.success?m.default.success(e.msg):m.default.error(e.msg),a.fetchData()})},a.handleExport=function(){var e=a.state,t=e.checkName,l=e.qualityDimension,n=e.createTime;n=P.default.isNull(n)?"":n.format("YYYY-MM-DD");var i="".concat(A.BASE_URL,"/checkType/exportData").concat(P.default.objectToChain({checkName:t,qualityDimension:l,createTime:n,token:(0,A.TOKEN)()}));window.location.href=i},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})},a.handleSearch=function(e){e&&e.preventDefault(),a.props.form.validateFields(function(e,t){a.setState({checkName:t.checkName||"",qualityDimension:t.qualityDimension||"",createTime:t.createTime||"",pageNum:1},function(){a.fetchData()})})},a.handleReset=function(){a.props.form.resetFields(),a.handleSearch()},a.handleTableChange=function(e,t,l){var n=l.field?M.default.snakeCase(l.field):"",i="";"descend"===l.order?i="desc":"ascend"===l.order&&(i="asc"),a.setState({pageNum:e.current,sortObj:{orderBy:n,order:i}},function(){a.fetchData()})},a.state={dataMap:[],total:0,pageNum:1,sortObj:{orderBy:"",order:""},loading:!1,checkName:"",qualityDimension:"",createTime:""},a.cloumns=[{title:"\u540d\u79f0",dataIndex:"checkName",key:"checkName",width:"15%",sorter:!0,render:function(e,t){return S.default.createElement("span",{title:e,className:"colsql",style:{color:"#1890ff",cursor:"pointer",paddingLeft:"0.5em"},onClick:function(){return a.showModalDetails(t)}},e)}},{title:"\u8d28\u91cf\u7ef4\u5ea6",dataIndex:"qualityDimension",key:"qualityDimension",width:"15%",render:function(e){return S.default.createElement("span",{title:e,className:"colsql"},e)}},{title:"\u63cf\u8ff0",dataIndex:"description",key:"description",width:"20%",render:function(e){return S.default.createElement("span",{title:e,className:"colsql"},e)}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",width:"10%",render:function(e,t){return S.default.createElement(h.default,{checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77",checked:!/^0|2$/.test(t.status),onChange:function(e){a.onSwitchChange(e,t)}})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime",width:"15%"},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"modifiedTime",key:"modifiedTime",width:"15%",sorter:!0},{title:"\u64cd\u4f5c",dataIndex:"operate",key:"operate",width:"10%",render:function(e,t){return S.default.createElement("div",{style:{display:"flex"}},1==t.status?S.default.createElement(f.default,{type:"form",className:"qu_icon_write2",onClick:a.showModalCheck.bind((0,b.default)(a),t),style:{marginTop:"2px"},title:"\u7f16\u8f91"}):S.default.createElement(f.default,{type:"form",className:"qu_icon_write",onClick:a.showModalCheck.bind((0,b.default)(a),t),style:{marginTop:"2px"},title:"\u7f16\u8f91"}),/^0|2$/.test(t.status)?S.default.createElement(O.default,{className:"qu_icon_write",deleteData:t,data:a.state.data,fetchData:a.fetchData}):"")}}],a}return(0,D.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"handlerData",value:function(e){var t=e.total,a=e.list,l=a.map(function(e){return(0,o.default)({key:e.id},e)});this.setState({data:l,total:t})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.confirmLoading,e.ModalText,e.total),a=e.pageNum,l=e.data,n=(e.createTime,e.loading),o=this.props.form.getFieldDecorator;return S.default.createElement("div",null,S.default.createElement(C.default,{className:"ant-advanced-search-form",onSubmit:this.handleSearch},S.default.createElement(c.default,{gutter:24,style:{display:"flex"}},S.default.createElement(r.default,{span:6,style:{display:"flex"}},S.default.createElement(B,{label:"\u540d\u79f0",style:{display:"flex"}},o("checkName",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u540d\u79f0!"}]})(S.default.createElement(d.default,{placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0"})))),S.default.createElement(r.default,{span:6},S.default.createElement(B,{label:"\u8d28\u91cf\u7ef4\u5ea6",style:{display:"flex"}},o("qualityDimension",{rules:[{required:!1,message:""}]})(S.default.createElement(N.default,{placeholder:"\u8bf7\u9009\u62e9\u8d28\u91cf\u7ef4\u5ea6"},S.default.createElement(j,{value:"1"},"\u552f\u4e00\u6027"),S.default.createElement(j,{value:"2"},"\u5b8c\u6574\u6027"),S.default.createElement(j,{value:"3"},"\u51c6\u786e\u6027"),S.default.createElement(j,{value:"4"},"\u4e00\u81f4\u6027"))))),S.default.createElement(r.default,{span:6,style:{display:"flex"}},S.default.createElement(B,{label:"\u521b\u5efa\u65e5\u671f",style:{display:"flex"}},o("createTime",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u65e5\u671f!"}]})(S.default.createElement(s.default,{placeholder:"\u8bf7\u9009\u62e9\u521b\u5efa\u65e5\u671f"})))),S.default.createElement(r.default,{span:2,style:{display:"flex"}},S.default.createElement(u.default,{type:"primary",htmlType:"submit"},"\u641c\u7d22")),S.default.createElement(r.default,{span:2,style:{display:"flex"}},S.default.createElement(u.default,{type:"primary",onClick:this.handleReset},"\u91cd\u7f6e")))),S.default.createElement("div",{className:"quTable"},S.default.createElement("div",{className:"quIcbtn"},S.default.createElement("div",null,S.default.createElement(u.default,{icon:"plus",onClick:this.showModal,style:{marginRight:"5px"}},"\u65b0\u589e"),S.default.createElement(q.default,{visible:this.state.visible,getChildData:this.getChildData,change:this.screenChange}),S.default.createElement(u.default,{type:"button",icon:"export",onClick:this.handleExport},S.default.createElement("span",null,"\u5bfc\u51fa")))),S.default.createElement(i.default,{columns:this.cloumns,dataSource:l,className:"tableLine",pagination:{pageSize:10,total:t,current:a},loading:n,onChange:this.handleTableChange}),S.default.createElement(x.default,null),S.default.createElement(w.default,{visible:this.state.visible,getChildData:this.getChildData2,fetchData:this.fetchData})))}}]),t}(S.Component),y=I))||y);t.default=H},H7Cl:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("p0pE"));a("2qtc");var c=n(a("kLXV")),u=n(a("jehZ")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg"));a("Znn+");var h=n(a("ZTPi"));a("OaEy");var m=n(a("2fM7"));a("5NDa");var p=n(a("5rEg"));a("y8nQ");var v=n(a("Vl3Y")),g=l(a("q1tI"));a("TpwP");var k=a("E5h/"),E=n(a("hK77")),b=a("iIsT"),D=a("n9GK"),C=v.default.Item,_=(p.default.Group,m.default.Option,h.default.TabPane,p.default.TextArea,function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,d.default)(this,(0,o.default)(t).call(this,e)),a.checkMethodGroupGetInfo=function(){var e=(0,u.default)({},a.state);(0,b.getCheckMethodGroupGetInfo)({id:e.id}).then(function(e){})},a.handleCancel=function(e){a.setState({visible:!1})},a.state={visible:!1},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.checkMethodGroupGetInfo()}},{key:"render",value:function(){this.props.form.getFieldDecorator;var e=this.state,t=e.checkInfo,a=e.name,l=(e.checkName,e.qualityDimension,e.status),n=e.description;e.checkCondition,e.createTime;return g.default.createElement(v.default,{onSubmit:this.handleSubmit,className:D.detailForm},g.default.createElement(C,null,g.default.createElement(c.default,{title:"\u67e5\u770b\u8be6\u60c5",visible:this.state.visible,okText:"\u5173\u95ed",onOk:this.handleOk,onCancel:this.handleCancel,cancelText:null,footer:null},g.default.createElement("ul",{className:D.lb_detail_ul},g.default.createElement("li",null,"\u540d\u79f0\uff1a",a),g.default.createElement("li",null,"\u68c0\u6838\u4fe1\u606f\uff1a",t),g.default.createElement("li",null,"\u63cf\u8ff0\uff1a",n),g.default.createElement("li",null,"\u72b6\u6001\uff1a",l)))))}}]),t}(g.Component)),y=v.default.create()((0,k.connect)([{action:E.default.JHLB_ADD_MODAL_DETAILS,handler:function(e,t){var a=1==t.status?"\u751f\u6548":"\u5931\u6548";this.setState((0,i.default)({visible:e},t,{status:a}))}}])(_));t.default=y},IA11:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("Pwec");var c=n(a("CtXQ"));a("miYZ");var u=n(a("tsqr")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg")),h=l(a("q1tI")),m=a("iIsT"),p=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,d.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(n))),a.state={visible:!1,id:""},a.showModalDelete=function(e){var t=e.key;a.setState({id:t,visible:!0})},a.deleteData=function(){(0,m.getCheckTaskDelete)({id:a.state.id}).then(function(e){e.success?u.default.success("\u5220\u9664\u6210\u529f\uff01"):u.default.success("\u8be5\u68c0\u6838\u4f5c\u4e1a\u5df2\u88ab\u7ed1\u5b9a,\u4e0d\u80fd\u5220\u9664\uff01"),a.props.fetchData()})},a.hideModalDelete=function(){a.setState({visible:!1},function(){a.deleteData(),a.props.fetchData()})},a.handleCancel=function(e){a.setState({visible:!1})},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"render",value:function(e,t){var a=this;return h.default.createElement(h.default.Fragment,null,h.default.createElement(c.default,{type:"delete",className:"qu_icon_write",onClick:function(){return a.showModalDelete(a.props.deleteData,a.props.data)},title:"\u5220\u9664"}),h.default.createElement(i.default,{title:"\u5220\u9664",visible:this.state.visible,onOk:this.hideModalDelete,onCancel:this.handleCancel,cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4"},h.default.createElement("p",null,"\u786e\u5b9a\u5220\u9664\u8be5\u68c0\u6838\u7c7b\u522b\uff1f")))}}]),t}(h.default.Component);t.default=p},JHpU:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("Mosh")),i=n.default.generateActions({JHLB_ADD_MODAL:"JHLB_ADD_MODAL",JHLB_ADD_MODAL_DELETE:"JHLB_ADD_MODAL_DELETE",JHLB_ADD_MODAL_DETAILS:"JHLB_ADD_MODAL_DETAILS",JHLB_Edit:"JHLB_Edit"});t.default=i},Jb7b:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("p0pE"));a("2qtc");var c=n(a("kLXV"));a("miYZ");var u=n(a("tsqr")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg"));a("Znn+");var h=n(a("ZTPi"));a("OaEy");var m=n(a("2fM7"));a("5NDa");var p=n(a("5rEg"));a("y8nQ");var v=n(a("Vl3Y"));a("nRaC");var g=n(a("5RzL")),k=l(a("q1tI")),E=a("E5h/"),b=n(a("Mosh")),D=a("cbkR"),C=n(a("nxTF")),_=a("iIsT"),y=(g.default.TreeNode,v.default.Item),I=(p.default.Group,m.default.Option),N=(h.default.TabPane,p.default.TextArea,function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,d.default)(this,(0,o.default)(t).call(this,e)),a.selectGroup=function(){var e,t=[];(0,_.getAllCheckMethodGroup)().then(function(l){b.default.notNull(l)&&(e=l.map(function(e,t){return k.default.createElement(I,{value:e.id,key:e.id},e.name)}),t.push(e)),a.setState({methodGroup:e,children:t})})},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){})},a.fetchMethodGroupSave=function(){(0,_.checkTaskSaveMethodGroupId)({id:a.state.id,checkMethodGroups:a.state.checkMethodGroupId}).then(function(e){e.success?u.default.success(e.msg):u.default.error(e.msg),a.props.fetchData(),a.setState({visible:!1}),a.props.form.resetFields()})},a.checkTableChange=function(e){var t=[];e.map(function(e,a){t.push({id:e})}),a.setState({checkMethodGroupId:t})},a.handleCancel=function(){a.setState({visible:!1})},a.state={visible:!1,checkMethodGroupId:"",methodGroup:"",children:[]},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.selectGroup()}},{key:"componentDidUpdate",value:function(e,t,a){t.checkTaskItems!==this.state.checkTaskItems&&(this.props.form.setFieldsValue({fieldChineseName:this.state.checkTaskItems}),this.checkTableChange(this.state.checkTaskItems))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state;t.checkName,t.qualityDimension,t.status,t.description,t.checkCondition;return k.default.createElement(c.default,{title:"\u6dfb\u52a0\u5230\u65b9\u6cd5\u7ec4",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.fetchMethodGroupSave,onCancel:this.handleCancel},k.default.createElement(v.default,null,k.default.createElement(y,{label:"\u68c0\u6838\u65b9\u6cd5\u7ec4"},e("fieldChineseName",{initialValue:this.state.checkTaskItems,rules:[{required:!1,message:"Input something!"}]})(k.default.createElement(m.default,{mode:"multiple",style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u68c0\u6838\u65b9\u6cd5\u7ec4",initialValue:["a10","c12"],onChange:this.checkTableChange,pageNum:this.props.pageNum,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.children)))))}}]),t}(k.Component)),S=v.default.create()((0,E.connect)([{action:C.default.JHLB_Edit_METHODGROUP,handler:function(e,t){var a,l=this,n=t.id;(0,_.checkTaskEchoMethod)({id:n}).then(function(e){e&&e.success&&(a=e.obj,l.setState({checkTaskItems:a}))}),this.setState((0,i.default)({visible:e},(0,D.fillDefaultValue)(t,{status:function(e){return!!/^1$/.test(e)}})))}}])(N));t.default=S},NGnA:function(e,t,a){e.exports={form:"form___16Akv",multipleDropdown:"multipleDropdown___3d6md",dropdown:"dropdown___ozW4a",divider:"divider___1uHDV",action:"action___uEYt4",selectAll:"selectAll___2U7Fi",unselectAll:"unselectAll___3QNvZ"}},NRnk:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("BoS7");var c=n(a("Sdc0"));a("14J3");var u=n(a("BMrR"));a("jCWc");var s=n(a("kPKH")),r=n(a("jehZ"));a("miYZ");var d=n(a("tsqr")),o=n(a("qIgq")),f=n(a("2Taf")),h=n(a("vZ4D")),m=n(a("l4Ni")),p=n(a("ujKo")),v=n(a("rlhR")),g=n(a("MhPg"));a("Znn+");var k=n(a("ZTPi"));a("OaEy");var E=n(a("2fM7"));a("5NDa");var b=n(a("5rEg"));a("y8nQ");var D=n(a("Vl3Y"));a("nRaC");var C=n(a("5RzL")),_=l(a("q1tI"));a("vn9i");var y=a("E5h/"),I=n(a("vzh6")),N=a("iIsT"),S=n(a("Mosh")),M=n(a("r841")),T=(C.default.TreeNode,D.default.Item),w=(b.default.Group,E.default.Option),q=(k.default.TabPane,b.default.TextArea),L={value:"id",label:"name"},O=function(e){function t(e){var a;return(0,f.default)(this,t),a=(0,m.default)(this,(0,p.default)(t).call(this,e)),a.fetchTableName=function(){(0,N.getModelList)({}).then(function(e){var t=[],l={};if(S.default.notNull(e)&&S.default.notNull(e.obj)){var n=e.obj.nodes;S.default.notNull(n)&&(t=n.map(function(e){var t=e.id,a=e.tableName,n=e.tableNameCn,i=e.items;return l[t]=[a,i],_.default.createElement(w,{value:t,key:t},S.default.isNull(n)?a:n)}))}a.setState({tables:t,tablesMap:l})})},a.checkTableChange=function(e){var t=a.state.tablesMap,l=(0,o.default)(t[e],2),n=(l[0],l[1]),i=n.map(function(e){return _.default.createElement(w,{value:e.dataItemId,key:e.dataItemId,"data-name":e.dataItemName},e.chineseName)});a.setState({checkFields:i})},a.handleChanges=function(e,t){a.setState({EnglishName:t.props["data-name"]},function(){a.props.form.setFieldsValue({checkCondition:a.state.checkCondition?a.state.checkCondition.replace(/#{[^{}]+}/g,function(e,t){return"".concat(a.state.EnglishName)}):""})})},a.onChangeTableName=function(e){a.setState({singleDataItems:[],checkFieldId:"",EnglishName:"",queryDataItemssChineseName:[]}),a.props.form.setFieldsValue({checkFieldId:"",queryFieldIds:[],checkCondition:a.state.middleCheckCondition}),(0,N.getDateDataItems)({id:e}).then(function(e){var t=[],l=[];e&&e.obj&&(t=e.obj,l=t.map(function(e,t){return _.default.createElement(w,{value:e.dataItemId,key:e.dataItemId,"data-name":e.dataItemName},e.chineseName)}));var n=l.length;a.setState({singleDataItems:l,singleDataItemsLength:n})})},a.fetchCheckType=function(){(0,N.getEffectivCheckType)().then(function(e){e&&e.length||(e=[]),a.setState({checkTypeData:e})})},a.fetchDateDataItem=function(){var e=[];(0,N.getDateDataItems)({id:2}).then(function(t){t&&(e=t.obj,a.setState({checkDateDataItems:e}))})},a.fetchDateSourcList=function(){(0,N.getDateSourcCheckMethod)().then(function(e){e&&e.obj&&a.setState({sourceList:e.obj})})},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1}),a.props.form.resetFields(),a.setState({checkCondition:"",description:"",checkFieldId:"",queryFieldIds:[],singleDataItems:[],queryDataItemssChineseName:[]})},a.handleSubmit=function(e){var t=a.state,l=t.queryDataItemssChineseName,n=(t.status,[]);if(l.forEach(function(e){n.push({id:e[L.value]})}),n.length>0){var i=a.state.queryDataItemssChineseName,c=[];i.map(function(e,t){return c.push(e.id)}),a.props.form.validateFields(function(e,t){e||(t.status=t.status?1:2,t.tableId=+t.tableId,t.queryFieldIds=c.join(),a.setState({visible:!1},function(){a.props.getChildData(t),a.props.form.resetFields(),a.setState({checkCondition:"",description:"",checkFieldId:"",queryFieldIds:[],singleDataItems:[],queryDataItemssChineseName:[]})}))})}else d.default.warning("\u8bf7\u9009\u62e9\u67e5\u8be2\u6570\u636e\u9879")},a.changeForId=function(e){var t,l,n,i=(0,v.default)(a),c="";(0,N.getCheckMethodInfo)({id:e}).then(function(e){e.checkCondition&&(t=e.checkCondition),l=e.description,n=e.qualityDimension,c=e.checkCondition,i.state.EnglishName&&t&&t.replace(/#{[^{}]+}/g,function(e,t){return"".concat(a.state.EnglishName)}),a.setState({checkCondition:t,description:l,qualityDimension:n,middleCheckCondition:c},function(){a.props.form.setFieldsValue({checkCondition:a.state.EnglishName?a.state.checkCondition.replace(/#{[^{}]+}/g,function(e,t){return"".concat(a.state.EnglishName)}):a.state.checkCondition})})})},a.handleSelectCheck=function(e){var t=a.state.queryDataItemssChineseName;t.push(e),a.setState({queryDataItemssChineseName:t})},a.handleDeleteCheck=function(e){a.setState({queryDataItemssChineseName:e})},a.changeCheckDatabaseId=function(e){a.props.fetchTableNamess({datasourceId:e})},a.state={visible:!1,dataSource:"",sourceList:[],checkDateDataItems:[],checkTypeData:[],checkDataItems:[],tableId:"",tables:[],EnglishName:"",formLayout:"horizontal",disabled:!0,singleDataItems:[],queryDataItemssChineseName:[],singleDataItemsLength:0},a}return(0,g.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.fetchDateDataItem(),this.fetchDateSourcList(),this.fetchCheckType(),this.fetchTableName()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.formLayout,l={labelCol:{xs:{span:12},sm:{span:8}},wrapperCol:{xs:{span:12},sm:{span:14}}},n={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:19}}},d=function(e,t,a){(0,N.checkName)({name:t,flag:0}).then(function(e){1!=e?t.length>=30?a("\u540d\u5b57\u8fc7\u957f\uff01"):a():a("\u540d\u5b57\u91cd\u590d")})};return _.default.createElement(i.default,{title:"\u65b0\u589e\u68c0\u6838\u65b9\u6cd5",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.handleSubmit,onCancel:this.handleCancel,wrapClassName:"addOfTable"},_.default.createElement(D.default,{layout:a,className:"addOfTable"},_.default.createElement(u.default,{gutter:24},_.default.createElement(s.default,{span:24},_.default.createElement(T,(0,r.default)({label:"\u540d\u79f0"},n),t("name",{rules:[{required:!0,message:"\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"},{validator:d}]})(_.default.createElement(b.default,{placeholder:"",onBlur:this.onChangeUserName,onKeyUp:this.nameKeyUp,maxLength:"30"}))))),_.default.createElement(u.default,{gutter:24},_.default.createElement(s.default,{span:12},_.default.createElement(T,(0,r.default)({label:"\u6570\u636e\u6e90"},l),t("checkDatabaseId",{rules:[{required:!0,message:"\u8d28\u91cf\u7ef4\u5ea6\u4e0d\u80fd\u4e3a\u7a7a"}]})(_.default.createElement(E.default,{onChange:this.changeCheckDatabaseId},this.state.sourceList.map(function(e,t){return _.default.createElement(w,{value:e.id,key:t},e.sourceName)}))))),_.default.createElement(s.default,{span:12},_.default.createElement(T,(0,r.default)({label:"\u68c0\u6838\u7c7b\u522b"},l),t("checkTypeId",{rules:[{required:!0,message:"\u8d28\u91cf\u7ef4\u5ea6\u4e0d\u80fd\u4e3a\u7a7a"}]})(_.default.createElement(E.default,{onChange:this.changeForId,onFocus:this.fetchCheckType},this.state.checkTypeData.map(function(e,t){return _.default.createElement(w,{value:e.id,key:t},e.checkName)})))))),_.default.createElement(u.default,{gutter:24},_.default.createElement(s.default,{span:12},_.default.createElement(T,(0,r.default)({label:"\u68c0\u6838\u8868\u540d"},l),t("tableId",{rules:[{required:!0,message:"\u68c0\u6838\u8868\u540d\u4e0d\u80fd\u4e3a\u7a7a!"}]})(_.default.createElement(C.default,{showSearch:!0,initialValue:this.state.value,dropdownStyle:{maxHeight:400,width:200},placeholder:"",allowClear:!0,treeDefaultExpandAll:!0,dropdownMatchSelectWidth:!1,onChange:this.onChangeTableName,treeNodeFilterProp:"title"},this.props.checkTableName)))),_.default.createElement(s.default,{span:12},_.default.createElement(T,(0,r.default)({label:"\u68c0\u6838\u6570\u636e\u9879"},l),t("checkFieldId",{rules:[{required:!0,message:"\u68c0\u6838\u6570\u636e\u9879\u4e0d\u80fd\u4e3a\u7a7a!"}]})(_.default.createElement(E.default,{showSearch:!0,placeholder:"",optionFilterProp:"children",onChange:this.handleChanges,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.singleDataItems))))),_.default.createElement(u.default,{gutter:24},_.default.createElement(s.default,{span:24},_.default.createElement(T,(0,r.default)({label:"\u67e5\u8be2\u6570\u636e\u9879"},n),_.default.createElement(M.default,{checkCount:this.state.singleDataItemsLength,checkMethod:this.state.singleDataItems,selectCheckList:this.state.queryDataItemssChineseName,selectHeight:180,onSelect:function(t){return e.handleSelectCheck(t)},onDelete:function(t){return e.handleDeleteCheck(t)},onSearchList:function(t){return e.handleSearchList(t)}})))),_.default.createElement(u.default,{gutter:24},_.default.createElement(s.default,{span:24},_.default.createElement(T,(0,r.default)({label:"\u68c0\u6838\u6761\u4ef6\uff1a"},n),t("checkCondition",{initialValue:this.state.checkCondition,rules:[{required:!0,message:"\u68c0\u6838\u6761\u4ef6\u4e0d\u80fd\u4e3a\u7a7a"}]})(_.default.createElement(q,{rows:4,disabled:!0}))))),_.default.createElement(u.default,{gutter:24},_.default.createElement(s.default,{span:24},_.default.createElement(T,(0,r.default)({label:"\u63cf\u8ff0\uff1a"},n),t("description",{initialValue:this.state.description,rules:[{required:!1,message:""}]})(_.default.createElement(q,{rows:4}))))),_.default.createElement(u.default,{gutter:24},_.default.createElement(s.default,{span:24},_.default.createElement(T,(0,r.default)({label:"\u72b6\u6001:"},n),t("status",{valuePropName:"checked",initialValue:!0,rules:[{required:!0,message:""}]})(_.default.createElement(c.default,{checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77"})))))))}}]),t}(_.Component),x=D.default.create()((0,y.connect)([{action:I.default.JHLB_ADD_MODAL,handler:function(e){this.setState({visible:e})}}])(O));t.default=x},OjAG:function(e,t,a){e.exports={"nav-base":"nav-base___BF8LP",nav:"nav___3Nrjo","nav-collapsed":"nav-collapsed___3Hwb_",searchBar:"searchBar___sNTN6",header:"header___3HdWs",trigger:"trigger___2LtT5",right:"right___2mEsf",action:"action___3-o6m",name:"name___3yRHu",globalFooter:"globalFooter___3T6HG","example-input":"example-input___2Yr7d","ant-input":"ant-input___3YUP1",ul1Style:"ul1Style___tr0Jt",qu_third_button:"qu_third_button___Ajayi",check_method_table:"check_method_table___w9mUk"}},P9OA:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("p0pE"));a("2qtc");var c=n(a("kLXV"));a("+L6B");var u=n(a("2/Rp")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg"));a("Znn+");var h=n(a("ZTPi"));a("OaEy");var m=n(a("2fM7"));a("5NDa");var p=n(a("5rEg"));a("y8nQ");var v=n(a("Vl3Y")),g=l(a("q1tI"));a("TpwP");var k=a("E5h/"),E=n(a("JHpU")),b=a("plYW"),D=v.default.Item,C=(p.default.Group,m.default.Option,h.default.TabPane,p.default.TextArea,function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,d.default)(this,(0,o.default)(t).call(this,e)),a.handleCancel=function(){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1})},a.state={visible:!1},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=(this.props.form.getFieldDecorator,this.state),a=t.checkName,l=t.qualityDimension,n=t.status,i=t.description,s=t.checkCondition,r=t.createTime;return g.default.createElement(v.default,{onSubmit:this.handleSubmit,className:b.detailForm},g.default.createElement(D,null,g.default.createElement(c.default,{title:"\u67e5\u770b\u8be6\u60c5",visible:this.state.visible,okText:"\u5173\u95ed",onOk:this.handleOk,onCancel:this.handleCancel,cancelText:null,footer:null},g.default.createElement("ul",{className:b.lb_detail_ul},g.default.createElement("li",null,"\u540d\u79f0\uff1a",a),g.default.createElement("li",null,"\u8d28\u91cf\u7ef4\u5ea6\uff1a",l),g.default.createElement("li",null,"\u72b6\u6001\uff1a",/^0|2$/.test(n)?"\u6302\u8d77":"\u751f\u6548"),g.default.createElement("li",null,"\u63cf\u8ff0\uff1a",i),g.default.createElement("li",null,"\u68c0\u6838\u6761\u4ef6\uff1a",s),g.default.createElement("li",null,"\u521b\u5efa\u65f6\u95f4\uff1a",r)),g.default.createElement(u.default,{type:"primary",style:{left:"47%"},onClick:function(){e.setState({visible:!1})}},"\u5173\u95ed"))))}}]),t}(g.Component)),_=v.default.create()((0,k.connect)([{action:E.default.JHLB_ADD_MODAL_DETAILS,handler:function(e,t){this.setState((0,i.default)({visible:e},t))}}])(C));t.default=_},PC6s:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.fillDefaultValue=void 0;var n=l(a("Mosh")),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.default.isNull(e)?{}:(Object.keys(e).forEach(function(a){t[a]?e[a]=t[a](e[a]):e[a]=n.default.isNull(e[a])?"":e[a]}),e)};t.fillDefaultValue=i},T80k:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var i=l(a("wCAj"));a("qVdP");var c=l(a("jsC+"));a("lUTK");var u=l(a("BvKs"));a("+L6B");var s=l(a("2/Rp"));a("14J3");var r=l(a("BMrR"));a("nRaC");var d=l(a("5RzL"));a("jCWc");var o=l(a("kPKH"));a("5NDa");var f=l(a("5rEg"));a("Pwec");var h=l(a("CtXQ"));a("BoS7");var m=l(a("Sdc0")),p=l(a("eHn4")),v=l(a("p0pE"));a("miYZ");var g=l(a("tsqr")),k=l(a("2Taf")),E=l(a("vZ4D")),b=l(a("l4Ni")),D=l(a("ujKo")),C=l(a("rlhR")),_=l(a("MhPg"));a("y8nQ");var y=l(a("Vl3Y"));a("OaEy");var I,N,S,M,T=l(a("2fM7")),w=n(a("q1tI")),q=l(a("LvDl")),L=l(a("Mosh")),O=a("E5h/"),x=l(a("vzh6")),A=l(a("NRnk")),F=l(a("61M5")),P=l(a("nGv/")),j=l(a("XbkM")),B=l(a("wAOY")),H=l(a("99PG")),V=a("iIsT"),G=a("qxfp"),R=a("Jur2"),J=a("MuoO"),K=a("7DNP"),U=l(a("//Q4")),Z=T.default.Option,Y=y.default.Item,X=(I=(0,J.connect)(),N=y.default.create(),I(S=N((M=function(e){function t(e){var a,l;return(0,k.default)(this,t),l=(0,b.default)(this,(0,D.default)(t).call(this,e)),l.showLog=function(e){l.props.dispatch(K.routerRedux.push("/dataquality/log/".concat(e.id)))},l.check=function(e){(0,V.checkMethodExecute)({ids:[e.id]}).then(function(t){g.default.success(t.msg),t.success&&l.props.dispatch(K.routerRedux.push("/dataquality/log/".concat(e.id)))})},l.checkBatch=function(){var e=l.state.selectedRowKeys;e.length?(0,V.checkMethodExecute)({ids:e}).then(function(e){g.default.success(e.msg)}):g.default.warn("\u4f60\u8fd8\u6ca1\u9009\u62e9\u8981\u6267\u884c\u7684\u6570\u636e")},l.association=function(){var e=l.state.selectedRowKeys;e.length?l.showModalMethodGroup({id:e}):g.default.warn("\u4f60\u8fd8\u6ca1\u9009\u62e9\u8981\u6267\u884c\u7684\u6570\u636e")},l.showModalCheck=function(e){1!=e.status&&((0,O.emit)(x.default.JHLB_Edit,!0,e),l.fetchTableNamess({checkDatabaseId:e.checkDatabaseId}))},l.showModalMethodGroup=function(e,t){var a=(0,v.default)({},e);Array.isArray(a.id)||(a.id=[a.id]),(0,O.emit)(x.default.JHLB_Edit_METHODGROUP,!0,a),l.AddMethodGroup.AddMethodGroup()},l.showModalDetails=function(e){(0,O.emit)(x.default.JHLB_ADD_MODAL_DETAILS,!0,e)},l.onSwitchChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.state.selectedRowKeys;if(t.length){var a=e?V.getCheckMethodIsAble:V.getCheckMethodHangUp;a({id:t,flag:0}).then(function(e){e.success?g.default.success(e.msg):g.default.error(e.msg),l.fetchData()})}else g.default.warn("\u4f60\u8fd8\u6ca1\u9009\u62e9\u8981\u6267\u884c\u7684\u6570\u636e")},l.handleExport=function(){var e=l.state,t=e.name,a=e.tableId,n=e.checkFieldId,i=e.checkTypeId,c=e.qualityDimensionCode,u=e.status,s="".concat(G.BASE_URL,"/checkMethod/export").concat(L.default.objectToChain({name:void 0==t?"":t,tableId:void 0==a?"":a,checkFieldId:void 0==n?"":n,checkTypeId:void 0==i?"":i,qualityDimensionCode:void 0==c?"":c,status:void 0==u?"":u,flag:0,token:(0,G.TOKEN)()}));window.location.href=s},l.fetchTableNamess=function(e){(0,V.getCatagory)(e).then(function(e){if(e&&e.obj){var t=(0,R.generateCheckTableName)(e.obj);l.setState({checkTableName:t})}})},l.fetchTableName=function(){(0,V.getModelList)({}).then(function(e){var t=[],a={};if(L.default.notNull(e)&&L.default.notNull(e.obj)){var n=e.obj.nodes;L.default.notNull(n)&&(t=n.map(function(e){var t=e.id,l=e.tableName,n=e.tableNameCn,i=e.items;return a[t]=i,w.default.createElement(Z,{value:t,key:t},L.default.isNull(n)?l:n)}))}l.setState({tables:t,tablesMap:a})})},l.checkTableChange=function(e){var t=l.state.tablesMap,a=t[e],n=a.map(function(e){return w.default.createElement(Z,{value:e.dataItemId,key:e.dataItemName},e.chineseName)});l.setState({checkFields:n})},l.onChangeTableName=function(e){(0,V.getDateDataItems)({id:e}).then(function(e){var t=[],a=[];e&&e.obj&&(t=e.obj,a=t.map(function(e,t){return w.default.createElement(Z,{value:e.dataItemId,key:e.dataItemId},e.chineseName)})),l.setState({singleDataItems:a})})},l.fetchCheckType=function(){(0,V.getEffectivCheckType)().then(function(e){e&&e.length||(e=[]),l.setState({checkTypeData:e})})},l.fetchData=function(){var e=l.state,t=e.pageNum,a=e.orderBy,n=e.order;l.setState({loading:!0});var i={flag:0,name:l.state.name,checkFieldId:l.state.checkFieldId,fieldChineseName:l.state.checkFieldId,chineseName:l.state.chineseName,checkTypeId:l.state.checkTypeId,qualityDimension:l.state.qualityDimension,status:l.state.status,tableId:l.state.tableId,pageNum:t,pageSize:10};a.length&&(i.orderColumn=a),n.length&&(i.orderBy=n),(0,V.getChecklistByPage)(i).then(function(e){if(e){var t=e.obj;l.handlerData(t)}}).finally(function(){l.setState({loading:!1})})},l.handleTableChange=function(e,t,a){var n=a.field?q.default.snakeCase(a.field):"",i="";"descend"===a.order?i="desc":"ascend"===a.order&&(i="asc"),l.setState({pageNum:e.current,orderBy:n,order:i},function(){l.fetchData()})},l.onChange=function(e){l.setState({value:e})},l.showModal=function(){(0,O.emit)(x.default.JHLB_ADD_MODAL,!0)},l.handleSearch=function(e){e&&e.preventDefault(),l.props.form.validateFields(function(e,t){l.setState({name:t.name,fieldChineseName:t.fieldChineseName,checkFieldId:t.checkFieldId,tableChineseName:t.chineseName,checkTypeId:t.checkTypeId,qualityDimension:t.qualityDimension,status:t.status,tableId:t.tableId,pageNum:1},function(){l.fetchData()})})},l.handleReset=function(){l.props.form.resetFields(),l.handleSearch()},l.toggle=function(){var e=l.state.expand;l.setState({expand:!e})},l.getChildData=function(e){(0,V.getCheckMethod)({checkCondition:e.checkCondition,checkDatabaseId:e.checkDatabaseId,checkFieldId:e.checkFieldId,checkTypeId:e.checkTypeId,description:e.description,name:e.name,queryFieldIds:e.queryFieldIds,status:e.status,tableId:e.tableId,flag:0}).then(function(e){e.success?g.default.success(e.msg):g.default.error(e.msg),l.fetchData()})},l.getChildData2=function(e){e.status="\u751f\u6548"==e.status?1:2;var t=0==e.newStatus?2:1,a=e.queryDataItemss,n=[];a&&a.map(function(e,t){return n.push(e.id)}),a=n.join(),(0,V.getCheckTaskUpdate)({flag:0,id:e.id,tableId:e.tableId,checkTypeId:e.checkTypeId,checkFieldId:e.checkFieldId,queryFieldIds:a,checkCondition:e.checkCondition,description:e.description||"",checkDatabaseId:e.checkDatabaseId,status:t,name:e.name}).then(function(e){e.success?g.default.success(e.msg):g.default.error(e.msg),l.fetchData()})},l.getResult=function(e){e.obj.fileName,e.obj.checkMethodTotal,e.obj.checkMethodErrorNum,l.setState({fileName:e.obj.fileName,checkMethodTotal:e.obj.checkMethodTotal,checkMethodErrorNum:e.obj.checkMethodErrorNum})},l.getErrorHtml=function(){return w.default.createElement("div",null,w.default.createElement("div",{style:{marginBottom:"8px"}}," \u6587\u4ef6\u540d:",l.state.fileName),w.default.createElement("div",{style:{marginBottom:"8px"}},"\u68c0\u6838\u65b9\u6cd5\u603b\u6570:",l.state.checkMethodTotal),w.default.createElement("div",{style:{marginBottom:"8px"}},"\u68c0\u6838\u65b9\u6cd5\u9519\u8bef\u6570:",l.state.checkMethodErrorNum))},l.handleDown=function(){window.location.href="".concat(G.BASE_URL,"/checkMethod/downloadTemplate?flag=0&token=").concat((0,G.TOKEN)())},l.onRef=function(e){l.AddMethodGroup=e},l.onSelectChange=function(e){l.setState({selectedRowKeys:e})},l.action=[{text:"\u8bbe\u7f6e\u9009\u4e2d\u7684\u6570\u636e\u72b6\u6001\u4e3a\u751f\u6548",click:l.onSwitchChange.bind((0,C.default)(l),!0,void 0)},{text:"\u8bbe\u7f6e\u9009\u4e2d\u7684\u6570\u636e\u72b6\u6001\u4e3a\u6302\u8d77",click:l.onSwitchChange.bind((0,C.default)(l),!1,void 0)},{text:"\u5bf9\u9009\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u68c0\u6838",click:l.checkBatch},{text:"\u5bf9\u9009\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u5173\u8054\u68c0\u6838\u65b9\u6cd5\u7ec4",click:l.association}],l.state=(a={value:void 0,expand:!1,dataMap:[],total:0,pageNum:1,orderBy:"",order:"",loading:!1,checkName:"",createTime:"",checkTypeName:"",checkFieldId:"",queryFieldChineseName:"",qualityDimension:"",description:"",name:"",checkTypeId:"",status:""},(0,p.default)(a,"queryFieldChineseName",""),(0,p.default)(a,"tables",[]),(0,p.default)(a,"tableId",""),(0,p.default)(a,"checkFields",[]),(0,p.default)(a,"checkTypeData",[]),(0,p.default)(a,"checkTableName",[]),(0,p.default)(a,"checkTableName2",[]),(0,p.default)(a,"datass",""),(0,p.default)(a,"checkDataItems",[]),(0,p.default)(a,"methodId",""),(0,p.default)(a,"fileName",""),(0,p.default)(a,"checkMethodTotal",""),(0,p.default)(a,"checkMethodErrorNum",""),(0,p.default)(a,"singleDataItems",[]),(0,p.default)(a,"selectedRowKeys",[]),a),l.columns=[{key:"name",title:"\u68c0\u6838\u65b9\u6cd5\u540d\u79f0",dataIndex:"name",sorter:!0,render:function(e,t){return w.default.createElement("span",{title:e,className:U.default.colsql,style:{color:"#1890ff",paddingLeft:"0.5em",cursor:"pointer"},onClick:function(){return l.showModalDetails(t)}},e)}},{key:"tableChineseName",title:"\u68c0\u6838\u8868\u540d",dataIndex:"tableChineseName",sorter:!0,render:function(e){return w.default.createElement("span",{title:e,className:U.default.colsql},e)}},{key:"checkTypeName",title:"\u68c0\u6838\u7c7b\u522b",dataIndex:"checkTypeName",render:function(e){return w.default.createElement("span",{title:e,className:U.default.colsql},e)}},{key:"fieldChineseName",title:"\u68c0\u6838\u6570\u636e\u9879",dataIndex:"fieldChineseName",sorter:!0,render:function(e){return w.default.createElement("span",{title:e,className:U.default.colsql},e)}},{key:"queryFieldChineseName",title:"\u67e5\u8be2\u6570\u636e\u9879",dataIndex:"queryFieldChineseName",render:function(e){return w.default.createElement("span",{title:e,className:U.default.colsql},e)}},{key:"qualityDimension",title:"\u8d28\u91cf\u7ef4\u5ea6",dataIndex:"qualityDimension",render:function(e){return w.default.createElement("span",{className:U.default.colsql},e)}},{key:"checkMethodGroupName",title:"\u68c0\u6838\u65b9\u6cd5\u7ec4",dataIndex:"checkMethodGroupName",render:function(e){return w.default.createElement("span",{className:U.default.colsql},e)}},{key:"status1",title:"\u72b6\u6001",dataIndex:"status1",render:function(e,t){return w.default.createElement(m.default,{checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77",checked:!/^0|2$/.test(t.status),onChange:function(e){l.onSwitchChange(e,[t.id])}})}},{title:"\u64cd\u4f5c",dataIndex:"operate",key:"operate",render:function(e,t){return w.default.createElement("div",{style:{display:"flex"}},w.default.createElement(h.default,{type:"form",className:1==t.status?"qu_icon_write2":"qu_icon_write",onClick:l.showModalCheck.bind((0,C.default)(l),t),title:"\u7f16\u8f91"}),w.default.createElement(h.default,{type:"export",className:"qu_icon_write",onClick:l.showModalMethodGroup.bind((0,C.default)(l),t),title:"\u6dfb\u52a0\u5230\u65b9\u6cd5\u7ec4"}),/^0|2$/.test(t.status)?w.default.createElement(F.default,{deleteData:t,data:l.state.data,fetchData:l.fetchData}):"",w.default.createElement(h.default,{type:"file",className:"qu_icon_write",onClick:l.showLog.bind((0,C.default)(l),t),title:"\u67e5\u770b\u65e5\u5fd7"}),w.default.createElement(h.default,{type:"play-circle",className:"qu_icon_write",onClick:l.check.bind((0,C.default)(l),t),title:"\u6267\u884c"}))}}],l}return(0,_.default)(t,e),(0,E.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchData(),this.fetchCheckType(),this.fetchTableName(),(0,V.getCatagory)({}).then(function(t){if(t&&t.obj){var a=(0,R.generateCheckTableName)(t.obj);e.setState({checkTableName2:a})}})}},{key:"handlerData",value:function(e){var t=e.total,a=e.list,l=a.map(function(e,t){return(0,v.default)({key:e.id},e)});this.setState({data:l,total:t})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,l=(a.visible,a.total),n=a.pageNum,h=(a.data,a.loading),m=a.selectedRowKeys,v={selectedRowKeys:m,onChange:this.onSelectChange,hideDefaultSelections:!0,selections:this.action.map(function(e){return{text:e.text,onSelect:e.click}}),onSelection:this.onSelection};return w.default.createElement("div",{className:"layOut"},w.default.createElement("div",null,w.default.createElement(y.default,{className:"ant-advanced-search-form",onSubmit:this.handleSearch},w.default.createElement(r.default,{gutter:24},w.default.createElement(o.default,{span:6},w.default.createElement(Y,{label:"\u65b9\u6cd5\u540d\u79f0"},t("name",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u65b9\u6cd5\u540d\u79f0!"}]})(w.default.createElement(f.default,{placeholder:"\u8bf7\u8f93\u5165\u65b9\u6cd5\u540d\u79f0"})))),w.default.createElement(o.default,{span:6},w.default.createElement(Y,{label:"\u68c0\u6838\u8868\u540d"},t("tableId",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u68c0\u6838\u8868\u540d!"}]})(w.default.createElement(d.default,(0,p.default)({showSearch:!0,dropdownStyle:{maxHeight:400,width:200},placeholder:"",allowClear:!0,treeDefaultExpandAll:!0,dropdownMatchSelectWidth:!1,onChange:this.onChangeTableName,treeNodeFilterProp:"title"},"placeholder","\u8bf7\u9009\u62e9\u68c0\u6838\u8868\u540d"),this.state.checkTableName2)))),w.default.createElement(o.default,{span:6},w.default.createElement(Y,{label:"\u68c0\u6838\u6570\u636e\u9879"},t("checkFieldId",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u68c0\u6838\u6570\u636e\u9879!"}]})(w.default.createElement(T.default,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u68c0\u6838\u6570\u636e\u9879",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.singleDataItems))))),w.default.createElement(r.default,{gutter:24},w.default.createElement(o.default,{span:6},w.default.createElement(Y,{label:"\u68c0\u6838\u7c7b\u522b"},t("checkTypeId",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u68c0\u6838\u7c7b\u522b!"}]})(w.default.createElement(T.default,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u68c0\u6838\u7c7b\u522b",optionFilterProp:"children",onFocus:this.fetchCheckType},this.state.checkTypeData.map(function(e,t){return w.default.createElement(Z,{value:e.id,key:t},e.checkName)}))))),w.default.createElement(o.default,{span:6},w.default.createElement(Y,{label:"\u8d28\u91cf\u7ef4\u5ea6"},t("qualityDimension",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u8d28\u91cf\u7ef4\u5ea6!"}]})(w.default.createElement(T.default,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u8d28\u91cf\u7ef4\u5ea6",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},w.default.createElement(Z,{value:"1"},"\u552f\u4e00\u6027"),w.default.createElement(Z,{value:"2"},"\u5b8c\u6574\u6027"),w.default.createElement(Z,{value:"3"},"\u51c6\u786e\u6027"),w.default.createElement(Z,{value:"4"},"\u4e00\u81f4\u6027"))))),w.default.createElement(o.default,{span:6},w.default.createElement(Y,{label:"\u65b9\u6cd5\u72b6\u6001"},t("status",{rules:[{required:!1,message:"\u8bf7\u9009\u62e9\u65b9\u6cd5\u72b6\u6001!"}]})(w.default.createElement(T.default,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u65b9\u6cd5\u72b6\u6001",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},w.default.createElement(Z,{value:"1"},"\u751f\u6548"),w.default.createElement(Z,{value:"2"},"\u6302\u8d77"))))),w.default.createElement(o.default,{span:2},w.default.createElement(s.default,{type:"primary",htmlType:"submit"},"\u641c\u7d22")),w.default.createElement(o.default,{span:2},w.default.createElement(s.default,{type:"primary",onClick:this.handleReset},"\u91cd\u7f6e"))))),w.default.createElement("div",{className:U.default.check_method_table},w.default.createElement("div",{style:{display:"flex",marginTop:"5px",marginBottom:"5px"}},w.default.createElement("div",{className:"qu_third_button",style:{display:"flex"}},w.default.createElement(s.default,{icon:"plus",onClick:this.showModal,style:{margin:"0 10px"}},"\u65b0\u589e"),w.default.createElement(A.default,{visible:this.state.visible,getChildData:this.getChildData,checkTableName:this.state.checkTableName,fetchTableNamess:this.fetchTableNamess}),w.default.createElement(H.default,{getResult:function(t){return e.getResult(t)},errorFile:this.state.fileName,content:this.getErrorHtml(),url:"/checkMethod/import/",uploadErrorUrl:"/checkMethod/downExceptionExcel?fileName="+this.state.fileName})),w.default.createElement(s.default,{icon:"export",className:"qu_method_export",style:{margin:"0 10px"},onClick:this.handleExport},"\u5bfc\u51fa"),w.default.createElement(s.default,{icon:"download",className:"qu_method_export",style:{margin:"0 10px"},onClick:this.handleDown},"\u4e0b\u8f7d\u6a21\u677f"),w.default.createElement(c.default,{overlay:w.default.createElement(u.default,null,this.action.map(function(e,t){return w.default.createElement(u.default.Item,{onClick:e.click,key:t},e.text)}))},w.default.createElement(s.default,{style:{marginLeft:10}},"\u6279\u91cf\u64cd\u4f5c"))),w.default.createElement(i.default,{rowSelection:v,loading:h,columns:this.columns,dataSource:this.state.data,className:"tableLine",onChange:this.handleTableChange,pagination:{pageSize:10,total:l,current:n}}),w.default.createElement(P.default,{visible:this.state.visible,getChildData:this.getChildData2,fetchData:this.fetchData,checkTableName:this.state.checkTableName,fetchTableNamess:this.fetchTableNamess}),w.default.createElement(j.default,{onRef:this.onRef,fetchData:this.fetchData}),w.default.createElement(B.default,null)))}}]),t}(w.Component),S=M))||S)||S);t.default=X},TjSs:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("BoS7");var c=n(a("Sdc0"));a("14J3");var u=n(a("BMrR"));a("jCWc");var s=n(a("kPKH")),r=n(a("jehZ"));a("miYZ");var d=n(a("tsqr")),o=n(a("qIgq")),f=n(a("2Taf")),h=n(a("vZ4D")),m=n(a("l4Ni")),p=n(a("ujKo")),v=n(a("rlhR")),g=n(a("MhPg"));a("5NDa");var k=n(a("5rEg"));a("OaEy");var E=n(a("2fM7"));a("y8nQ");var b=n(a("Vl3Y"));a("nRaC");var D=n(a("5RzL")),C=l(a("q1tI")),_=n(a("1TlN")),y=n(a("LvDl")),I=n(a("Mosh")),N=a("Jur2"),S=a("E5h/"),M=n(a("kDOs")),T=a("iIsT"),w=(D.default.TreeNode,b.default.Item),q=E.default.Option,L=k.default.TextArea,O={value:"id",label:"name"},x=function(e){function t(e){var a;return(0,f.default)(this,t),a=(0,m.default)(this,(0,p.default)(t).call(this,e)),a.fetchTableName=function(){(0,T.getModelList)({}).then(function(e){var t=[],l={},n=I.default.setDefaults(y.default.get(e,"obj"),{}),i=I.default.setDefaults(y.default.get(n,"nodes"),[]);t=i.map(function(e){var t=e.id,a=e.tableName,n=e.tableNameCn,i=e.items;return l[t]=[a,i],C.default.createElement(q,{value:t,key:t},I.default.isNull(n)?a:n)}),a.setState({tables:t,tablesMap:l})})},a.checkTableChange=function(e,t){var l=a.state.tablesMap,n=(0,o.default)(l[e],2),i=(n[0],n[1]),c=i.map(function(e){return C.default.createElement(q,{value:e.dataItemId,key:e.dataItemId,"data-name":e.dataItemName},e.chineseName)});a.setState({checkFields:c})},a.handleChanges=function(e,t){a.setState({EnglishName:t.props["data-name"]},function(){a.props.form.setFieldsValue({checkCondition:a.state.checkCondition?a.state.checkCondition.replace(/#{[^{}]+}/,function(e,t){return"".concat(a.state.EnglishName)}):""})})},a.fetchCheckType=function(){(0,T.getEffectivCheckType)().then(function(e){e&&e.length||(e=[]),a.setState({checkTypeData:e})})},a.fetchDateDataItem=function(){var e=[];(0,T.getDateDataItems)({id:2}).then(function(t){t&&(e=t.obj,a.setState({checkDateDataItems:e}))})},a.fetchDateSourcList=function(){(0,T.getDateSourcCheckMethod)().then(function(e){e&&e.obj&&a.setState({sourceList:e.obj})})},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1}),a.props.form.resetFields(),a.setState({checkCondition:"",description:"",checkFieldId:"",queryFieldIds:[],singleDataItems:[],queryDataItemssChineseName:[]})},a.handleSubmit=function(e){var t=a.state,l=t.queryDataItemssChineseName,n=(t.status,[]);if(l&&l.forEach(function(e){n.push({id:e[O.value]})}),n.length>0){var i=a.state.queryDataItemssChineseName,c=[];i.map(function(e,t){return c.push(e.id)}),a.props.form.validateFields(function(e,t){e||(t.status=t.status?1:2,t.tableId=+t.tableId,t.queryFieldIds=c.join(),a.setState({visible:!1},function(){a.props.getChildData(t),a.props.form.resetFields(),a.setState({checkCondition:"",description:"",checkFieldId:"",queryFieldIds:[],singleDataItems:[],queryDataItemssChineseName:[]})}))})}else d.default.warning("\u8bf7\u9009\u62e9\u68c0\u6838\u6570\u636e\u9879")},a.changeForId=function(e){var t,l,n,i=(0,v.default)(a),c="";(0,T.getCheckMethodInfo)({id:e}).then(function(e){null!=e.checkCondition&&(t=e.checkCondition),l=e.description,n=e.qualityDimension,c=e.checkCondition,i.state.EnglishName&&t&&t.replace(/#{[^{}]+}/g,function(e,t){return"".concat(a.state.EnglishName)}),a.setState({checkFieldId:"",checkCondition:t,description:l,qualityDimension:n,middleCheckCondition:c},function(){a.props.form.setFieldsValue({checkCondition:a.state.EnglishName?a.state.checkCondition.replace(/#{[^{}]+}/,function(e,t){return"".concat(a.state.EnglishName)}):a.state.checkCondition})})})},a.dataSourceId=function(e){(0,v.default)(a);a.setState({checkDatabaseId:e},function(){a.state.onChangeScriptValue&&a.state.onChangeScriptValue.length>0&&(0,T.checkMethodValidateCheckSqlContent)({flag:1,checkDatabaseId:a.state.checkDatabaseId,checkSqlContent:a.state.onChangeScriptValue}).then(function(e){e&&0==e.success&&d.default.warning(e.msg)})}),a.fetchTableNamess({datasourceId:e})},a.onChangeScript=function(e){(0,v.default)(a);var t=e.target.value;0!==t.trim().length&&(a.setState({onChangeScriptValue:t}),(0,T.checkMethodValidateCheckSqlContent)({flag:1,checkDatabaseId:a.state.checkDatabaseId,checkSqlContent:t}).then(function(e){e&&0==e.success&&d.default.warning(e.msg)}))},a.fetchTableNamess=function(e){(0,T.getCatagory)(e).then(function(e){if(e&&e.obj){var t=(0,N.generateCheckTableName)(e.obj);a.setState({checkTableName:t})}})},a.onChangeTableName=function(e,t,l){a.setState({singleDataItems:[],checkFieldId:"",EnglishName:"",queryDataItemssChineseName:[]},function(){a.props.form.setFieldsValue({tableId:e,checkFieldId:"",queryFieldIds:[],checkCondition:a.state.middleCheckCondition}),(0,T.getDateDataItems)({id:e}).then(function(e){var t=[];e&&e.obj&&(t=e.obj.map(function(e,t){return C.default.createElement(q,{value:e.dataItemId,key:e.dataItemId,"data-name":e.dataItemName},e.chineseName)})),a.setState({singleDataItems:t,singleDataItemsLength:t.length})})})},a.handleSelectCheck=function(e){var t=a.state.queryDataItemssChineseName;t.push(e),a.setState({queryDataItemssChineseName:t})},a.handleDeleteCheck=function(e){a.setState({queryDataItemssChineseName:e})},a.state={visible:!1,dataSource:"",sourceList:[],checkDateDataItems:[],checkTypeData:[],checkDataItems:[],checkTableName:[],tableId:"",tables:[],checkCondition:"",description:"",qualityDimension:"",EnglishName:"",disabled:!0,singleDataItems:[],singleDataItemsLength:0,checkDatabaseId:""},a}return(0,g.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.fetchDateDataItem(),this.fetchDateSourcList(),this.fetchCheckType(),this.fetchTableName()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:12},sm:{span:8}},wrapperCol:{xs:{span:12},sm:{span:14}}},l={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:19}}},n=function(e,t,a){(0,T.checkName)({name:t,flag:1}).then(function(e){1!=e?t.length>=30?a("\u540d\u5b57\u8fc7\u957f\uff01"):a():a("\u540d\u5b57\u91cd\u590d")})};return C.default.createElement(i.default,{title:"\u65b0\u589e\u68c0\u6838\u811a\u672c",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.handleSubmit,onCancel:this.handleCancel,style:{top:"5%"}},C.default.createElement(b.default,{className:"addOfTable"},C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:24},C.default.createElement(w,(0,r.default)({label:"\u811a\u672c\u540d\u79f0"},l),t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"},{validator:n}]})(C.default.createElement(k.default,{placeholder:"",onBlur:this.onChangeUserName,onKeyUp:this.nameKeyUp,maxLength:"30"}))))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:12},C.default.createElement(w,(0,r.default)({label:"\u6570\u636e\u6e90"},a),t("checkDatabaseId",{rules:[{required:!0,message:"\u6570\u636e\u6e90\u4e0d\u80fd\u4e3a\u7a7a"}]})(C.default.createElement(E.default,{onChange:this.dataSourceId},this.state.sourceList.map(function(e,t){return C.default.createElement(q,{value:e.id,key:t},e.sourceName)}))))),C.default.createElement(s.default,{span:12},C.default.createElement(w,(0,r.default)({label:"\u68c0\u6838\u7c7b\u522b"},a),t("checkTypeId",{rules:[{required:!0,message:"\u68c0\u6838\u7c7b\u522b\u4e0d\u80fd\u4e3a\u7a7a"}]})(C.default.createElement(E.default,{onChange:this.changeForId,onFocus:this.fetchCheckType},this.state.checkTypeData.map(function(e,t){return C.default.createElement(q,{value:e.id,key:t},e.checkName)})))))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:12},C.default.createElement(w,(0,r.default)({label:"\u68c0\u6838\u8868\u540d"},a),t("tableId",{rules:[{required:!0,message:"\u68c0\u6838\u8868\u540d\u4e0d\u80fd\u4e3a\u7a7a!"}],initialValue:""})(C.default.createElement(D.default,{showSearch:!0,placeholder:"",allowClear:!0,treeDefaultExpandAll:!0,dropdownMatchSelectWidth:!1,dropdownStyle:{width:200,maxHeight:400},onChange:this.onChangeTableName,treeNodeFilterProp:"title"},this.state.checkTableName)))),C.default.createElement(s.default,{span:12},C.default.createElement(w,(0,r.default)({label:"\u68c0\u6838\u6570\u636e\u9879"},a),t("checkFieldId",{rules:[{required:!0,message:"\u68c0\u6838\u6570\u636e\u9879\u4e0d\u80fd\u4e3a\u7a7a!"}]})(C.default.createElement(E.default,{showSearch:!0,placeholder:"",optionFilterProp:"children",onChange:this.handleChanges,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.singleDataItems))))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:24},C.default.createElement(w,(0,r.default)({label:"\u67e5\u8be2\u6570\u636e\u9879"},l),C.default.createElement(_.default,{checkCount:this.state.singleDataItemsLength,checkMethod:this.state.singleDataItems,selectCheckList:this.state.queryDataItemssChineseName,selectHeight:180,onSelect:function(t){return e.handleSelectCheck(t)},onDelete:function(t){return e.handleDeleteCheck(t)},onSearchList:function(t){return e.handleSearchList(t)}})))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:24},C.default.createElement(w,(0,r.default)({label:"\u68c0\u6838\u811a\u672c"},l),t("checkSqlContent",{rules:[{required:!0,message:"\u68c0\u6838\u811a\u672c\u4e0d\u80fd\u4e3a\u7a7a"}]})(C.default.createElement(L,{rows:4,onBlur:this.onChangeScript,onPaste:this.onChangeScript}))))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:24},C.default.createElement(w,(0,r.default)({label:"\u63cf\u8ff0\uff1a"},l),t("description",{initialValue:this.state.description,rules:[{required:!1,message:""}]})(C.default.createElement(L,{rows:4}))))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:24},C.default.createElement(w,(0,r.default)({label:"\u72b6\u6001:"},l),t("status",{valuePropName:"checked",initialValue:!0,rules:[{required:!1,message:""}]})(C.default.createElement(c.default,{checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77"})))))))}}]),t}(C.Component),A=b.default.create()((0,S.connect)([{action:M.default.JHLB_ADD_MODAL,handler:function(e){this.setState({visible:e})}}])(x));t.default=A},TpwP:function(e,t,a){},WI2M:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("BoS7");var c=n(a("Sdc0")),u=n(a("jehZ")),s=n(a("p0pE")),r=n(a("2Taf")),d=n(a("vZ4D")),o=n(a("l4Ni")),f=n(a("ujKo")),h=n(a("MhPg"));a("Znn+");var m=n(a("ZTPi"));a("OaEy");var p=n(a("2fM7"));a("5NDa");var v=n(a("5rEg"));a("y8nQ");var g=n(a("Vl3Y")),k=l(a("q1tI")),E=a("E5h/"),b=(a("pke7"),a("iIsT")),D=n(a("JHpU")),C=g.default.Item,_=(v.default.Group,p.default.Option),y=(m.default.TabPane,v.default.TextArea),I=function(e){function t(e){var a;return(0,r.default)(this,t),a=(0,o.default)(this,(0,f.default)(t).call(this,e)),a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1}),a.props.form.resetFields()},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.setState({visible:!1},function(){a.props.getChildData((0,s.default)({},t,{id:a.state.key})),a.props.form.resetFields()})})},a.state={visible:!1,formLayout:"horizontal",disable:!1},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,l=a.checkName,n=(a.qualityDimension,a.status,a.description),s=a.checkCondition,r=this.state.formLayout,d="horizontal"===r?{labelCol:{span:4},wrapperCol:{span:14}}:null,o=function(t,a,l){(0,b.checkTypeCheckName)({checkTypeName:a,id:e.state.id}).then(function(e){1!=e?a.length>=30?l("\u540d\u5b57\u8fc7\u957f\uff01"):l():l("\u540d\u5b57\u91cd\u590d\uff01")})};return k.default.createElement(i.default,{title:"\u7f16\u8f91\u68c0\u6838\u7c7b\u522b",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.handleSubmit,onCancel:this.handleCancel},k.default.createElement(g.default,null,k.default.createElement(C,(0,u.default)({label:"\u540d\u79f0"},d),t("checkName",{initialValue:l,rules:[{required:!0,message:"\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"},{validator:o}]})(k.default.createElement(v.default,{placeholder:"",onBlur:this.onChangeUserName,onKeyUp:this.nameKeyUp,maxLength:"30"}))),k.default.createElement(C,(0,u.default)({label:"\u8d28\u91cf\u7ef4\u5ea6"},d),t("qualityDimension",{initialValue:this.state.newFlag,rules:[{required:!0,message:"\u8d28\u91cf\u7ef4\u5ea6\u4e0d\u80fd\u4e3a\u7a7a"}]})(k.default.createElement(p.default,{style:{width:"100%"}},k.default.createElement(_,{value:"1"},"\u552f\u4e00\u6027"),k.default.createElement(_,{value:"2"},"\u5b8c\u6574\u6027"),k.default.createElement(_,{value:"3"},"\u51c6\u786e\u6027"),k.default.createElement(_,{value:"4"},"\u4e00\u81f4\u6027")))),k.default.createElement(C,(0,u.default)({label:"\u68c0\u6838\u6761\u4ef6\uff1a"},d),t("checkCondition",{required:!0,initialValue:s,rules:[{required:!0,message:"\u68c0\u6838\u6761\u4ef6\u4e0d\u80fd\u4e3a\u7a7a"}]})(k.default.createElement(y,{rows:4}))),k.default.createElement(C,(0,u.default)({label:"\u63cf\u8ff0"},d),t("description",{initialValue:n,rules:[{required:!1,message:"\u8bf7\u586b\u5199\u63cf\u8ff0"}]})(k.default.createElement(y,{rows:4}))),k.default.createElement(C,(0,u.default)({label:"\u72b6\u6001"},d),t("status",{rules:[{required:!1,message:""}]})(k.default.createElement(c.default,{checked:this.state.status,onChange:function(){e.setState({status:!e.state.status})},checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77"})))))}}]),t}(k.Component),N=g.default.create()((0,E.connect)([{action:D.default.JHLB_Edit,handler:function(e,t){var a=t.status;a=1==t.status;var l=t.qualityDimension;"\u552f\u4e00\u6027"==t.qualityDimension&&(l="1"),"\u5b8c\u6574\u6027"==t.qualityDimension&&(l="2"),"\u51c6\u786e\u6027"==t.qualityDimension&&(l="3"),"\u4e00\u81f4\u6027"==t.qualityDimension&&(l="4"),this.setState((0,s.default)({visible:e},t,{newFlag:l,status:a}))}}])(I));t.default=N},XUa9:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.fillDefaultValue=void 0;var n=l(a("Mosh")),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.default.isNull(e)?{}:(Object.keys(e).forEach(function(a){t[a]?e[a]=t[a](e[a]):e[a]=n.default.isNull(e[a])?"":e[a]}),e)};t.fillDefaultValue=i},XbkM:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("p0pE"));a("2qtc");var c=n(a("kLXV"));a("miYZ");var u=n(a("tsqr")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg"));a("Znn+");var h=n(a("ZTPi"));a("OaEy");var m=n(a("2fM7"));a("5NDa");var p=n(a("5rEg"));a("y8nQ");var v=n(a("Vl3Y"));a("nRaC");var g=n(a("5RzL")),k=l(a("q1tI")),E=a("E5h/"),b=n(a("Mosh")),D=a("PC6s"),C=n(a("vzh6")),_=a("iIsT"),y=(g.default.TreeNode,v.default.Item),I=(p.default.Group,m.default.Option),N=(h.default.TabPane,p.default.TextArea,function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,d.default)(this,(0,o.default)(t).call(this,e)),a.AddMethodGroup=function(){var e=[];(0,_.getAllCheckMethodGroup)({}).then(function(t){b.default.notNull(t)&&(e=t.map(function(e,t){return k.default.createElement(I,{value:e.id,key:e.id},e.name)})),a.setState({methodGroup:e})})},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){})},a.fetchMethodGroupSave=function(){(0,_.getCheckMethodGroupSave)({checkMethodId:a.state.checkMethodId,checkMethodGroupId:a.state.checkMethodGroupId}).then(function(e){e.success?u.default.success(e.msg):u.default.error(e.msg),a.setState({visible:!1}),a.props.form.resetFields(),a.props.fetchData()})},a.checkTableChange=function(e){a.setState({checkMethodGroupId:e})},a.handleCancel=function(){a.setState({visible:!1})},a.state={visible:!1,checkMethodId:[],checkMethodGroupId:""},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.AddMethodGroup()}},{key:"componentDidUpdate",value:function(e,t,a){t.checkMethodGroupId!==this.state.checkMethodGroupId&&this.props.form.setFieldsValue({fieldChineseName:this.state.checkMethodGroupId})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state;t.checkName,t.qualityDimension,t.status,t.description,t.checkCondition;return k.default.createElement(c.default,{title:"\u6dfb\u52a0\u5230\u65b9\u6cd5\u7ec4",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.fetchMethodGroupSave,onCancel:this.handleCancel},k.default.createElement(v.default,null,k.default.createElement(y,{label:"\u68c0\u6838\u65b9\u6cd5\u7ec4"},e("fieldChineseName",{initialValue:this.state.checkMethodGroupId,rules:[{required:!1,message:"Input something!"}]})(k.default.createElement(m.default,{showSearch:!0,style:{width:360},placeholder:"",optionFilterProp:"children",onChange:this.checkTableChange,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},pageNum:this.props.pageNum,allowClear:!0},this.state.methodGroup)))))}}]),t}(k.Component)),S=v.default.create()((0,E.connect)([{action:C.default.JHLB_Edit_METHODGROUP,handler:function(e,t){var a=t.id;this.setState({checkMethodId:a}),this.setState((0,i.default)({visible:e},(0,D.fillDefaultValue)(t,{status:function(e){return!!/^1$/.test(e)}})))}}])(N));t.default=S},Z4ss:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("p0pE"));a("2qtc");var c=n(a("kLXV"));a("miYZ");var u=n(a("tsqr")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg"));a("OaEy");var h=n(a("2fM7"));a("y8nQ");var m=n(a("Vl3Y")),p=l(a("q1tI")),v=a("E5h/"),g=n(a("Mosh")),k=a("XUa9"),E=n(a("kDOs")),b=a("iIsT"),D=m.default.Item,C=h.default.Option,_=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,d.default)(this,(0,o.default)(t).call(this,e)),a.AddMethodGroup=function(){var e=[];(0,b.getAllCheckMethodGroup)({}).then(function(t){g.default.notNull(t)&&(e=t.map(function(e,t){return p.default.createElement(C,{value:e.id,key:e.id},e.name)})),a.setState({methodGroup:e})})},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){})},a.fetchMethodGroupSave=function(){(0,b.getCheckMethodGroupSave)({checkMethodId:a.state.checkMethodId,checkMethodGroupId:a.state.checkMethodGroupId}).then(function(e){e.success?u.default.success(e.msg):u.default.error(e.msg),a.setState({visible:!1}),a.props.form.resetFields(),a.props.fetchData()})},a.checkTableChange=function(e){a.setState({checkMethodGroupId:e})},a.handleCancel=function(){a.setState({visible:!1})},a.state={visible:!1,checkMethodId:[],checkMethodGroupId:""},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.AddMethodGroup()}},{key:"componentDidUpdate",value:function(e,t,a){t.checkMethodGroupId!==this.state.checkMethodGroupId&&this.props.form.setFieldsValue({fieldChineseName:this.state.checkMethodGroupId})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state;t.checkName,t.qualityDimension,t.status,t.description,t.checkCondition;return p.default.createElement(c.default,{title:"\u6dfb\u52a0\u5230\u65b9\u6cd5\u7ec4",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.fetchMethodGroupSave,onCancel:this.handleCancel},p.default.createElement(m.default,null,p.default.createElement(D,{label:"\u68c0\u6838\u65b9\u6cd5\u7ec4"},e("fieldChineseName",{initialValue:this.state.checkMethodGroupId,rules:[{required:!1,message:"Input something!"}]})(p.default.createElement(h.default,{showSearch:!0,style:{width:360},placeholder:"",optionFilterProp:"children",onChange:this.checkTableChange,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},pageNum:this.props.pageNum,allowClear:!0},this.state.methodGroup)))))}}]),t}(p.Component),y=m.default.create()((0,v.connect)([{action:E.default.JHLB_Edit_METHODGROUP,handler:function(e,t){var a=t.id,l=t.checkFieldId;this.setState((0,i.default)({checkMethodId:a,visible:e},(0,k.fillDefaultValue)(t,{status:function(e){return!!/^1$/.test(e)}}),{checkFieldId:l}))}}])(_));t.default=y},"amQ/":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV"));a("+L6B");var c=l(a("2/Rp"));a("BoS7");var u=l(a("Sdc0")),s=l(a("2Taf")),r=l(a("vZ4D")),d=l(a("l4Ni")),o=l(a("ujKo")),f=l(a("MhPg"));a("Znn+");var h=l(a("ZTPi"));a("OaEy");var m=l(a("2fM7"));a("5NDa");var p=l(a("5rEg"));a("y8nQ");var v,g,k,E=l(a("Vl3Y")),b=n(a("q1tI"));a("TpwP");var D=E.default.Item,C=(p.default.Group,m.default.Option),_=(h.default.TabPane,p.default.TextArea),y=(v=E.default.create(),v((k=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,d.default)(this,(0,o.default)(t).call(this,e)),a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1})},a.handleSubmit=function(e){a.props.form.validateFields(function(e,t){})},a.state={visible:!1,confirmDirty:!1,record:{}},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return b.default.createElement(i.default,{title:"\u7f16\u8f91\u68c0\u6838\u7c7b\u522b",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.handleOk,onCancel:this.handleCancel,footer:null},b.default.createElement(E.default,null,b.default.createElement(D,{label:"\u540d\u79f0"},e("name",{rules:[{required:!1,message:""}]})(b.default.createElement(p.default,{placeholder:""}))),b.default.createElement(D,{label:"\u8d28\u91cf\u7ef4\u5ea6"},e("dimension",{rules:[{required:!1,message:""}]})(b.default.createElement(m.default,{style:{width:200}},b.default.createElement(C,{value:"1"},"\u552f\u4e00\u6027"),b.default.createElement(C,{value:"2"},"\u5b8c\u6574\u6027"),b.default.createElement(C,{value:"3"},"\u51c6\u786e\u6027"),b.default.createElement(C,{value:"4"},"\u4e00\u81f4\u6027")))),b.default.createElement(D,{label:"\u72b6\u6001"},e("status",{rules:[{required:!1,message:""}]})(b.default.createElement(u.default,{checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77",defaultChecked:!0}))),b.default.createElement(D,{label:"\u63cf\u8ff0"},e("des",{rules:[{required:!1,message:""}]})(b.default.createElement(_,{rows:4}))),b.default.createElement(D,{label:"\u68c0\u6838\u6761\u4ef6\uff1a"},e("name",{rules:[{required:!1,message:""}]})(b.default.createElement(_,{rows:4})))),b.default.createElement(c.default,{type:"primary",onClick:this.handleSubmit},"\u786e\u5b9a"))}}]),t}(b.Component),g=k))||g);t.default=y},bc8c:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("BoS7");var c=n(a("Sdc0"));a("14J3");var u=n(a("BMrR"));a("jCWc");var s=n(a("kPKH")),r=n(a("jehZ"));a("miYZ");var d=n(a("tsqr")),o=n(a("qIgq")),f=n(a("2Taf")),h=n(a("vZ4D")),m=n(a("l4Ni")),p=n(a("ujKo")),v=n(a("MhPg"));a("Znn+");var g=n(a("ZTPi"));a("OaEy");var k=n(a("2fM7"));a("5NDa");var E=n(a("5rEg"));a("y8nQ");var b=n(a("Vl3Y"));a("nRaC");var D=n(a("5RzL")),C=l(a("q1tI")),_=n(a("2HCU")),y=a("E5h/"),I=n(a("Mosh")),N=n(a("hK77")),S=a("iIsT"),M=D.default.TreeNode,T=b.default.Item,w=(E.default.Group,k.default.Option),q=(g.default.TabPane,E.default.TextArea),L={value:"id",label:"name"},O=function(e){function t(e){var a;return(0,f.default)(this,t),a=(0,m.default)(this,(0,p.default)(t).call(this,e)),a.onChange=function(e){a.setState({value:e})},a.getGroupClassify=function(){var e,t=[];(0,S.getCheckMethodGroupClassify)().then(function(l){l&&(t=l.obj.notAssociated,e=t.map(function(e,t){return C.default.createElement(w,{value:e.id,key:e.id},e.name)})),a.setState({classifyItems:e})})},a.fetchCheckMethodGroupCat=function(){(0,S.getCheckMethodGroupCat)()},a.fetchTableName=function(){(0,S.getCheckMethodGroupCat)({}).then(function(e){var t;I.default.notNull(e)&&I.default.notNull(e.obj)&&(t=a.generateCheckTableName(e.obj)),a.setState({checkTableName:t})})},a.generateCheckTableName=function(e){var t=[];return I.default.notNull(e)&&e.map(function(e,l){e.children&&e.children.length?t.push(C.default.createElement(M,{value:e.nodeValue,title:e.nodeName,key:e.nodeValue},a.generateCheckTableName(e.children))):t.push(C.default.createElement(M,{value:e.nodeValue,title:e.nodeName,key:e.nodeValue}))}),t},a.checkTableChange=function(e,t){var l=a.state.tablesMap,n=(0,o.default)(l[e],2),i=n[0],c=n[1],u=c.map(function(e){return C.default.createElement(w,{value:e.dataItemId,key:e.dataItemId},e.chineseName)});a.setState({checkFields:u}),a.props.form.setFieldsValue({checkCondition:i})},a.handleChangeForIds=function(e){},a.fetchCheckType=function(){(0,S.getEffectivCheckType)().then(function(e){e&&e.length||(e=[]),a.setState({checkTypeData:e})})},a.fetchDateDataItem=function(){var e=[];(0,S.getDateDataItems)({id:2}).then(function(t){t&&(e=t.obj,a.setState({checkDateDataItems:e}))})},a.fetchDateSourcList=function(){(0,S.getDateSourcList)().then(function(e){I.default.notNull(e)&&I.default.notNull(e.obj)&&e.obj})},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1}),a.props.form.resetFields(),a.setState({checkMethodss:[]})},a.handleSubmit=function(e){var t=a.state.checkMethodss,l=[];if(t.forEach(function(e){l.push({id:e[L.value]})}),!(l.length>0))return d.default.warning("\u8bf7\u9009\u62e9\u68c0\u6838\u65b9\u6cd5");a.props.form.validateFields(function(e,t){e||(t.status=t.status?1:2,t.categoryId=t.categoryId,t.checkMethods=a.state.checkMethodss,a.setState({visible:!1},function(){a.props.getChildData(t),a.props.form.resetFields(),a.setState({checkMethodss:[]})}))})},a.changeForId=function(e){var t,l,n;(0,S.getCheckMethodInfo)({id:e}).then(function(e){t=e.checkCondition,l=e.description,n=e.qualityDimension,a.setState({checkCondition:t,description:l,qualityDimension:n})})},a.checkMethodsChange=function(e){var t=[];e.map(function(e,a){t.push({id:e})}),a.setState({checkMethods:t})},a.handleSelectCheck=function(e){var t=a.state.checkMethodss;t.push(e),a.setState({checkMethodss:t})},a.handleDeleteCheck=function(e){a.setState({checkMethodss:e})},a.getGroupClassify=function(){var e=[],t=[],l="";(0,S.getCheckMethodGroupClassify)().then(function(n){n&&(e=n.obj.notAssociated,l=e.length,t=e.map(function(e,t){return C.default.createElement(w,{value:e.id,key:e.id},e.name)})),a.setState({classifyItems:t,classifyItemsLength:l})})},a.state={visible:!1,dataSource:"",sourceList:[],checkDateDataItems:[],checkTypeData:[],checkDataItems:[],checkTableName:[],tableId:"",tables:[],checkCondition:"",description:"",qualityDimension:"",value:void 0,classifyItems:"",tablesMap:"",disable:!1,checkMethodss:[]},a}return(0,v.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.fetchDateDataItem(),this.fetchDateSourcList(),this.fetchCheckType(),this.fetchCheckMethodGroupCat(),this.getGroupClassify(),this.fetchTableName()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},l=function(e,t,a){(0,S.checkMethodGroupCheckName)({checkMethodGroupName:t}).then(function(e){1!=e?t&&t.length>=30?a("\u540d\u5b57\u8fc7\u957f\uff01"):a():a("\u540d\u5b57\u91cd\u590d\uff01")})};return C.default.createElement(i.default,{title:"\u65b0\u589e\u68c0\u6838\u65b9\u6cd5\u7ec4",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.handleSubmit,onCancel:this.handleCancel},C.default.createElement(b.default,{className:"addOfTable"},C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:24},C.default.createElement(T,(0,r.default)({label:"\u540d\u79f0\u7ec4\u540d"},a),t("name",{rules:[{required:!0,message:"\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"},{validator:l}]})(C.default.createElement(E.default,{placeholder:"",onBlur:this.onChangeUserName,onKeyUp:this.nameKeyUp,maxLength:"30"}))))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,(0,r.default)({span:16},a),C.default.createElement(T,{label:"\u6240\u5c5e\u5206\u7c7b"},t("categoryId",{rules:[{required:!0,message:"\u6240\u5c5e\u5206\u7c7b\u4e0d\u80fd\u4e3a\u7a7a"}]})(C.default.createElement(D.default,{style:{width:"150px"}},this.state.checkTableName))))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:24},C.default.createElement(T,(0,r.default)({label:"\u68c0\u6838\u65b9\u6cd5"},a),t("checkMethods",{})(C.default.createElement(_.default,{checkCount:this.state.classifyItemsLength,checkMethod:this.state.classifyItems,selectCheckList:this.state.checkMethodss,selectHeight:180,onSelect:function(t){return e.handleSelectCheck(t)},onDelete:function(t){return e.handleDeleteCheck(t)},onSearchList:function(t){return e.handleSearchList(t)}}))))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:24},C.default.createElement(T,(0,r.default)({label:"\u63cf\u8ff0\uff1a"},a),t("description",{rules:[{required:!1,message:""}]})(C.default.createElement(q,{rows:1}))))),C.default.createElement(u.default,{gutter:24},C.default.createElement(s.default,{span:24},C.default.createElement(T,(0,r.default)({label:"\u72b6\u6001:"},a),t("status",{valuePropName:"checked",initialValue:!0,rules:[{required:!0,message:""}]})(C.default.createElement(c.default,{checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77"})))))))}}]),t}(C.Component),x=b.default.create()((0,y.connect)([{action:N.default.JHLB_ADD_MODAL,handler:function(e){this.setState({visible:e})}}])(O));t.default=x},cbkR:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.fillDefaultValue=void 0;var n=l(a("Mosh")),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.default.isNull(e)?{}:(Object.keys(e).forEach(function(a){t[a]?e[a]=t[a](e[a]):e[a]=n.default.isNull(e[a])?"":e[a]}),e)};t.fillDefaultValue=i},gWUE:function(e,t,a){e.exports={"nav-base":"nav-base___2FCDO",nav:"nav___3Hicz","nav-collapsed":"nav-collapsed___24Hit",searchBar:"searchBar___2pxTZ",header:"header___oziYt",trigger:"trigger___2FG5G",right:"right___kdGfJ",action:"action___1gxKS",name:"name___3UT1e",globalFooter:"globalFooter___TJXfQ",lb_detail_ul:"lb_detail_ul___24I_b",detailForm:"detailForm___ww3nX","ant-modal-content":"ant-modal-content___2GO8E","ant-btn":"ant-btn___2D5Pf"}},hK77:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("Mosh")),i=n.default.generateActions({JHLB_ADD_METHOD:"JHLB_ADD_METHOD",JHLB_ADD_METHOD_EDIT:"JHLB_ADD_METHOD_EDIT",JHLB_ADD_MODAL:"JHLB_ADD_MODAL",JHLB_ADD_MODAL_DELETE:"JHLB_ADD_MODAL_DELETE",JHLB_ADD_MODAL_DETAILS:"JHLB_ADD_MODAL_DETAILS",JHLB_Edit:"JHLB_Edit",JHLB_Edit_METHODGROUP:"JHLB_Edit_METHODGROUP"});t.default=i},hedH:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a("2Taf")),c=l(a("vZ4D")),u=l(a("l4Ni")),s=l(a("ujKo")),r=l(a("MhPg"));a("y8nQ");var d=l(a("Vl3Y"));a("Znn+");var o=l(a("ZTPi")),f=n(a("q1tI"));a("0SvO");var h,m,p,v=l(a("T80k")),g=l(a("FGxN")),k=l(a("sX96")),E=l(a("5JjO")),b=l(a("sfKW")),D=(a("iIsT"),o.default.TabPane),C=(h=d.default.create(),h((p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var l=arguments.length,n=new Array(l),c=0;c<l;c++)n[c]=arguments[c];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(n))),a.changeTabPane=function(e){sessionStorage.setItem("DataQualityDefinitionTabPane",e)},a.getDefaultActiveKey=function(){return"POP"===a.props.history.action?sessionStorage.getItem("DataQualityDefinitionTabPane"):"1"},a}return(0,r.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"layOut"},f.default.createElement(o.default,{defaultActiveKey:this.getDefaultActiveKey(),onChange:this.changeTabPane},f.default.createElement(D,{tab:"\u68c0\u6838\u7c7b\u522b",key:"1"},f.default.createElement(g.default,null)),f.default.createElement(D,{tab:"\u68c0\u6838\u65b9\u6cd5",key:"2"},f.default.createElement(v.default,null)),f.default.createElement(D,{tab:"\u68c0\u6838\u811a\u672c",key:"3"},f.default.createElement(k.default,null)),f.default.createElement(D,{tab:"\u68c0\u6838\u65b9\u6cd5\u7ec4",key:"4"},f.default.createElement(E.default,null)),f.default.createElement(D,{tab:"\u68c0\u6838\u4f5c\u4e1a",key:"5"},f.default.createElement(b.default,null))))}}]),t}(f.Component),m=p))||m);t.default=C},iNJo:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("Pwec");var c=n(a("CtXQ"));a("miYZ");var u=n(a("tsqr")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg")),h=l(a("q1tI")),m=a("iIsT");a("TpwP");var p=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,d.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(n))),a.state={visible:!1,id:""},a.showModalDelete=function(e){var t=e.id;a.setState({id:t,visible:!0})},a.deleteData=function(){(0,m.getcheckTypeDelete)({id:a.state.id}).then(function(e){e.success?u.default.success("\u5220\u9664\u6210\u529f\uff01"):u.default.success("\u5df2\u7ecf\u88ab\u5f15\u7528\u7684\u65e0\u6cd5\u5220\u9664!"),a.props.fetchData()})},a.hideModalDelete=function(){a.setState({visible:!1},function(){a.deleteData(),a.props.fetchData()})},a.handleCancel=function(e){a.setState({visible:!1})},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"render",value:function(e,t){var a=this;return h.default.createElement("div",null,h.default.createElement(c.default,{type:"delete",className:"qu_icon_write",onClick:function(){return a.showModalDelete(a.props.deleteData,a.props.data)},title:"\u5220\u9664"}),h.default.createElement(i.default,{title:"\u5220\u9664",visible:this.state.visible,onOk:this.hideModalDelete,onCancel:this.handleCancel,cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4"},h.default.createElement("p",null,"\u786e\u5b9a\u5220\u9664\u8be5\u68c0\u6838\u7c7b\u522b\uff1f")))}}]),t}(h.default.Component);t.default=p},kDOs:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("Mosh")),i=n.default.generateActions({JHLB_ADD_METHOD:"JHLB_ADD_METHOD",JHLB_ADD_METHOD_EDIT:"JHLB_ADD_METHOD_EDIT",JHLB_ADD_MODAL:"JHLB_ADD_MODAL",JHLB_ADD_MODAL_DELETE:"JHLB_ADD_MODAL_DELETE",JHLB_ADD_MODAL_DETAILS:"JHLB_ADD_MODAL_DETAILS",JHLB_Edit:"JHLB_Edit",JHLB_Edit_METHODGROUP:"JHLB_Edit_METHODGROUP"});t.default=i},liq6:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("p0pE"));a("2qtc");var c=n(a("kLXV"));a("miYZ");var u=n(a("tsqr")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg"));a("Znn+");var h=n(a("ZTPi"));a("OaEy");var m=n(a("2fM7"));a("5NDa");var p=n(a("5rEg"));a("y8nQ");var v=n(a("Vl3Y"));a("nRaC");var g=n(a("5RzL")),k=l(a("q1tI")),E=a("E5h/"),b=a("8USV"),D=a("iIsT"),C=n(a("hK77")),_=n(a("Mosh")),y=(g.default.TreeNode,v.default.Item),I=(p.default.Group,m.default.Option),N=(h.default.TabPane,p.default.TextArea,function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,d.default)(this,(0,o.default)(t).call(this,e)),a.fetchCheckMethodGroupTaskAll=function(){var e,t;(0,D.getCheckMethodGroupTaskAll)().then(function(l){_.default.notNull(l)&&_.default.notNull(l.obj)&&(e=l.obj,t=e.map(function(e,t){return k.default.createElement(I,{value:e.id,key:e.id},e.checkName)}),a.setState({addAllData:t}))})},a.checkTableChange=function(e){a.setState({taskId:e})},a.fetchCheckMethodGroupPushInTask=function(){var e=a.state,t=e.id,l=e.taskId;(0,D.getCheckMethodGroupPushInTask)({id:t,taskId:l}).then(function(e){e.success?u.default.success(e.msg):u.default.error(e.msg),a.setState({visible:!1}),a.props.form.resetFields(),a.props.fetchData()})},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){})},a.state={visible:!1,addAllData:"",taskId:"",id:""},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.fetchCheckMethodGroupTaskAll()}},{key:"componentDidUpdate",value:function(e,t,a){t.taskId!==this.state.taskId&&this.props.form.setFieldsValue({fieldChineseName:this.state.taskId})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state;t.checkName,t.qualityDimension,t.status,t.description,t.checkCondition;return k.default.createElement(c.default,{title:"\u6dfb\u52a0\u5230\u4f5c\u4e1a",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.fetchCheckMethodGroupPushInTask,onCancel:this.handleCancel},k.default.createElement(v.default,null,k.default.createElement(y,{label:"\u9009\u62e9\u4f5c\u4e1a"},e("fieldChineseName",{initialValue:this.state.taskId,rules:[{required:!1,message:"\u8bf7\u9009\u62e9\u4f5c\u4e1a"}]})(k.default.createElement(m.default,{showSearch:!0,style:{width:200},initialValue:this.state.value,dropdownStyle:{maxHeight:400},placeholder:"",allowClear:!0,treeDefaultExpandAll:!0,onChange:this.checkTableChange},this.state.addAllData)))))}}]),t}(k.Component)),S=v.default.create()((0,E.connect)([{action:C.default.JHLB_Edit_METHODGROUP,handler:function(e,t){var a=t.id,l=t.checkTaskId;this.setState({id:a}),this.setState((0,i.default)({visible:e},(0,b.fillDefaultValue)(t,{status:function(e){return!!/^1$/.test(e)}}),{taskId:l}))}}])(N));t.default=S},mz4o:function(e,t,a){e.exports={"nav-base":"nav-base___1DmSn",nav:"nav___-naHM","nav-collapsed":"nav-collapsed___1D8F4",searchBar:"searchBar___VK8iw",header:"header___3kmuU",trigger:"trigger___OgcI1",right:"right___2512I",action:"action___3IYCJ",name:"name___1VmKu",globalFooter:"globalFooter___3_4dN"}},n9GK:function(e,t,a){e.exports={"nav-base":"nav-base___1nr0z",nav:"nav___2Oj0m","nav-collapsed":"nav-collapsed___3FBB4",searchBar:"searchBar___Yzj99",header:"header___2lu3C",trigger:"trigger___26KmM",right:"right___13tyO",action:"action___1TEud",name:"name___25hP6",globalFooter:"globalFooter___EV51_",lb_detail_ul:"lb_detail_ul___2vJOa",detailForm:"detailForm___39lSo","ant-modal-content":"ant-modal-content___3Ik7y","ant-btn":"ant-btn___2aeq9"}},"nGv/":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("BoS7");var c=n(a("Sdc0"));a("14J3");var u=n(a("BMrR"));a("jCWc");var s=n(a("kPKH")),r=n(a("jehZ"));a("miYZ");var d=n(a("tsqr")),o=n(a("p0pE")),f=n(a("qIgq")),h=n(a("2Taf")),m=n(a("vZ4D")),p=n(a("l4Ni")),v=n(a("ujKo")),g=n(a("rlhR")),k=n(a("MhPg"));a("nRaC");var E=n(a("5RzL"));a("Znn+");var b=n(a("ZTPi"));a("OaEy");var D=n(a("2fM7"));a("5NDa");var C=n(a("5rEg"));a("y8nQ");var _=n(a("Vl3Y")),y=l(a("q1tI")),I=a("E5h/"),N=(a("PC6s"),n(a("vzh6"))),S=a("iIsT"),M=n(a("Mosh")),T=n(a("r841")),w=_.default.Item,q=(C.default.Group,D.default.Option),L=(b.default.TabPane,C.default.TextArea),O=(E.default.TreeNode,{value:"id",label:"name"}),x=function(e){function t(e){var a;return(0,h.default)(this,t),a=(0,p.default)(this,(0,v.default)(t).call(this,e)),a.fetchTableName=function(){(0,S.getModelList)({}).then(function(e){var t=[],l={};if(M.default.notNull(e)&&M.default.notNull(e.obj)){var n=e.obj.nodes;M.default.notNull(n)&&(t=n.map(function(e){var t=e.id,a=e.tableName,n=e.tableNameCn,i=e.items;return l[t]=[a,i],y.default.createElement(q,{value:t,key:t},M.default.isNull(n)?a:n)}))}a.setState({tables:t,tablesMap:l})})},a.checkTableChange=function(e){a.selectQueryData(e);var t=a.state.tablesMap,l=(0,f.default)(t[e],2),n=(l[0],l[1]),i=void 0===n?[]:n,c=a.generateCheckItemsOptions(i);a.setState({checkFields:c,checkFieldId:"",queryDataItemss:[],queryDataItemssChineseName:[]})},a.selectQueryData=function(e){var t=[],l=[];(0,S.modelDataItems)({id:e}).then(function(e){e&&e.obj&&(t=e.obj,l=t.map(function(e,t){return y.default.createElement(q,{value:e.dataItemId?Number(e.dataItemId):"",key:e.dataItemId?Number(e.dataItemId):"","data-name":e.dataItemName},e.chineseName)})),a.setState({selectDataItemsSelect:l})})},a.generateCheckItemsOptions=function(e){return M.default.notNull(e)?e.map(function(e){if(e){var t=e.dataItemId||e.id||"",a=e.chineseName,l=e.dataItemName;return y.default.createElement(q,{value:t,key:t,"data-name":l},a)}}):[]},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1}),a.props.form.resetFields()},a.handleSubmit=function(e){var t=a.state,l=t.queryDataItemssChineseName,n=(t.status,[]);if(l.forEach(function(e){n.push({id:e[O.value]})}),!(n.length>0))return d.default.warning("\u8bf7\u9009\u62e9\u67e5\u8be2\u6570\u636e\u9879");e.preventDefault(),a.props.form.validateFields(function(e,t){e||(t.queryDataItemss=a.state.queryDataItemssChineseName,a.setState({visible:!1},function(){var e=a.state.status;a.props.getChildData((0,o.default)({},t,{newStatus:e,id:a.state.key})),a.props.form.resetFields()}))})},a.fetchDateSourcList=function(){(0,S.getDateSourcCheckMethod)().then(function(e){e&&e.obj&&a.setState({sourceList:e.obj})})},a.fetchCheckType=function(){(0,S.getEffectivCheckType)().then(function(e){e&&e.length||(e=[]),a.setState({checkTypeData:e})})},a.handleChanges=function(e,t){a.setState({EnglishName:t.props["data-name"]},function(){a.props.form.setFieldsValue({checkCondition:a.state.checkCondition?a.state.checkCondition.replace(/#{[^{}]+}/g,function(e,t){return"".concat(a.state.EnglishName)}):""})})},a.changeForId=function(e){var t,l,n,i=(0,g.default)(a),c="";(0,S.getCheckMethodInfo)({id:e}).then(function(e){t=e.checkCondition,l=e.description,n=e.qualityDimension,c=e.checkCondition,i.state.EnglishName&&t&&t.replace(/#{[^{}]+}/g,function(e,t){return"".concat(a.state.EnglishName)}),a.setState({checkCondition:t,description:l,qualityDimension:n,middleCheckCondition:c},function(){a.props.form.setFieldsValue({checkCondition:a.state.EnglishName&&a.state.checkCondition?a.state.checkCondition.replace(/#{[^{}]+}/g,function(){return"".concat(a.state.EnglishName)}):a.state.checkCondition})})})},a.onChangeTableName=function(e){a.setState({singleDataItems:[],checkFieldId:"",EnglishName:"",queryDataItemssChineseName:[]}),a.props.form.setFieldsValue({checkFieldId:"",queryDataItemss:[],queryDataItemssChineseName:[],queryFieldIds:[],checkCondition:a.state.middleCheckCondition}),(0,S.getDateDataItems)({id:e}).then(function(e){var t=[],l=[];e&&e.obj&&(t=e.obj,l=t.map(function(e,t){return y.default.createElement(q,{value:e.dataItemId,key:e.dataItemId,"data-name":e.dataItemName},e.chineseName)}));var n=l.length;a.setState({singleDataItems:l,singleDataItemsLength:n})})},a.handleSelectCheck=function(e){var t=a.state.queryDataItemssChineseName;t.push(e),a.setState({queryDataItemssChineseName:t})},a.handleDeleteCheck=function(e){a.setState({queryDataItemssChineseName:e})},a.changeCheckDatabaseId=function(e){a.props.fetchTableNamess({datasourceId:e})},a.state={visible:!1,sourceList:[],checkTypeData:[],EnglishName:"",selectDataItemsSelect:[],disabled:!0,singleDataItems:[],queryDataItemssChineseName:[]},a}return(0,k.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){this.fetchDateSourcList(),this.fetchCheckType(),this.fetchTableName()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:12},sm:{span:8}},wrapperCol:{xs:{span:12},sm:{span:14}}},l={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:19}}},n=this.state,d=n.name,o=(n.checkCondition,n.description,n.checkDatt,n.queryFieldChineseName,n.fieldChineseName,n.tableChineseName,n.qualityDimension,n.status,n.checkTypeId,n.tableId,n.checkFieldId,n.queryFieldIds,n.checkDatabaseId),f=function(t,a,l){(0,S.checkName)({name:a,id:e.state.id,flag:0}).then(function(e){1!=e?a.length>=30?l("\u540d\u5b57\u8fc7\u957f\uff01"):l():l("\u540d\u5b57\u91cd\u590d")})};return y.default.createElement(i.default,{title:"\u7f16\u8f91\u68c0\u6838\u65b9\u6cd5",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.handleSubmit,onCancel:this.handleCancel},y.default.createElement(_.default,{className:"addOfTable"},y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{span:24},y.default.createElement(w,(0,r.default)({label:"\u540d\u79f0"},l),t("name",{initialValue:d,rules:[{required:!1,message:""},{validator:f}]})(y.default.createElement(C.default,{placeholder:"",onBlur:this.onChangeUserName,onKeyUp:this.nameKeyUp,maxLength:"30"}))))),y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{span:12},y.default.createElement(w,(0,r.default)({label:"\u6570\u636e\u6e90"},a),t("checkDatabaseId",{initialValue:o,rules:[{required:!0,message:"\u6570\u636e\u6e90\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(D.default,{onChange:this.changeCheckDatabaseId},this.state.sourceList.map(function(e,t){return y.default.createElement(q,{value:e.id,key:t},e.sourceName)}))))),y.default.createElement(s.default,{span:12},y.default.createElement(w,(0,r.default)({label:"\u68c0\u6838\u7c7b\u522b"},a),t("checkTypeId",{initialValue:this.state.checkTypeId,rules:[{required:!0,message:"\u68c0\u6838\u7c7b\u522b\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(D.default,{onChange:this.changeForId,onFocus:this.fetchCheckType},this.state.checkTypeData.map(function(e,t){return y.default.createElement(q,{value:e.id,key:t},e.checkName)})))))),y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{span:12},y.default.createElement(w,(0,r.default)({label:"\u68c0\u6838\u8868\u540d"},a),t("tableId",{initialValue:this.state.tableId,rules:[{required:!0,message:"\u68c0\u6838\u8868\u540d\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(E.default,{showSearch:!0,initialValue:this.state.value,dropdownStyle:{maxHeight:400,width:200},placeholder:"",allowClear:!0,treeDefaultExpandAll:!0,dropdownMatchSelectWidth:!1,onChange:this.onChangeTableName,treeNodeFilterProp:"title"},this.props.checkTableName)))),y.default.createElement(s.default,{span:12},y.default.createElement(w,(0,r.default)({label:"\u68c0\u6838\u6570\u636e\u9879"},a),t("checkFieldId",{initialValue:this.state.checkFieldId,rules:[{required:!0,message:"\u68c0\u6838\u6570\u636e\u9879\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(D.default,{onChange:this.handleChanges},this.state.singleDataItems))))),y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{span:24},y.default.createElement(w,(0,r.default)({label:"\u67e5\u8be2\u6570\u636e\u9879"},l),t("queryDataItemss",{})(y.default.createElement(T.default,{checkCount:this.state.singleDataItemsLength,checkMethod:this.state.singleDataItems,selectCheckList:this.state.queryDataItemssChineseName,selectHeight:180,onSelect:function(t){return e.handleSelectCheck(t)},onDelete:function(t){return e.handleDeleteCheck(t)},onSearchList:function(t){return e.handleSearchList(t)}}))))),y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{span:24},y.default.createElement(w,(0,r.default)({label:"\u68c0\u6838\u6761\u4ef6"},l),t("checkCondition",{initialValue:this.state.checkCondition,rules:[{required:!0,message:"\u68c0\u6838\u6761\u4ef6\u4e0d\u80fd\u4e3a\u7a7a"}]})(y.default.createElement(L,{rows:4,disabled:!0}))))),y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{span:24},y.default.createElement(w,(0,r.default)({label:"\u63cf\u8ff0\uff1a"},l),t("description",{initialValue:this.state.description,rules:[{required:!1,message:""}]})(y.default.createElement(L,{rows:4}))))),y.default.createElement(u.default,{gutter:24},y.default.createElement(s.default,{span:24},y.default.createElement(w,(0,r.default)({label:"\u72b6\u6001:"},l),t("status",{initialValue:1==this.state.status?"\u751f\u6548":"\u6302\u8d77",rules:[{required:!0,message:""}]})(y.default.createElement(c.default,{checked:this.state.status,onChange:function(){e.setState({status:!e.state.status})},checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77"})))))))}}]),t}(y.Component),A=_.default.create()((0,I.connect)([{action:N.default.JHLB_Edit,handler:function(e,t){var a=this,l=1==t.status,n=this.generateCheckItemsOptions(t.queryDataItems),i=t.tableId;this.selectQueryData(i);var c=t.queryDataItems,u=[],s=[];M.default.notNull(c)&&c.map(function(e,t){if(e&&e.id){var a=e.id;return u.push(a),s.push({id:e.id,name:e.chineseName})}}),this.setState((0,o.default)({},t,{status:l,checkFields:n,queryDataItemss:u,queryDataItemssChineseName:s,visible:e})),(0,S.getDateDataItems)({id:t.tableId}).then(function(e){var t=[],l=[];e&&e.obj&&(t=e.obj,l=t.map(function(e,t){return y.default.createElement(q,{value:e.dataItemId,key:e.dataItemId,"data-name":e.dataItemName},e.chineseName)}));var n=l.length;a.setState({singleDataItems:l,singleDataItemsLength:n})})}}])(x));t.default=A},nxTF:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("Mosh")),i=n.default.generateActions({JHLB_ADD_METHOD:"JHLB_ADD_METHOD",JHLB_ADD_METHOD_EDIT:"JHLB_ADD_METHOD_EDIT",JHLB_ADD_MODAL:"JHLB_ADD_MODAL",JHLB_ADD_MODAL_DELETE:"JHLB_ADD_MODAL_DELETE",JHLB_ADD_MODAL_DETAILS:"JHLB_ADD_MODAL_DETAILS",JHLB_Edit:"JHLB_Edit",JHLB_Edit_METHODGROUP:"JHLB_Edit_METHODGROUP"});t.default=i},pke7:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.fillDefaultValue=void 0;var n=l(a("Mosh")),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.default.isNull(e)?{}:(Object.keys(e).forEach(function(a){t[a]?e[a]=t[a](e[a]):e[a]=n.default.isNull(e[a])?"":e[a]}),e)};t.fillDefaultValue=i},plYW:function(e,t,a){e.exports={"nav-base":"nav-base___1Qcbv",nav:"nav___1YsC9","nav-collapsed":"nav-collapsed___31vTp",searchBar:"searchBar___3E4OA",header:"header___8_r8U",trigger:"trigger___14Rnr",right:"right___279jM",action:"action___b90wZ",name:"name___1aSlq",globalFooter:"globalFooter___2xMaa",lb_detail_ul:"lb_detail_ul___1wVqO",detailForm:"detailForm___1RlNM","ant-modal-content":"ant-modal-content___15572","ant-btn":"ant-btn___8h-uI"}},r841:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("OaEy");var i=l(a("2fM7"));a("P2fV");var c=l(a("NJEC"));a("Pwec");var u=l(a("CtXQ")),s=l(a("eHn4")),r=l(a("2Taf")),d=l(a("vZ4D")),o=l(a("l4Ni")),f=l(a("ujKo")),h=l(a("MhPg"));a("5NDa");var m=l(a("5rEg"));a("y8nQ");var p=l(a("Vl3Y")),v=n(a("q1tI")),g=l(a("t3Un"));l(a("TSYQ"));a("6zIO"),a("bcsg");var k,E,b,D=a("iIsT"),C=(p.default.Item,m.default.TextArea,m.default.Search),_="",y={value:"id",label:"name"},I=(k=p.default.create(),k((b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,o.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(n))),a.state={rowActive:"-1",searchSelect:[],notData:!1,isShowSearch:!1},a.getCheckMethods=function(){(0,g.default)("/checkMethodGroup/queryAllCheckMethodGroupAndMethod",{}).then(function(e){e&&a.setState({checkMethod:e.result,checkCount:e.count})})},a.onMouseOut=function(e){a.setState({rowActive:"-1"})},a.onSearchList=function(e){console.log(63,e),_=e.target.value;var t=a.state.searchSelect,l=a.props.selectCheckList,n=void 0===l?[]:l,i=[];t.forEach(function(e){i.push(e[y.value])}),_?(a.setState({isShowSearch:!0}),n.forEach(function(l){"-1"!=l[y.label].indexOf(e.target.value)&&i.indexOf(l[y.value])<0&&(t.push(l),a.setState({notData:!1}))}),a.setState({searchSelect:t},function(){})):a.setState({searchSelect:[],notData:!1,isShowSearch:!1})},a.handleSelectCheck=function(e,t){var l,n=(l={},(0,s.default)(l,y.value,e),(0,s.default)(l,y.label,t.props.children),l),i=a.props.selectCheckList,c=[];i&&i.length>0&&i.forEach(function(e){c.push(e[y.value])}),"-1"==c.indexOf(e)&&a.props.onSelect&&a.props.onSelect(n)},a.handleDeleteCheck=function(e){var t=a.state,l=t.searchSelect;t.isShowSearch;a.setState({searchSelect:l.filter(function(t){return t[y.value]!==e})},function(){});var n=a.props.selectCheckList,i=n.filter(function(t){return t[y.value]!==e});a.props.onDelete&&a.props.onDelete(i)},a.getGroupClassify=function(){var e=[],t=[],l="";(0,D.getCheckMethodGroupClassify)().then(function(n){n&&(e=n.obj.notAssociated,l=e.length,t=e.map(function(e,t){return v.default.createElement(Option,{value:e.id,key:e.id},e.name)})),a.setState({classifyItems:t,classifyItemsLength:l}),console.log(91,e)})},a.renderCheckList=function(e){console.log("161\u68c0\u6838\u65b9\u6cd5\uff1a",e);a.state.rowActive;var t=e&&e.length>0?e.map(function(e,t){return v.default.createElement("li",{className:"item",key:t},v.default.createElement("span",{className:"label"},e[y.label]),v.default.createElement(c.default,{title:"\u786e\u5b9a\u5220\u9664\u5417?",onConfirm:function(){return a.handleDeleteCheck(e[y.value])}},v.default.createElement("a",{className:"sunm-icon sunm-delete-icon",title:"\u5220\u9664"},v.default.createElement(u.default,{type:"close-circle-o"}))))}):"";return v.default.createElement("ul",{className:"check-list"},t)},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.getGroupClassify()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectCheckList&&e.selectCheckList.length<=0&&this.setState({isShowSearch:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.selectCheckList,l=void 0===a?[]:a,n=t.checkMethod,c=t.checkCount,u=t.minHeight,s=t.selectHeight,r=this.state,d=r.searchSelect,o=(r.notData,r.isShowSearch);return v.default.createElement("div",{className:"select-check-list"},v.default.createElement("div",{className:"select-left"},v.default.createElement("span",{className:"result"},l.length,"/",c,"\u9879"),v.default.createElement(i.default,{maxHeight:s,option:n,showSearch:!0,placeholder:" ",value:"",onChange:function(t,a){return e.handleSelectCheck(t,a)}},this.props.checkMethod)),v.default.createElement("div",{style:{minHeight:u},className:"select-right"},v.default.createElement("span",{className:"result"},"\u5df2\u9009",l.length,"\u9879"),l.length>0?v.default.createElement("div",{className:"result-cont"},v.default.createElement(C,{onChange:this.onSearchList}),o&&d.length<=0?v.default.createElement("div",{className:"not-data"},"\u65e0\u5339\u914d\u7ed3\u679c"):o?this.renderCheckList(d):this.renderCheckList(l)):""))}}]),t}(v.Component),E=b))||E);t.default=I},sX96:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var i=l(a("wCAj"));a("qVdP");var c=l(a("jsC+"));a("lUTK");var u=l(a("BvKs"));a("+L6B");var s=l(a("2/Rp"));a("14J3");var r=l(a("BMrR"));a("nRaC");var d=l(a("5RzL"));a("jCWc");var o=l(a("kPKH"));a("5NDa");var f=l(a("5rEg"));a("Pwec");var h=l(a("CtXQ"));a("BoS7");var m=l(a("Sdc0")),p=l(a("p0pE"));a("miYZ");var v=l(a("tsqr")),g=l(a("2Taf")),k=l(a("vZ4D")),E=l(a("l4Ni")),b=l(a("ujKo")),D=l(a("rlhR")),C=l(a("MhPg"));a("OaEy");var _=l(a("2fM7"));a("y8nQ");var y,I,N,S,M=l(a("Vl3Y")),T=n(a("q1tI")),w=l(a("TjSs")),q=l(a("2o3r")),L=l(a("E66A")),O=l(a("Z4ss")),x=l(a("1Ze1")),A=l(a("99PG")),F=l(a("Mosh")),P=a("E5h/"),j=l(a("kDOs")),B=a("qxfp"),H=a("iIsT"),V=a("MuoO"),G=a("7DNP"),R=l(a("9d74")),J=l(a("LvDl")),K=a("Jur2"),U=M.default.Item,Z=_.default.Option,Y=(y=(0,V.connect)(),I=M.default.create(),y(N=I((S=function(e){function t(e){var a;return(0,g.default)(this,t),a=(0,E.default)(this,(0,b.default)(t).call(this,e)),a.showLog=function(e){a.props.dispatch(G.routerRedux.push("/dataquality/log/".concat(e.id)))},a.check=function(e){(0,H.checkMethodExecute)({ids:[e.id]}).then(function(t){v.default.success(t.msg),t.success&&a.props.dispatch(G.routerRedux.push("/dataquality/log/".concat(e.id)))})},a.checkBatch=function(e){(0,H.checkMethodExecute)({ids:e}).then(function(e){v.default.success(e.msg)})},a.showModalCheck=function(e){1!=e.status&&((0,P.emit)(j.default.JHLB_Edit,!0,e),a.setState({record:e}))},a.showModalMethodGroup=function(e){var t=(0,p.default)({},e);Array.isArray(t.id)||(t.id=[t.id]),(0,P.emit)(j.default.JHLB_Edit_METHODGROUP,!0,t),a.AddMethodGroup.AddMethodGroup()},a.showModalDetails=function(e){(0,P.emit)(j.default.JHLB_ADD_MODAL_DETAILS,!0,e)},a.fetchData=function(){var e=a.state,t=e.pageNum,l=e.orderBy,n=e.order;a.setState({loading:!0});var i={flag:1,name:a.state.name,status:a.state.status,pageNum:t,pageSize:10,checkFieldId:a.state.checkFieldId,qualityDimension:a.state.qualityDimension,tableId:a.state.tableId,fieldChineseName:a.state.checkFieldId};l.length&&(i.orderColumn=l),n.length&&(i.orderBy=n),(0,H.getChecklistByPage)(i).then(function(e){if(e){var t=e.obj;a.handlerData(t)}}).finally(function(){a.setState({loading:!1})})},a.onSwitchChange=function(e,t){var l=e?H.getCheckMethodIsAble:H.getCheckMethodHangUp;l({id:t,flag:1}).then(function(e){e.success?v.default.success(e.msg):v.default.error(e.msg),a.fetchData()})},a.handleExport=function(){var e=a.state,t=e.name,l=(e.tableId,e.checkFieldId,e.checkTypeId,e.qualityDimensionCode,e.status),n="".concat(B.BASE_URL,"/checkMethod/export").concat(F.default.objectToChain({name:void 0==t?"":t,status:void 0==l?"":l,flag:1,token:(0,B.TOKEN)()}));window.location.href=n},a.handleTableChange=function(e,t,l){var n=l.field?J.default.snakeCase(l.field):"",i="";"descend"===l.order?i="desc":"ascend"===l.order&&(i="asc"),a.setState({pageNum:e.current,orderBy:n,order:i},function(){a.fetchData()})},a.onChange=function(e){a.setState({value:e})},a.showModal=function(){(0,P.emit)(j.default.JHLB_ADD_MODAL,!0)},a.handleSearch=function(e){e&&e.preventDefault(),a.props.form.validateFields(function(e,t){a.setState({name:t.name,status:t.status,pageNum:1,checkFieldId:t.checkFieldId,qualityDimension:t.qualityDimension,tableId:t.tableId},function(){a.fetchData()})})},a.handleReset=function(){a.props.form.resetFields(),a.handleSearch()},a.toggle=function(){var e=a.state.expand;a.setState({expand:!e})},a.getChildData=function(e){(0,H.getCheckMethod)({checkCondition:e.checkCondition,checkDatabaseId:e.checkDatabaseId,checkFieldId:e.checkFieldId,checkTypeId:e.checkTypeId,description:e.description,name:e.name,queryFieldIds:e.queryFieldIds,status:e.status,tableId:e.tableId,checkSqlContent:e.checkSqlContent,flag:1}).then(function(e){e.success?v.default.success(e.msg):v.default.error(e.msg),a.fetchData()})},a.getChildData2=function(e){e.status=(e.status,1);var t=e.queryDataItemss,l=0==e.newStatus?2:1,n=[];t&&t.map(function(e,t){return n.push(e.id)}),t=n.join(),(0,H.getCheckTaskUpdate)({flag:1,id:e.id,tableId:e.tableId,checkTypeId:e.checkTypeId,checkFieldId:e.checkFieldId,queryFieldIds:t,checkCondition:e.checkCondition,description:e.description||"",checkDatabaseId:e.checkDatabaseId,status:l,checkSqlContent:e.checkSqlContent,name:e.name}).then(function(e){e.success?v.default.success(e.msg):v.default.error(e.msg),a.fetchData()})},a.getResult=function(e){e.obj.fileName,e.obj.checkMethodTotal,e.obj.checkMethodErrorNum,a.setState({fileName:e.obj.fileName,checkMethodTotal:e.obj.checkMethodTotal,checkMethodErrorNum:e.obj.checkMethodErrorNum})},a.getErrorHtml=function(){return T.default.createElement("div",null,T.default.createElement("div",{style:{marginBottom:"8px"}}," \u6587\u4ef6\u540d:",a.state.fileName),T.default.createElement("div",{style:{marginBottom:"8px"}},"\u68c0\u6838\u65b9\u6cd5\u603b\u6570:",a.state.checkMethodTotal),T.default.createElement("div",{style:{marginBottom:"8px"}},"\u68c0\u6838\u65b9\u6cd5\u9519\u8bef\u6570:",a.state.checkMethodErrorNum))},a.handleDown=function(){window.location.href="".concat(B.BASE_URL,"/checkMethod/downloadTemplate?flag=1&token=").concat((0,B.TOKEN)())},a.onRef=function(e){a.AddMethodGroup=e},a.onChangeTableName=function(e){(0,H.getDateDataItems)({id:e}).then(function(e){var t=[],l=[];e&&e.obj&&(t=e.obj,l=t.map(function(e,t){return T.default.createElement(Z,{value:e.dataItemId,key:e.dataItemId},e.chineseName)})),a.setState({singleDataItems:l})})},a.fetchTableNamess=function(){(0,H.getCatagory)().then(function(e){if(e&&e.obj){var t=(0,K.generateCheckTableName)(e.obj);a.setState({checkTableName:t})}})},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.action=[{text:"\u8bbe\u7f6e\u9009\u4e2d\u7684\u6570\u636e\u72b6\u6001\u4e3a\u751f\u6548",click:function(e){var t=a.state.selectedRowKeys;t.length?a.onSwitchChange(!0,t):v.default.warn("\u4f60\u8fd8\u6ca1\u9009\u62e9\u8981\u6267\u884c\u7684\u6570\u636e")}},{text:"\u8bbe\u7f6e\u9009\u4e2d\u7684\u6570\u636e\u72b6\u6001\u4e3a\u6302\u8d77",click:function(e){var t=a.state.selectedRowKeys;t.length?a.onSwitchChange(!1,t):v.default.warn("\u4f60\u8fd8\u6ca1\u9009\u62e9\u8981\u6267\u884c\u7684\u6570\u636e")}},{text:"\u5bf9\u9009\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u68c0\u6838",click:function(e){var t=a.state.selectedRowKeys;t.length?a.checkBatch(t):v.default.warn("\u4f60\u8fd8\u6ca1\u9009\u62e9\u8981\u6267\u884c\u7684\u6570\u636e")}},{text:"\u5bf9\u9009\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u5173\u8054\u68c0\u6838\u65b9\u6cd5\u7ec4",click:function(){var e=a.state.selectedRowKeys;e.length?a.showModalMethodGroup({id:a.state.selectedRowKeys}):v.default.warn("\u4f60\u8fd8\u6ca1\u9009\u62e9\u8981\u6267\u884c\u7684\u6570\u636e")}}],a.state={value:void 0,expand:!1,dataMap:[],total:0,pageNum:1,orderBy:"",order:"",loading:!1,checkName:"",createTime:"",checkTypeName:"",tableChineseName:"",fieldChineseName:"",queryFieldChineseName:"",qualityDimension:"",description:"",name:"",parent1:"",singleDataItems:[],checkTableName:[],selectedRowKeys:[],record:{}},a.columns=[{key:"name",title:"\u68c0\u6838\u811a\u672c\u540d",dataIndex:"name",sorter:!0,render:function(e,t){return T.default.createElement("span",{title:e,className:"colsql",style:{color:"#1890ff",cursor:"pointer"},onClick:function(){return a.showModalDetails(t)}},e)}},{key:"tableChineseName",title:"\u68c0\u6838\u8868\u540d",dataIndex:"tableChineseName",sorter:!0,render:function(e){return T.default.createElement("span",{title:e,className:"colsql"},e)}},{key:"fieldChineseName",title:"\u68c0\u6838\u6570\u636e\u9879",dataIndex:"fieldChineseName",sorter:!0,render:function(e){return T.default.createElement("span",{title:e,className:"colsql"},e)}},{key:"queryFieldChineseName",title:"\u67e5\u8be2\u6570\u636e\u9879",dataIndex:"queryFieldChineseName",render:function(e){return T.default.createElement("span",{title:e,className:"colsql"},e)}},{key:"checkSqlContent",title:"\u68c0\u6838\u811a\u672c",dataIndex:"checkSqlContent",render:function(e){return T.default.createElement("span",{title:e,className:"colsql"},e)}},{key:"checkMethodGroupName",title:"\u68c0\u6838\u65b9\u6cd5\u7ec4",dataIndex:"checkMethodGroupName",render:function(e){return T.default.createElement("span",{title:e,className:"colsql"},e)}},{key:"status",title:"\u72b6\u6001",dataIndex:"status",render:function(e,t){return T.default.createElement(m.default,{checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77",checked:!/^0|2$/.test(t.status),onChange:function(e){a.onSwitchChange(e,[t.id])}})}},{title:"\u64cd\u4f5c",dataIndex:"operate",key:"operate",render:function(e,t){return T.default.createElement("div",{style:{display:"flex"}},T.default.createElement(h.default,{type:"form",className:1==t.status?"qu_icon_write2":"qu_icon_write",onClick:a.showModalCheck.bind((0,D.default)(a),t),title:"\u7f16\u8f91"}),T.default.createElement(h.default,{type:"export",className:"qu_icon_write",onClick:a.showModalMethodGroup.bind((0,D.default)(a),t),title:"\u6dfb\u52a0\u5230\u65b9\u6cd5\u7ec4"}),/^0|2$/.test(t.status)?T.default.createElement(q.default,{deleteData:t,data:a.state.data,fetchData:a.fetchData}):"",T.default.createElement(h.default,{type:"file",className:"qu_icon_write",onClick:a.showLog.bind((0,D.default)(a),t),title:"\u67e5\u770b\u65e5\u5fd7"}),T.default.createElement(h.default,{type:"play-circle",className:"qu_icon_write",onClick:a.check.bind((0,D.default)(a),t),title:"\u6267\u884c"}))}}],a}return(0,C.default)(t,e),(0,k.default)(t,[{key:"componentDidMount",value:function(){this.fetchData(),this.fetchTableNamess()}},{key:"handlerData",value:function(e){var t=e.total,a=e.list,l=a.map(function(e){return(0,p.default)({key:e.id},e)});this.setState({data:l,total:t})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,l=(a.visible,a.total),n=a.pageNum,h=(a.data,a.loading),m=a.selectedRowKeys,p={selectedRowKeys:m,onChange:this.onSelectChange,hideDefaultSelections:!0,selections:this.action.map(function(e){return{text:e.text,onSelect:e.click}}),onSelection:this.onSelection};return T.default.createElement("div",{className:"layOut"},T.default.createElement("div",null,T.default.createElement(M.default,{className:"ant-advanced-search-form",onSubmit:this.handleSearch},T.default.createElement(r.default,{gutter:24},T.default.createElement(o.default,{span:6},T.default.createElement(U,{label:"\u811a\u672c\u540d\u79f0"},t("name",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u811a\u672c\u540d\u79f0"}]})(T.default.createElement(f.default,{placeholder:"\u8bf7\u8f93\u5165\u811a\u672c\u540d\u79f0"})))),T.default.createElement(o.default,{span:6},T.default.createElement(U,{label:"\u68c0\u6838\u8868\u540d"},t("tableId",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u68c0\u6838\u8868\u540d!"}]})(T.default.createElement(d.default,{showSearch:!0,dropdownStyle:{maxHeight:400,width:200},placeholder:"\u8bf7\u9009\u62e9\u68c0\u6838\u8868\u540d",allowClear:!0,treeDefaultExpandAll:!0,dropdownMatchSelectWidth:!1,treeNodeFilterProp:"title",onChange:this.onChangeTableName},this.state.checkTableName)))),T.default.createElement(o.default,{span:6},T.default.createElement(U,{label:"\u68c0\u6838\u6570\u636e\u9879"},t("checkFieldId",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u68c0\u6838\u6570\u636e\u9879!"}]})(T.default.createElement(_.default,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u68c0\u6838\u6570\u636e\u9879",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.singleDataItems))))),T.default.createElement(r.default,{gutter:24},T.default.createElement(o.default,{span:6},T.default.createElement(U,{label:"\u8d28\u91cf\u7ef4\u5ea6"},t("qualityDimension",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u8d28\u91cf\u7ef4\u5ea6!"}]})(T.default.createElement(_.default,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u8d28\u91cf\u7ef4\u5ea6",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},T.default.createElement(Z,{value:"1"},"\u552f\u4e00\u6027"),T.default.createElement(Z,{value:"2"},"\u5b8c\u6574\u6027"),T.default.createElement(Z,{value:"3"},"\u51c6\u786e\u6027"),T.default.createElement(Z,{value:"4"},"\u4e00\u81f4\u6027"))))),T.default.createElement(o.default,{span:6},T.default.createElement(U,{label:"\u68c0\u6838\u72b6\u6001"},t("status",{rules:[{required:!1,message:"Input something!"}]})(T.default.createElement(_.default,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u68c0\u6838\u72b6\u6001",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},T.default.createElement(Z,{value:"1"},"\u751f\u6548"),T.default.createElement(Z,{value:"2"},"\u6302\u8d77"))))),T.default.createElement(o.default,{span:2},T.default.createElement(s.default,{type:"primary",htmlType:"submit",style:{marginLeft:"5px"}},"\u641c\u7d22")),T.default.createElement(o.default,{span:2},T.default.createElement(s.default,{type:"primary",htmlType:"submit",onClick:this.handleReset},"\u91cd\u7f6e"))))),T.default.createElement("div",{className:R.default.check_method_table},T.default.createElement("div",{style:{display:"flex",marginTop:"5px",marginBottom:"5px"}},T.default.createElement("div",{className:"qu_third_button",style:{display:"flex"}},T.default.createElement(s.default,{icon:"plus",onClick:this.showModal,style:{margin:"0 10px"}},"\u65b0\u589e"),T.default.createElement(w.default,{visible:this.state.visible,getChildData:this.getChildData}),T.default.createElement(A.default,{getResult:function(t){return e.getResult(t)},errorFile:this.state.fileName,content:this.getErrorHtml(),url:"/checkScriptImport/import",uploadErrorUrl:"/checkMethod/downExceptionExcel?fileName="+this.state.fileName})),T.default.createElement(s.default,{type:"button",icon:"export",className:"qu_method_export",style:{margin:"0 10px"},onClick:this.handleExport},"\u5bfc\u51fa"),T.default.createElement(s.default,{type:"button",icon:"download",className:"qu_method_export",style:{margin:"0 10px"},onClick:this.handleDown},"\u4e0b\u8f7d\u6a21\u677f"),T.default.createElement(c.default,{overlay:T.default.createElement(u.default,null,this.action.map(function(e,t){return T.default.createElement(u.default.Item,{onClick:e.click,key:t},e.text)}))},T.default.createElement(s.default,{style:{marginLeft:10}},"\u6279\u91cf\u64cd\u4f5c"))),T.default.createElement(i.default,{rowSelection:p,loading:h,onChange:this.handleTableChange,columns:this.columns,dataSource:this.state.data,className:"tableLine",pagination:{pageSize:10,total:l,current:n}}),T.default.createElement(L.default,{visible:this.state.visible,getChildData:this.getChildData2,fetchData:this.fetchData,record:this.state.record}),T.default.createElement(O.default,{onRef:this.onRef,fetchData:this.fetchData}),T.default.createElement(x.default,null)))}}]),t}(T.Component),N=S))||N)||N);t.default=Y},sfKW:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var i=l(a("wCAj"));a("14J3");var c=l(a("BMrR"));a("+L6B");var u=l(a("2/Rp"));a("jCWc");var s=l(a("kPKH"));a("5NDa");var r=l(a("5rEg"));a("Pwec");var d=l(a("CtXQ"));a("BoS7");var o=l(a("Sdc0")),f=l(a("p0pE"));a("miYZ");var h=l(a("tsqr")),m=l(a("2Taf")),p=l(a("vZ4D")),v=l(a("l4Ni")),g=l(a("ujKo")),k=l(a("rlhR")),E=l(a("MhPg"));a("y8nQ");var b=l(a("Vl3Y"));a("OaEy");var D,C,_,y=l(a("2fM7")),I=n(a("q1tI")),N=l(a("Mosh")),S=a("E5h/"),M=a("iIsT"),T=l(a("LvDl")),w=l(a("nxTF")),q=l(a("IA11")),L=l(a("Jb7b")),O=l(a("3CN9")),x=a("qxfp"),A=l(a("OjAG")),F=l(a("DRqg")),P=y.default.Option,j=b.default.Item,B={1:"\u5e74",2:"\u6708",3:"\u5468",4:"\u65e5",5:"\u65f6"},H=(D=b.default.create(),D((_=function(e){function t(e){var a;return(0,m.default)(this,t),a=(0,v.default)(this,(0,g.default)(t).call(this,e)),a.showModalMethodGroup=function(e){(0,S.emit)(w.default.JHLB_Edit_METHODGROUP,!0,e),a.AddMethodGroup.selectGroup()},a.showModalDetails=function(e){(0,S.emit)(w.default.JHLB_ADD_MODAL_DETAILS,!0,e)},a.onSwitchChange=function(e,t){0==e&&(0,M.getCheckTaskHangUp)({id:t.key}).then(function(e){e.success?h.default.success(e.msg):h.default.error(e.msg),a.fetchData()}),1==e&&(0,M.getCheckTakeEffect)({id:t.key}).then(function(e){e.success?h.default.success(e.msg):h.default.error(e.msg),a.fetchData()})},a.fetchData=function(){var e=a.state,t=e.checkName,l=e.status,n=e.checkCycle,i=e.pageNum,c=e.orderObj;a.setState({loading:!0}),(0,M.getCheckTaskList)({checkName:t,status:l,checkCycle:n,pageNum:i,pageSize:10,orderBy:c.orderBy,order:c.order}).then(function(e){if(e){var t=e.obj;a.handlerData(t)}a.setState({loading:!1})})},a.forsearch=function(){a.fetchData()},a.onChange=function(e){a.setState({value:e})},a.handleSearch=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){a.setState({checkName:t.checkName,status:t.status,checkCycle:t.checkCycle,pageNum:1},function(){a.forsearch()})})},a.handleReset=function(){a.props.form.resetFields()},a.toggle=function(){var e=a.state.expand;a.setState({expand:!e})},a.forsearch=function(){a.fetchData()},a.handleExport=function(){var e=a.state,t=e.checkName,l=e.checkCycle,n=e.status,i="".concat(x.BASE_URL,"/checkTask/exportExcelScript").concat(N.default.objectToChain({checkName:void 0==t?"":t,status:void 0==n?"":n,checkCycle:void 0==l?"":l,token:(0,x.TOKEN)()}));window.location.href=i},a.handleTableChange=function(e,t,l){var n=l.field?T.default.snakeCase(l.field):"",i="";"descend"===l.order?i="desc":"ascend"===l.order&&(i="asc"),a.setState({pageNum:e.current,orderObj:{orderBy:n,order:i}},function(){a.fetchData()})},a.onRef=function(e){a.AddMethodGroup=e},a.openSetModal=function(e){a.setState({setModalData:e})},a.closeSetModal=function(e){if(a.setState({setModalData:{}}),1===e){var t=a.props.dataRelationship.dataCollection.params;a.props.dispatch({type:"dataRelationship/getDataCollectionPageList",payload:t})}},a.submitSetData=function(e){var t=e.id?M.getCheckTaskdUpdates:M.getCheckTaskSave;t(e).then(function(e){e.success?(h.default.success(e.msg),a.fetchData(),a.closeSetModal()):e&&h.default.error(e.msg)})},a.state={value:void 0,expand:!1,dataMap:[],total:0,pageNum:1,orderObj:{orderBy:"",order:""},loading:!1,createTime:"",checkTypeName:"",tableChineseName:"",fieldChineseName:"",queryFieldChineseName:"",qualityDimension:"",description:"",name:"",checkName:"",status:"",checkCycle:"",setModalData:{}},a.columns=[{key:"checkName",title:"\u540d\u79f0",dataIndex:"checkName",sorter:!0,width:"10%",render:function(e,t){return I.default.createElement("span",{title:e,style:{color:"#1890ff",cursor:"pointer",paddingLeft:"0.5em"},onClick:a.openSetModal.bind((0,k.default)(a),(0,f.default)({},t,{type:"view"}))},e)}},{key:"checkPlan",title:"\u68c0\u6838\u8ba1\u5212",dataIndex:"checkPlan",sorter:!0,width:"15%",render:function(e){return I.default.createElement("span",{title:e},e)}},{key:"describe",title:"\u63cf\u8ff0",dataIndex:"describe",width:"15%",render:function(e){return I.default.createElement("span",{title:e},e)}},{key:"checkCycle",title:"\u68c0\u6838\u5468\u671f",dataIndex:"checkCycle",sorter:!0,width:"10%",render:function(e){return B[e]}},{key:"countMethod",title:"\u68c0\u6838\u65b9\u6cd5\u6570",dataIndex:"countMethod",sorter:!0,width:"10%"},{key:"status",title:"\u72b6\u6001",dataIndex:"status",width:"10%",render:function(e,t){return I.default.createElement(o.default,{checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77",checked:!/^0|2$/.test(t.status),onChange:function(e){a.onSwitchChange(e,t)}})}},{title:"\u751f\u6548\u65f6\u95f4",dataIndex:"entryTime",key:"entryTime",sorter:!0,width:"10%"},{title:"\u5931\u6548\u65f6\u95f4",dataIndex:"failureTime",key:"failureTime",sorter:!0,width:"10%"},{title:"\u64cd\u4f5c",dataIndex:"operate",key:"operate",width:"10%",render:function(e,t){return I.default.createElement("div",{style:{display:"flex"}},1!==t.status&&I.default.createElement(d.default,{type:"form",className:"qu_icon_write",onClick:a.openSetModal.bind((0,k.default)(a),(0,f.default)({},t,{type:"edit"})),title:"\u7f16\u8f91"}),I.default.createElement(d.default,{type:"export",className:"qu_icon_write",onClick:function(){return a.showModalMethodGroup(t)},title:"\u6dfb\u52a0\u5230\u65b9\u6cd5\u7ec4"}),/^0|2$/.test(t.status)?I.default.createElement(q.default,{deleteData:t,data:a.state.data,fetchData:a.fetchData}):"")}}],a}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"handlerData",value:function(e){var t=e.total,a=e.list,l=a.map(function(e){return(0,f.default)({key:e.id},e)});this.setState({data:l,total:t,checkTypeName:l.checkTypeName,tableChineseName:l.tableChineseName,fieldChineseName:l.fieldChineseName,queryFieldChineseName:l.queryFieldChineseName,qualityDimension:l.qualityDimension,description:l.description})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.total,l=t.pageNum,n=t.setModalData,d=t.loading;return I.default.createElement("div",{className:"layOut"},I.default.createElement("div",null,I.default.createElement(b.default,{className:"ant-advanced-search-form",onSubmit:this.handleSearch},I.default.createElement(c.default,{gutter:24},I.default.createElement(s.default,{span:6},I.default.createElement(j,{label:"\u540d\u79f0"},e("checkName",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u540d\u79f0!"}]})(I.default.createElement(r.default,{placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0"})))),I.default.createElement(s.default,{span:6},I.default.createElement(j,{label:"\u72b6\u6001"},e("status",{rules:[{required:!1,message:"Input something!"}]})(I.default.createElement(y.default,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u72b6\u6001",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},I.default.createElement(P,{value:"1"},"\u751f\u6548"),I.default.createElement(P,{value:"2"},"\u6302\u8d77"))))),I.default.createElement(s.default,{span:6},I.default.createElement(j,{label:"\u68c0\u6838\u5468\u671f"},e("checkCycle",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u68c0\u6838\u5468\u671f!"}]})(I.default.createElement(y.default,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u68c0\u6838\u5468\u671f",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},I.default.createElement(P,{value:"\u79d2"},"\u79d2"),I.default.createElement(P,{value:"\u5206"},"\u5206"),I.default.createElement(P,{value:"\u65f6"},"\u65f6"),I.default.createElement(P,{value:"\u65e5"},"\u65e5"),I.default.createElement(P,{value:"\u5468"},"\u5468"),I.default.createElement(P,{value:"\u6708"},"\u6708"),I.default.createElement(P,{value:"\u5b63\u5ea6"},"\u5b63\u5ea6"),I.default.createElement(P,{value:"\u5e74"},"\u5e74"))))),I.default.createElement(s.default,{span:2},I.default.createElement(u.default,{type:"primary",htmlType:"submit"},"\u641c\u7d22")),I.default.createElement(s.default,{span:2},I.default.createElement(u.default,{type:"primary",htmlType:"submit",onClick:this.handleReset},"\u91cd\u7f6e"))))),I.default.createElement("div",{className:A.default.check_method_table},I.default.createElement("div",{style:{display:"flex",marginTop:"10px",marginBottom:"10px"}},I.default.createElement("div",{className:"qu_third_button",style:{display:"flex"}},I.default.createElement(u.default,{icon:"plus",onClick:this.openSetModal.bind(this,{type:"add"}),style:{margin:"0 10px"}},"\u65b0\u589e")),I.default.createElement(u.default,{type:"button",icon:"export",onClick:this.handleExport},I.default.createElement("span",null,"\u5bfc\u51fa"))),I.default.createElement(i.default,{columns:this.columns,dataSource:this.state.data,className:"tableLine",loading:d,onChange:this.handleTableChange,pagination:{pageSize:10,total:a,current:l}}),I.default.createElement(L.default,{fetchData:this.fetchData,onRef:this.onRef}),I.default.createElement(O.default,null),I.default.createElement(F.default,{data:n,closeSetModal:this.closeSetModal,submit:this.submitSetData})))}}]),t}(I.Component),C=_))||C);t.default=H},vUNB:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV"));a("BoS7");var c=n(a("Sdc0")),u=n(a("jehZ")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg"));a("Znn+");var h=n(a("ZTPi"));a("OaEy");var m=n(a("2fM7"));a("5NDa");var p=n(a("5rEg"));a("y8nQ");var v=n(a("Vl3Y")),g=l(a("q1tI")),k=a("E5h/"),E=n(a("JHpU")),b=a("iIsT"),D=v.default.Item,C=(p.default.Group,m.default.Option),_=(h.default.TabPane,p.default.TextArea),y=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,d.default)(this,(0,o.default)(t).call(this,e)),a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1}),a.props.form.resetFields()},a.handleSubmit=function(e){a.props.form.validateFields(function(e,t){e||(t.status=t.status?1:2,a.setState({visible:!1},function(){a.props.getChildData(t),a.props.form.resetFields()}))})},a.state={visible:!1,formLayout:"horizontal",disabled:!1},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.formLayout,a="horizontal"===t?{labelCol:{span:4},wrapperCol:{span:14}}:null,l=function(e,t,a){(0,b.checkTypeCheckName)({checkTypeName:t}).then(function(e){1!=e?t&&t.length>=30?a("\u540d\u5b57\u8fc7\u957f!"):a():a("\u540d\u5b57\u91cd\u590d!")})};return g.default.createElement(i.default,{title:"\u65b0\u589e\u68c0\u6838\u7c7b\u522b",visible:this.state.visible,okText:"\u4fdd\u5b58",onOk:this.handleSubmit,onCancel:this.handleCancel},g.default.createElement(v.default,null,g.default.createElement(D,(0,u.default)({label:"\u540d\u79f0"},a),e("checkName",{rules:[{required:!0,message:"\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"},{validator:l}]})(g.default.createElement(p.default,{placeholder:"",onBlur:this.onChangeUserName,onKeyUp:this.nameKeyUp,maxLength:"30"}))),g.default.createElement(D,(0,u.default)({label:"\u8d28\u91cf\u7ef4\u5ea6"},a),e("qualityDimension",{rules:[{required:!0,message:"\u8d28\u91cf\u7ef4\u5ea6\u4e0d\u80fd\u4e3a\u7a7a"}]})(g.default.createElement(m.default,{style:{width:"100%"}},g.default.createElement(C,{value:"1"},"\u552f\u4e00\u6027"),g.default.createElement(C,{value:"2"},"\u5b8c\u6574\u6027"),g.default.createElement(C,{value:"3"},"\u51c6\u786e\u6027"),g.default.createElement(C,{value:"4"},"\u4e00\u81f4\u6027")))),g.default.createElement(D,(0,u.default)({label:"\u68c0\u6838\u6761\u4ef6"},a),e("checkCondition",{rules:[{required:!0,message:"\u68c0\u6838\u6761\u4ef6\u4e0d\u80fd\u4e3a\u7a7a"}]})(g.default.createElement(_,{rows:4}))),g.default.createElement(D,(0,u.default)({label:"\u63cf\u8ff0\uff1a"},a),e("description",{rules:[{required:!1,message:""}]})(g.default.createElement(_,{rows:4}))),g.default.createElement(D,(0,u.default)({label:"\u72b6\u6001:"},a),e("status",{valuePropName:"checked",initialValue:!0,rules:[{required:!0,message:""}]})(g.default.createElement(c.default,{checkedChildren:"\u751f\u6548",unCheckedChildren:"\u6302\u8d77"})))))}}]),t}(g.Component),I=v.default.create()((0,k.connect)([{action:E.default.JHLB_ADD_MODAL,handler:function(e){this.setState({visible:e})}}])(y));t.default=I},vn9i:function(e,t,a){e.exports={"nav-base":"nav-base___I1t_s",nav:"nav___2t180","nav-collapsed":"nav-collapsed___2w3e0",searchBar:"searchBar___1969c",header:"header___3q1mN",trigger:"trigger___1NW-w",right:"right___32y_n",action:"action___ezN2S",name:"name___2a5vS",globalFooter:"globalFooter___3uDn4"}},vzh6:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("Mosh")),i=n.default.generateActions({JHLB_ADD_METHOD:"JHLB_ADD_METHOD",JHLB_ADD_METHOD_EDIT:"JHLB_ADD_METHOD_EDIT",JHLB_ADD_MODAL:"JHLB_ADD_MODAL",JHLB_ADD_MODAL_DELETE:"JHLB_ADD_MODAL_DELETE",JHLB_ADD_MODAL_DETAILS:"JHLB_ADD_MODAL_DETAILS",JHLB_Edit:"JHLB_Edit",JHLB_Edit_METHODGROUP:"JHLB_Edit_METHODGROUP"});t.default=i},wAOY:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("p0pE"));a("2qtc");var c=n(a("kLXV"));a("+L6B");var u=n(a("2/Rp")),s=n(a("2Taf")),r=n(a("vZ4D")),d=n(a("l4Ni")),o=n(a("ujKo")),f=n(a("MhPg"));a("Znn+");var h=n(a("ZTPi"));a("OaEy");var m=n(a("2fM7"));a("5NDa");var p=n(a("5rEg"));a("y8nQ");var v=n(a("Vl3Y")),g=l(a("q1tI"));a("TpwP");var k=a("E5h/"),E=n(a("vzh6")),b=a("iIsT"),D=a("ATBY"),C=v.default.Item,_=(p.default.Group,m.default.Option,h.default.TabPane,p.default.TextArea,function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,d.default)(this,(0,o.default)(t).call(this,e)),a.handleCancel=function(){a.setState({visible:!1})},a.state={visible:!1},a}return(0,f.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=(this.props.form.getFieldDecorator,this.state),a=t.fromDepartment,l=t.fromSystem,n=t.name,i=t.qualityDimension,s=t.description,r=t.fieldChineseName,d=t.checkCondition,o=t.tableChineseName;return g.default.createElement(v.default,{onSubmit:this.handleSubmit,className:D.detailForm},g.default.createElement(C,null,g.default.createElement(c.default,{title:"\u68c0\u6838\u65b9\u6cd5\u8be6\u60c5",visible:this.state.visible,okText:"\u5173\u95ed",onOk:this.handleOk,onCancel:this.handleCancel,cancelText:null,footer:null},g.default.createElement("ul",{className:D.lb_detail_ul},g.default.createElement("li",null,"\u540d\u79f0\uff1a",n),g.default.createElement("li",null,"\u8d28\u91cf\u7ef4\u5ea6\uff1a",i),g.default.createElement("li",null,"\u63cf\u8ff0\uff1a",s),g.default.createElement("li",null,"\u68c0\u6838\u6570\u636e\u9879: ",r),g.default.createElement("li",null,"\u68c0\u6838\u6761\u4ef6\uff1a",d),g.default.createElement("li",null,"\u68c0\u6838\u8868\u540d\uff1a",o),g.default.createElement("li",null,"\u7cfb\u7edf\u6765\u6e90\uff1a",l),g.default.createElement("li",null,"\u6e90\u90e8\u95e8\uff1a",a)),g.default.createElement(u.default,{type:"primary",style:{left:"47%"},onClick:function(){e.setState({visible:!1})}},"\u5173\u95ed"))))}}]),t}(g.Component)),y=v.default.create()((0,k.connect)([{action:E.default.JHLB_ADD_MODAL_DETAILS,handler:function(e,t){var a,l=this,n=t.id;this.setState({visible:e}),(0,b.checkMethodFindById)({id:n}).then(function(e){e&&(a=e.obj,l.setState((0,i.default)({},a)))})}}])(_));t.default=y},xbAT:function(e,t,a){e.exports={"nav-base":"nav-base___hpk__",nav:"nav___2zkFP","nav-collapsed":"nav-collapsed___27jfK",searchBar:"searchBar___1qBZZ",header:"header___1PO3_",trigger:"trigger___2u5Ib",right:"right___riN9l",action:"action___31G-H",name:"name___2wAdg",globalFooter:"globalFooter___3TWEl",layOut:"layOut___2fn1b","example-input":"example-input___2jxD5","ant-input":"ant-input___3zIAN",ul1Style:"ul1Style___Hrc0c",qu_third_button:"qu_third_button___29kHb",check_method_table:"check_method_table___1AWg7"}}}]);